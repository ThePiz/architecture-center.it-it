---
title: Elenco di controllo per la resilienza
description: Elenco di controllo in cui vengono fornite le linee guida per gestire l'aspetto della resilienza durante la progettazione.
author: petertaylor9999
ms.date: 01/10/2018
ms.custom: resiliency, checklist
ms.openlocfilehash: 66ff802c1f7b35db147ffe4279982c827570c3c1
ms.sourcegitcommit: 3d6dba524cc7661740bdbaf43870de7728d60a01
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 01/11/2018
---
# <a name="resiliency-checklist"></a><span data-ttu-id="231ac-103">Elenco di controllo per la resilienza</span><span class="sxs-lookup"><span data-stu-id="231ac-103">Resiliency checklist</span></span>

<span data-ttu-id="231ac-104">La resilienza è la capacità di un sistema di recuperare in caso di errore e continuare a funzionare ed è uno dei [punti chiave della qualità del software](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="231ac-104">Resiliency is the ability of a system to recover from failures and continue to function, and is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="231ac-105">La progettazione di un'applicazione resiliente richiede la pianificazione e la prevenzione di un'ampia gamma di possibili modalità di errore.</span><span class="sxs-lookup"><span data-stu-id="231ac-105">Designing your application for resiliency requires planning for and mitigating a variety of failure modes that could occur.</span></span> <span data-ttu-id="231ac-106">Usare questo elenco di controllo per esaminare l'architettura delle applicazioni in relazione alla resilienza.</span><span class="sxs-lookup"><span data-stu-id="231ac-106">Use this checklist to review your application architecture from a resiliency standpoint.</span></span> 

## <a name="requirements"></a><span data-ttu-id="231ac-107">Requisiti</span><span class="sxs-lookup"><span data-stu-id="231ac-107">Requirements</span></span>

<span data-ttu-id="231ac-108">**Definire i requisiti di disponibilità del cliente.**</span><span class="sxs-lookup"><span data-stu-id="231ac-108">**Define your customer's availability requirements.**</span></span> <span data-ttu-id="231ac-109">Il cliente ha sicuramente la necessità di soddisfare alcuni requisiti di disponibilità per i componenti dell'applicazione e ciò influisce sulla progettazione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-109">Your customer will have availability requirements for the components in your application and this will affect your application's design.</span></span> <span data-ttu-id="231ac-110">È quindi necessario concordare con il cliente gli obiettivi di disponibilità di ogni parte dell'applicazione. In caso contrario, il progetto potrebbe non soddisfare le aspettative del cliente.</span><span class="sxs-lookup"><span data-stu-id="231ac-110">Get agreement from your customer for the availability targets of each piece of your application, otherwise your design may not meet the customer's expectations.</span></span> <span data-ttu-id="231ac-111">Per altre informazioni, vedere [Definizione dei requisiti di resilienza](../resiliency/index.md#defining-your-resiliency-requirements).</span><span class="sxs-lookup"><span data-stu-id="231ac-111">For more information, see [Defining your resiliency requirements](../resiliency/index.md#defining-your-resiliency-requirements).</span></span>

## <a name="application-design"></a><span data-ttu-id="231ac-112">Progettazione di applicazioni</span><span class="sxs-lookup"><span data-stu-id="231ac-112">Application Design</span></span>

<span data-ttu-id="231ac-113">**Eseguire un'analisi delle modalità di errore per l'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-113">**Perform a failure mode analysis (FMA) for your application.**</span></span> <span data-ttu-id="231ac-114">L'analisi delle modalità di errore è un processo che consente di integrare la resilienza in un'applicazione nelle prime fasi di progettazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-114">FMA is a process for building resiliency into an application early in the design stage.</span></span> <span data-ttu-id="231ac-115">Per altre informazioni, vedere [Analisi della modalità di errore][fma].</span><span class="sxs-lookup"><span data-stu-id="231ac-115">For more information, see [Failure mode analysis][fma].</span></span> <span data-ttu-id="231ac-116">Gli obiettivi di un'analisi delle modalità di errore includono:</span><span class="sxs-lookup"><span data-stu-id="231ac-116">The goals of an FMA include:</span></span>  

* <span data-ttu-id="231ac-117">Identificazione dei tipi di errori che potrebbero verificarsi in un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-117">Identify what types of failures an application might experience.</span></span>
* <span data-ttu-id="231ac-118">Acquisizione degli effetti e dell'impatto potenziali di ogni tipo di errore sull'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-118">Capture the potential effects and impact of each type of failure on the application.</span></span>
* <span data-ttu-id="231ac-119">Individuazione delle strategie di ripristino.</span><span class="sxs-lookup"><span data-stu-id="231ac-119">Identify recovery strategies.</span></span>
  

<span data-ttu-id="231ac-120">**Distribuire più istanze di servizi.**</span><span class="sxs-lookup"><span data-stu-id="231ac-120">**Deploy multiple instances of services.**</span></span> <span data-ttu-id="231ac-121">Se l'applicazione dipende da una singola istanza di un servizio, crea un singolo punto di errore.</span><span class="sxs-lookup"><span data-stu-id="231ac-121">If your application depends on a single instance of a service, it creates a single point of failure.</span></span> <span data-ttu-id="231ac-122">Il provisioning di più istanze migliora sia la resilienza che la scalabilità.</span><span class="sxs-lookup"><span data-stu-id="231ac-122">Provisioning multiple instances improves both resiliency and scalability.</span></span> <span data-ttu-id="231ac-123">Per [Servizio app di Azure](/azure/app-service/app-service-value-prop-what-is/) selezionare un [Piano di servizio app](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) che offra più istanze.</span><span class="sxs-lookup"><span data-stu-id="231ac-123">For [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), select an [App Service Plan](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) that offers multiple instances.</span></span> <span data-ttu-id="231ac-124">Per Servizi cloud di Azure, configurare ognuno dei ruoli in modo da usare [più istanze](/azure/cloud-services/cloud-services-choose-me/#scaling-and-management).</span><span class="sxs-lookup"><span data-stu-id="231ac-124">For Azure Cloud Services, configure each of your roles to use [multiple instances](/azure/cloud-services/cloud-services-choose-me/#scaling-and-management).</span></span> <span data-ttu-id="231ac-125">Per [Macchine virtuali di Microsoft Azure](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), verificare che l'architettura VM includa più macchine virtuali e che ogni macchina virtuale sia inclusa in un [set di disponibilità][availability-sets].</span><span class="sxs-lookup"><span data-stu-id="231ac-125">For [Azure Virtual Machines (VMs)](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), ensure that your VM architecture includes more than one VM and that each VM is included in an [availability set][availability-sets].</span></span>   

<span data-ttu-id="231ac-126">**Usare la scalabilità automatica per rispondere a un aumento di carico.**</span><span class="sxs-lookup"><span data-stu-id="231ac-126">**Use autoscaling to respond to increases in load.**</span></span> <span data-ttu-id="231ac-127">Se l'applicazione non è configurata per la scalabilità orizzontale automatica man mano che il carico aumenta, è possibile che i servizi dell'applicazione abbiano esito negativo se vengono saturati dalle richieste degli utenti.</span><span class="sxs-lookup"><span data-stu-id="231ac-127">If your application is not configured to scale out automatically as load increases, it's possible that your application's services will fail if they become saturated with user requests.</span></span> <span data-ttu-id="231ac-128">Per altri dettagli, vedere gli argomenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="231ac-128">For more details, see the following:</span></span>

* <span data-ttu-id="231ac-129">Generale: [Elenco di controllo per la scalabilità](./scalability.md)</span><span class="sxs-lookup"><span data-stu-id="231ac-129">General: [Scalability checklist](./scalability.md)</span></span>
* <span data-ttu-id="231ac-130">Servizio app di Azure: [Scalare il conteggio delle istanze manualmente o automaticamente][app-service-autoscale]</span><span class="sxs-lookup"><span data-stu-id="231ac-130">Azure App Service: [Scale instance count manually or automatically][app-service-autoscale]</span></span>
* <span data-ttu-id="231ac-131">Servizi cloud: [Come configurare la scalabilità automatica di un servizio cloud][cloud-service-autoscale]</span><span class="sxs-lookup"><span data-stu-id="231ac-131">Cloud Services: [How to auto scale a cloud service][cloud-service-autoscale]</span></span>
* <span data-ttu-id="231ac-132">Macchine virtuali: [Panoramica della scalabilità automatica con i set di scalabilità di macchine virtuali di Azure][vmss-autoscale]</span><span class="sxs-lookup"><span data-stu-id="231ac-132">Virtual Machines: [Automatic scaling and virtual machine scale sets][vmss-autoscale]</span></span>

<span data-ttu-id="231ac-133">**Usare il bilanciamento del carico per distribuire le richieste.**</span><span class="sxs-lookup"><span data-stu-id="231ac-133">**Use load balancing to distribute requests.**</span></span> <span data-ttu-id="231ac-134">Il bilanciamento del carico distribuisce le richieste dell'applicazione tra le istanze del servizio integre, eliminando dalla rotazione le istanze che non sono integre.</span><span class="sxs-lookup"><span data-stu-id="231ac-134">Load balancing distributes your application's requests to healthy service instances by removing unhealthy instances from rotation.</span></span> <span data-ttu-id="231ac-135">Se il servizio usa Servizio app di Azure o Servizi cloud di Azure, il carico viene bilanciato automaticamente.</span><span class="sxs-lookup"><span data-stu-id="231ac-135">If your service uses Azure App Service or Azure Cloud Services, it is already load balanced for you.</span></span> <span data-ttu-id="231ac-136">Se l'applicazione usa invece le macchine virtuali di Azure, è necessario eseguire il provisioning di un servizio di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="231ac-136">However, if your application uses Azure VMs, you will need to provision a load balancer.</span></span> <span data-ttu-id="231ac-137">Per altri dettagli, vedere [Panoramica di Azure Load Balancer](/azure/load-balancer/load-balancer-overview/).</span><span class="sxs-lookup"><span data-stu-id="231ac-137">See the [Azure Load Balancer](/azure/load-balancer/load-balancer-overview/) overview for more details.</span></span>

<span data-ttu-id="231ac-138">**Configurare i gateway applicazione di Azure per usare più istanze.**</span><span class="sxs-lookup"><span data-stu-id="231ac-138">**Configure Azure Application Gateways to use multiple instances.**</span></span> <span data-ttu-id="231ac-139">A seconda dei requisiti dell'applicazione, un [gateway applicazione di Azure](/azure/application-gateway/application-gateway-introduction/) potrebbe essere più adatto per distribuire le richieste ai servizi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-139">Depending on your application's requirements, an [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) may be better suited to distributing requests to your application's services.</span></span> <span data-ttu-id="231ac-140">Le istanze singole del servizio gateway applicazione non sono tuttavia garantite da un contratto di servizio, pertanto è possibile che l'applicazione non funzioni se l'istanza del gateway applicazione ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="231ac-140">However, single instances of the Application Gateway service are not guaranteed by an SLA so it's possible that your application could fail if the Application Gateway instance fails.</span></span> <span data-ttu-id="231ac-141">Eseguire il provisioning di più di un'istanza di gateway applicazione di medie o grandi dimensioni per garantire la disponibilità del servizio ai sensi del [contratto di servizio](https://azure.microsoft.com/support/legal/sla/application-gateway/v1_0/).</span><span class="sxs-lookup"><span data-stu-id="231ac-141">Provision more than one medium or larger Application Gateway instance to guarantee availability of the service under the terms of the [SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/v1_0/).</span></span>

<span data-ttu-id="231ac-142">**Usare set di disponibilità per ogni livello applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-142">**Use Availability Sets for each application tier.**</span></span> <span data-ttu-id="231ac-143">L'inserimento delle istanze in un [set di disponibilità][availability-sets] permette di accedere a un livello di [contratto di servizio](https://azure.microsoft.com/support/legal/sla/virtual-machines/) più elevato.</span><span class="sxs-lookup"><span data-stu-id="231ac-143">Placing your instances in an [availability set][availability-sets] provides a higher [SLA](https://azure.microsoft.com/support/legal/sla/virtual-machines/).</span></span> 

<span data-ttu-id="231ac-144">**Considerare di distribuire l'applicazione tra più aree.**</span><span class="sxs-lookup"><span data-stu-id="231ac-144">**Consider deploying your application across multiple regions.**</span></span> <span data-ttu-id="231ac-145">Se l'applicazione è distribuita in un'unica area, nel raro caso in cui l'intera area diventi non disponibile, anche l'applicazione diventa non disponibile.</span><span class="sxs-lookup"><span data-stu-id="231ac-145">If your application is deployed to a single region, in the rare event the entire region becomes unavailable, your application will also be unavailable.</span></span> <span data-ttu-id="231ac-146">Questa circostanza potrebbe essere inaccettabile in base alle condizioni del contratto di servizio dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-146">This may be unacceptable under the terms of your application's SLA.</span></span> <span data-ttu-id="231ac-147">In questo caso, occorre considerare la possibilità di distribuire l'applicazione e i relativi servizi tra più aree.</span><span class="sxs-lookup"><span data-stu-id="231ac-147">If so, consider deploying your application and its services across multiple regions.</span></span> <span data-ttu-id="231ac-148">Una distribuzione in più aree può usare un modello attivo-attivo (distribuzione delle richieste tra più istanze attive) o un modello attivo-passivo (con un'istanza pronta di riserva, in caso di errore dell'istanza primaria).</span><span class="sxs-lookup"><span data-stu-id="231ac-148">A multi-region deployment can use an active-active pattern (distributing requests across multiple active instances) or an active-passive pattern (keeping a "warm" instance in reserve, in case the primary instance fails).</span></span> <span data-ttu-id="231ac-149">È consigliabile distribuire più istanze dei servizi dell'applicazione tra coppie di aree.</span><span class="sxs-lookup"><span data-stu-id="231ac-149">We recommend that you deploy multiple instances of your application's services across regional pairs.</span></span> <span data-ttu-id="231ac-150">Per altre informazioni, vedere [Continuità aziendale e ripristino di emergenza nelle aree geografiche abbinate di Azure](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="231ac-150">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions](/azure/best-practices-availability-paired-regions).</span></span>

<span data-ttu-id="231ac-151">**Usare Gestione traffico di Microsoft Azure per eseguire il routing del traffico dell'applicazione in aree diverse.**</span><span class="sxs-lookup"><span data-stu-id="231ac-151">**Use Azure Traffic Manager to route your application's traffic to different regions.**</span></span>  <span data-ttu-id="231ac-152">[Gestione traffico di Microsoft Azure][traffic-manager] esegue il bilanciamento del carico a livello di DNS e indirizza il traffico ad aree diverse in base alla modalità di [routing][traffic-manager-routing] che si specifica e all'integrità degli endpoint dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-152">[Azure Traffic Manager][traffic-manager] performs load balancing at the DNS level and will route traffic to different regions based on the [traffic routing][traffic-manager-routing] method you specify and the health of your application's endpoints.</span></span> <span data-ttu-id="231ac-153">Senza Gestione traffico, la distribuzione è limitata a una singola area, con conseguente limitazione della scalabilità, aumento della latenza per alcuni utenti e tempi di inattività dell'applicazione nel caso in cui si verifichi un'interruzione dei servizi a livello di area.</span><span class="sxs-lookup"><span data-stu-id="231ac-153">Without Traffic Manager, you are limited to a single region for your deployment, which limits scale, increases latency for some users, and causes application downtime in the case of a region-wide service disruption.</span></span>

<span data-ttu-id="231ac-154">**Configurare e testare i probe di integrità per i servizi di bilanciamento del carico e di gestione del traffico.**</span><span class="sxs-lookup"><span data-stu-id="231ac-154">**Configure and test health probes for your load balancers and traffic managers.**</span></span> <span data-ttu-id="231ac-155">Assicurarsi che la logica di integrità controlli le parti critiche del sistema e risponda in modo appropriato ai probe di integrità.</span><span class="sxs-lookup"><span data-stu-id="231ac-155">Ensure that your health logic checks the critical parts of the system and responds appropriately to health probes.</span></span>

* <span data-ttu-id="231ac-156">I probe di integrità di [Gestione traffico di Microsoft Azure][traffic-manager] e di [Azure Load Balancer][load-balancer] hanno una funzione specifica.</span><span class="sxs-lookup"><span data-stu-id="231ac-156">The health probes for [Azure Traffic Manager][traffic-manager] and [Azure Load Balancer][load-balancer] serve a specific function.</span></span> <span data-ttu-id="231ac-157">Per Gestione traffico, il probe di integrità determina se eseguire o meno il failover in un'altra area.</span><span class="sxs-lookup"><span data-stu-id="231ac-157">For Traffic Manager, the health probe determines whether to fail over to another region.</span></span> <span data-ttu-id="231ac-158">Per un servizio di bilanciamento del carico, determina se rimuovere o meno una macchina virtuale dalla rotazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-158">For a load balancer, it determines whether to remove a VM from rotation.</span></span>      
* <span data-ttu-id="231ac-159">Per un probe di Gestione traffico, l'endpoint di integrità deve verificare eventuali dipendenze critiche che vengono distribuite nella stessa area e il cui errore deve attivare un failover in un'altra area.</span><span class="sxs-lookup"><span data-stu-id="231ac-159">For a Traffic Manager probe, your health endpoint should check any critical dependencies that are deployed within the same region, and whose failure should trigger a failover to another region.</span></span>  
* <span data-ttu-id="231ac-160">Per un servizio di bilanciamento del carico, l'endpoint di integrità deve segnalare l'integrità della VM.</span><span class="sxs-lookup"><span data-stu-id="231ac-160">For a load balancer, the health endpoint should report the health of the VM.</span></span> <span data-ttu-id="231ac-161">Non includere altri livelli o servizi esterni.</span><span class="sxs-lookup"><span data-stu-id="231ac-161">Don't include other tiers or external services.</span></span> <span data-ttu-id="231ac-162">In caso contrario, se si verifica un errore all'esterno della macchina virtuale, il servizio di bilanciamento del carico rimuove la macchina virtuale dalla rotazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-162">Otherwise, a failure that occurs outside the VM will cause the load balancer to remove the VM from rotation.</span></span>
* <span data-ttu-id="231ac-163">Per informazioni sull'implementazione del monitoraggio dell'integrità nell'applicazione, vedere [Health Endpoint Monitoring Pattern](https://msdn.microsoft.com/library/dn589789.aspx) (Modello di monitoraggio degli endpoint di integrità).</span><span class="sxs-lookup"><span data-stu-id="231ac-163">For guidance on implementing health monitoring in your application, see [Health Endpoint Monitoring Pattern](https://msdn.microsoft.com/library/dn589789.aspx).</span></span>

<span data-ttu-id="231ac-164">**Monitorare i servizi di terze parti.**</span><span class="sxs-lookup"><span data-stu-id="231ac-164">**Monitor third-party services.**</span></span> <span data-ttu-id="231ac-165">Se l'applicazione include dipendenze da servizi di terze parti, identificare dove e come questi servizi possono generare errori e quali effetti possono produrre tali errori sull'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-165">If your application has dependencies on third-party services, identify where and how these third-party services can fail and what effect those failures will have on your application.</span></span> <span data-ttu-id="231ac-166">È possibile che un servizio di terze parti non includa il monitoraggio e la diagnostica. È pertanto importante registrarne le chiamate e associarle alla registrazione diagnostica e di integrità dell'applicazione tramite un identificatore univoco.</span><span class="sxs-lookup"><span data-stu-id="231ac-166">A third-party service may not include monitoring and diagnostics, so it's important to log your invocations of them and correlate them with your application's health and diagnostic logging using a unique identifier.</span></span> <span data-ttu-id="231ac-167">Per altre informazioni sulle pratiche comprovate di monitoraggio e di diagnostica, vedere [Monitoraggio e diagnostica][monitoring-and-diagnostics-guidance].</span><span class="sxs-lookup"><span data-stu-id="231ac-167">For more information on proven practices for monitoring and diagnostics, see [Monitoring and Diagnostics guidance][monitoring-and-diagnostics-guidance].</span></span>

<span data-ttu-id="231ac-168">**Assicurarsi che qualsiasi servizio di terze parti in uso sia accompagnato da un contratto di servizio.**</span><span class="sxs-lookup"><span data-stu-id="231ac-168">**Ensure that any third-party service you consume provides an SLA.**</span></span> <span data-ttu-id="231ac-169">Se l'applicazione dipende da un servizio di terze parti la cui disponibilità non è garantita da un contratto di servizio, anche la disponibilità dell'applicazione non può essere garantita.</span><span class="sxs-lookup"><span data-stu-id="231ac-169">If your application depends on a third-party service, but the third party provides no guarantee of availability in the form of an SLA, your application's availability also cannot be guaranteed.</span></span> <span data-ttu-id="231ac-170">Il contratto di servizio dell'applicazione vale tanto quanto il componente meno disponibile dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-170">Your SLA is only as good as the least available component of your application.</span></span>

<span data-ttu-id="231ac-171">**Implementare modelli di resilienza per operazioni remote laddove appropriato.**</span><span class="sxs-lookup"><span data-stu-id="231ac-171">**Implement resiliency patterns for remote operations where appropriate.**</span></span> <span data-ttu-id="231ac-172">Se l'applicazione dipende dalla comunicazione tra servizi remoti, seguire gli schemi progettuali per la gestione di errori temporanei, ad esempio il [modello a ripetizione][retry-pattern] e il [modello a interruttore][circuit-breaker].</span><span class="sxs-lookup"><span data-stu-id="231ac-172">If your application depends on communication between remote services, follow design patterns for dealing with transient failures, such as [Retry Pattern][retry-pattern], and [Circuit Breaker Pattern][circuit-breaker].</span></span> <span data-ttu-id="231ac-173">Per altre informazioni, vedere [Strategie di resilienza](../resiliency/index.md#resiliency-strategies).</span><span class="sxs-lookup"><span data-stu-id="231ac-173">For more information, see [Resiliency strategies](../resiliency/index.md#resiliency-strategies).</span></span>

<span data-ttu-id="231ac-174">**Implementare le operazioni asincrone ogni volta che sia possibile.**</span><span class="sxs-lookup"><span data-stu-id="231ac-174">**Implement asynchronous operations whenever possible.**</span></span> <span data-ttu-id="231ac-175">Le operazioni sincrone possono monopolizzare le risorse e bloccare altre operazioni mentre il chiamante attende il completamento del processo.</span><span class="sxs-lookup"><span data-stu-id="231ac-175">Synchronous operations can monopolize resources and block other operations while the caller waits for the process to complete.</span></span> <span data-ttu-id="231ac-176">Progettare ogni parte dell'applicazione in modo da consentire le operazioni asincrone ogni volta che sia possibile.</span><span class="sxs-lookup"><span data-stu-id="231ac-176">Design each part of your application to allow for asynchronous operations whenever possible.</span></span> <span data-ttu-id="231ac-177">Per altre informazioni su come implementare la programmazione asincrona in C#, vedere [Asynchronous Programming with async and await][asynchronous-c-sharp] (Programmazione asincrona con async e await).</span><span class="sxs-lookup"><span data-stu-id="231ac-177">For more information on how to implement asynchronous programming in C#, see [Asynchronous Programming with async and await][asynchronous-c-sharp].</span></span>

## <a name="data-management"></a><span data-ttu-id="231ac-178">Gestione dei dati</span><span class="sxs-lookup"><span data-stu-id="231ac-178">Data management</span></span>

<span data-ttu-id="231ac-179">**Comprendere i metodi di replica per le origini dati dell'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-179">**Understand the replication methods for your application's data sources.**</span></span> <span data-ttu-id="231ac-180">I dati dell'applicazione vengono archiviati in origini dati diverse e hanno requisiti di disponibilità diversi.</span><span class="sxs-lookup"><span data-stu-id="231ac-180">Your application data will be stored in different data sources and have different availability requirements.</span></span> <span data-ttu-id="231ac-181">Valutare i metodi di replica per ogni tipo di archiviazione dei dati in Azure, tra cui [Replica di Archiviazione di Azure](/azure/storage/storage-redundancy/) e [Replica geografica attiva di database SQL](/azure/sql-database/sql-database-geo-replication-overview/), per assicurarsi che i requisiti dei dati dell'applicazione vengano soddisfatti.</span><span class="sxs-lookup"><span data-stu-id="231ac-181">Evaluate the replication methods for each type of data storage in Azure, including [Azure Storage Replication](/azure/storage/storage-redundancy/) and [SQL Database Active Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/) to ensure that your application's data requirements are satisfied.</span></span>

<span data-ttu-id="231ac-182">**Assicurarsi che nessun account utente singolo disponga dell'accesso sia ai dati di produzione che a quelli di backup.**</span><span class="sxs-lookup"><span data-stu-id="231ac-182">**Ensure that no single user account has access to both production and backup data.**</span></span> <span data-ttu-id="231ac-183">Se un singolo account utente dispone dell'autorizzazione di scrittura sia nelle origini dati di backup che nelle origini dati di produzione, i backup dei dati risultano compromessi.</span><span class="sxs-lookup"><span data-stu-id="231ac-183">Your data backups are compromised if one single user account has permission to write to both production and backup sources.</span></span> <span data-ttu-id="231ac-184">Un utente malintenzionato potrebbe eliminare intenzionalmente tutti i dati, mentre un utente normale potrebbe eliminarli accidentalmente.</span><span class="sxs-lookup"><span data-stu-id="231ac-184">A malicious user could purposely delete all your data, while a regular user could accidentally delete it.</span></span> <span data-ttu-id="231ac-185">Progettare l'applicazione in modo da limitare le autorizzazioni di ogni account utente affinché solo gli utenti che necessitano dell'accesso in scrittura dispongano di questo privilegio e solo sui dati di produzione o di backup, ma non su entrambi.</span><span class="sxs-lookup"><span data-stu-id="231ac-185">Design your application to limit the permissions of each user account so that only the users that require write access have write access and it's only to either production or backup, but not both.</span></span>

<span data-ttu-id="231ac-186">**Documentare il processo di failover e di failback delle origini dati e testarlo.**</span><span class="sxs-lookup"><span data-stu-id="231ac-186">**Document your data source fail over and fail back process and test it.**</span></span> <span data-ttu-id="231ac-187">Nel caso in cui l'origine dati sia soggetta a un evento catastrofico, un utente operatore dovrà seguire una serie di istruzioni documentate per eseguire il failover in una nuova origine dati.</span><span class="sxs-lookup"><span data-stu-id="231ac-187">In the case where your data source fails catastrophically, a human operator will have to follow a set of documented instructions to fail over to a new data source.</span></span> <span data-ttu-id="231ac-188">Se le procedure documentate sono errate, l'operatore non sarà in grado di seguirle correttamente e di eseguire il failover della risorsa.</span><span class="sxs-lookup"><span data-stu-id="231ac-188">If the documented steps have errors, an operator will not be able to successfully follow them and fail over the resource.</span></span> <span data-ttu-id="231ac-189">Testare regolarmente le istruzioni delle procedure per verificare che un operatore sia in grado di eseguire il failover e failback dell'origine dati.</span><span class="sxs-lookup"><span data-stu-id="231ac-189">Regularly test the instruction steps to verify that an operator following them is able to successfully fail over and fail back the data source.</span></span>

<span data-ttu-id="231ac-190">**Convalidare i backup dei dati.**</span><span class="sxs-lookup"><span data-stu-id="231ac-190">**Validate your data backups.**</span></span> <span data-ttu-id="231ac-191">Verificare regolarmente che i dati di backup siano quelli previsti eseguendo uno script per convalidare le query, lo schema e l'integrità dei dati.</span><span class="sxs-lookup"><span data-stu-id="231ac-191">Regularly verify that your backup data is what you expect by running a script to validate data integrity, schema, and queries.</span></span> <span data-ttu-id="231ac-192">Non ha senso avere un backup, se non può essere usato per ripristinare le origini dati.</span><span class="sxs-lookup"><span data-stu-id="231ac-192">There's no point having a backup if it's not useful to restore your data sources.</span></span> <span data-ttu-id="231ac-193">Accedere e segnalare eventuali incoerenze in modo che il servizio di backup possa essere riparato.</span><span class="sxs-lookup"><span data-stu-id="231ac-193">Log and report any inconsistencies so the backup service can be repaired.</span></span>

<span data-ttu-id="231ac-194">**Considerare di usare un tipo di account di archiviazione con ridondanza geografica.**</span><span class="sxs-lookup"><span data-stu-id="231ac-194">**Consider using a storage account type that is geo-redundant.**</span></span> <span data-ttu-id="231ac-195">I dati archiviati in un account di archiviazione di Azure vengono sempre replicati in locale.</span><span class="sxs-lookup"><span data-stu-id="231ac-195">Data stored in an Azure Storage account is always replicated locally.</span></span> <span data-ttu-id="231ac-196">Esistono tuttavia più strategie di replica tra cui scegliere quando viene eseguito il provisioning di un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-196">However, there are multiple replication strategies to choose from when a Storage Account is provisioned.</span></span> <span data-ttu-id="231ac-197">Selezionare [Archiviazione con ridondanza geografica e accesso in lettura (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage) per proteggere i dati delle applicazioni nel caso raro in cui un'intera area diventi non disponibile.</span><span class="sxs-lookup"><span data-stu-id="231ac-197">Select [Azure Read-Access Geo Redundant Storage (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage) to protect your application data against the rare case when an entire region becomes unavailable.</span></span>

> [!NOTE]
> <span data-ttu-id="231ac-198">Per le macchine virtuali, non affidarsi alla replica RA-GRS per ripristinare i dischi di macchina virtuale (file VHD).</span><span class="sxs-lookup"><span data-stu-id="231ac-198">For VMs, do not rely on RA-GRS replication to restore the VM disks (VHD files).</span></span> <span data-ttu-id="231ac-199">Usare invece [Backup di Azure][azure-backup].</span><span class="sxs-lookup"><span data-stu-id="231ac-199">Instead, use [Azure Backup][azure-backup].</span></span>   
>
>

## <a name="security"></a><span data-ttu-id="231ac-200">Sicurezza</span><span class="sxs-lookup"><span data-stu-id="231ac-200">Security</span></span>

<span data-ttu-id="231ac-201">**Implementare la protezione a livello di applicazione contro gli attacchi denial of service distribuiti (DDoS).**</span><span class="sxs-lookup"><span data-stu-id="231ac-201">**Implement application-level protection against distributed denial of service (DDoS) attacks.**</span></span> <span data-ttu-id="231ac-202">I servizi di Azure sono protetti dagli attacchi DDoS a livello rete.</span><span class="sxs-lookup"><span data-stu-id="231ac-202">Azure services are protected against DDos attacks at the network layer.</span></span> <span data-ttu-id="231ac-203">Azure non può tuttavia proteggere contro gli attacchi a livello applicazione, perché è difficile distinguere tra le richieste di utente normali e le richieste di utenti malintenzionati.</span><span class="sxs-lookup"><span data-stu-id="231ac-203">However, Azure cannot protect against application-layer attacks, because it is difficult to distinguish between true user requests from malicious user requests.</span></span> <span data-ttu-id="231ac-204">Per altre informazioni sulla protezione dagli attacchi DDoS a livello applicazione, vedere la sezione "Protecting against DDoS"(Protezione contro attacchi DDoS) del PDF scaricabile [Microsoft Azure Network Security](http://download.microsoft.com/download/C/A/3/CA3FC5C0-ECE0-4F87-BF4B-D74064A00846/AzureNetworkSecurity_v3_Feb2015.pdf) (Sicurezza di rete di Microsoft Azure).</span><span class="sxs-lookup"><span data-stu-id="231ac-204">For more information on how to protect against application-layer DDoS attacks, see the "Protecting against DDoS" section of [Microsoft Azure Network Security](http://download.microsoft.com/download/C/A/3/CA3FC5C0-ECE0-4F87-BF4B-D74064A00846/AzureNetworkSecurity_v3_Feb2015.pdf) (PDF download).</span></span>

<span data-ttu-id="231ac-205">**Implementare il principio di privilegio minimo per l'accesso alle risorse dell'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-205">**Implement the principle of least privilege for access to the application's resources.**</span></span> <span data-ttu-id="231ac-206">L'impostazione predefinita dell'accesso alle risorse dell'applicazione dovrebbe essere più restrittiva possibile.</span><span class="sxs-lookup"><span data-stu-id="231ac-206">The default for access to the application's resources should be as restrictive as possible.</span></span> <span data-ttu-id="231ac-207">Le autorizzazioni di livello superiore devono essere concesse su approvazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-207">Grant higher level permissions on an approval basis.</span></span> <span data-ttu-id="231ac-208">La concessione di un accesso eccessivamente permissivo alle risorse dell'applicazione può consentire a un utente di eliminare intenzionalmente o accidentalmente delle risorse.</span><span class="sxs-lookup"><span data-stu-id="231ac-208">Granting overly permissive access to your application's resources by default can result in someone purposely or accidentally deleting resources.</span></span> <span data-ttu-id="231ac-209">Azure offre il [controllo degli accessi in base al ruolo](/azure/active-directory/role-based-access-built-in-roles/) per la gestione dei privilegi degli utenti. È tuttavia importante verificare le autorizzazioni minime per altre risorse che dispongono di sistemi di autorizzazioni specifici, ad esempio SQL Server.</span><span class="sxs-lookup"><span data-stu-id="231ac-209">Azure provides [role-based access control](/azure/active-directory/role-based-access-built-in-roles/) to manage user privileges, but it's important to verify least privilege permissions for other resources that have their own permissions systems such as SQL Server.</span></span>

## <a name="testing"></a><span data-ttu-id="231ac-210">Test</span><span class="sxs-lookup"><span data-stu-id="231ac-210">Testing</span></span>

<span data-ttu-id="231ac-211">**Eseguire i test di failover e di failback per l'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-211">**Perform failover and failback testing for your application.**</span></span> <span data-ttu-id="231ac-212">Senza un test completo del failover e del failback, non si può essere certi che il backup dei servizi dipendenti nell'applicazione avvenga in modo sincronizzato durante un ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="231ac-212">If you haven't fully tested failover and failback, you can't be certain that the dependent services in your application come back up in a synchronized manner during disaster recovery.</span></span> <span data-ttu-id="231ac-213">Assicurarsi che il failover e il failback dei servizi dipendenti dell'applicazione vengano eseguiti nell'ordine corretto.</span><span class="sxs-lookup"><span data-stu-id="231ac-213">Ensure that your application's dependent services failover and fail back in the correct order.</span></span>

<span data-ttu-id="231ac-214">**Eseguire il test di fault injection per l'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-214">**Perform fault-injection testing for your application.**</span></span> <span data-ttu-id="231ac-215">L'applicazione può non riuscire per molti motivi diversi, ad esempio per scadenza del certificato, esaurimento delle risorse di sistema in una VM o errori di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-215">Your application can fail for many different reasons, such as certificate expiration, exhaustion of system resources in a VM, or storage failures.</span></span> <span data-ttu-id="231ac-216">Testare l'applicazione in un ambiente più vicino possibile a quello di produzione, simulando o generando errori reali,</span><span class="sxs-lookup"><span data-stu-id="231ac-216">Test your application in an environment as close as possible to production, by simulating or triggering real failures.</span></span> <span data-ttu-id="231ac-217">ad esempio eliminando i certificati, consumando artificialmente le risorse di sistema o eliminando un'origine di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-217">For example, delete certificates, artificially consume system resources, or delete a storage source.</span></span> <span data-ttu-id="231ac-218">Verificare la capacità dell'applicazione di recuperare da tutti i tipi di errori, da sola e in combinazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-218">Verify your application's ability to recover from all types of faults, alone and in combination.</span></span> <span data-ttu-id="231ac-219">Controllare che gli errori non si propaghino o si ripercuotano a cascata sul sistema.</span><span class="sxs-lookup"><span data-stu-id="231ac-219">Check that failures are not propagating or cascading through your system.</span></span>

<span data-ttu-id="231ac-220">**Eseguire test in produzione usando dati utente sia reali che sintetici.**</span><span class="sxs-lookup"><span data-stu-id="231ac-220">**Run tests in production using both synthetic and real user data.**</span></span> <span data-ttu-id="231ac-221">Gli ambienti di test e di produzione raramente sono identici. È pertanto importante usare una distribuzione canary o Blue/Green e testare l'applicazione in produzione.</span><span class="sxs-lookup"><span data-stu-id="231ac-221">Test and production are rarely identical, so it's important to use blue/green or a canary deployment and test your application in production.</span></span> <span data-ttu-id="231ac-222">Ciò consente di testare l'applicazione in produzione con un carico reale e di garantirne il funzionamento previsto dopo la distribuzione completa.</span><span class="sxs-lookup"><span data-stu-id="231ac-222">This allows you to test your application in production under real load and ensure it will function as expected when fully deployed.</span></span>

## <a name="deployment"></a><span data-ttu-id="231ac-223">Distribuzione</span><span class="sxs-lookup"><span data-stu-id="231ac-223">Deployment</span></span>

<span data-ttu-id="231ac-224">**Documentare il processo di rilascio dell'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-224">**Document the release process for your application.**</span></span> <span data-ttu-id="231ac-225">Senza una dettagliata documentazione del processo di rilascio, un operatore potrebbe distribuire un aggiornamento non valido o configurare le impostazioni dell'applicazione in modo non adeguato.</span><span class="sxs-lookup"><span data-stu-id="231ac-225">Without detailed release process documentation, an operator might deploy a bad update or improperly configure settings for your application.</span></span> <span data-ttu-id="231ac-226">Definire e documentare chiaramente il processo di rilascio e assicurarsi che sia disponibile a tutto il team operativo.</span><span class="sxs-lookup"><span data-stu-id="231ac-226">Clearly define and document your release process, and ensure that it's available to the entire operations team.</span></span> 

<span data-ttu-id="231ac-227">**Automatizzare il processo di distribuzione dell'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-227">**Automate your application's deployment process.**</span></span> <span data-ttu-id="231ac-228">Quando si richiede al personale operativo di distribuire manualmente l'applicazione, possono verificarsi errori umani che compromettono la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="231ac-228">If your operations staff is required to manually deploy your application, human error can cause the deployment to fail.</span></span> 

<span data-ttu-id="231ac-229">**Progettare il processo di rilascio per ottimizzare la disponibilità dell'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-229">**Design your release process to maximize application availability.**</span></span> <span data-ttu-id="231ac-230">Se il processo di rilascio prevede che i servizi vengano disconnessi durante la distribuzione, l'applicazione non sarà disponibile fino a quando i servizi non verranno riportati online.</span><span class="sxs-lookup"><span data-stu-id="231ac-230">If your release process requires services to go offline during deployment, your application will be unavailable until they come back online.</span></span> <span data-ttu-id="231ac-231">Usare la tecnica di distribuzione del rilascio [Blue/Green](http://martinfowler.com/bliki/BlueGreenDeployment.html) o [canary](http://martinfowler.com/bliki/CanaryRelease.html) per distribuire l'applicazione alla produzione.</span><span class="sxs-lookup"><span data-stu-id="231ac-231">Use the [blue/green](http://martinfowler.com/bliki/BlueGreenDeployment.html) or [canary release](http://martinfowler.com/bliki/CanaryRelease.html) deployment technique to deploy your application to production.</span></span> <span data-ttu-id="231ac-232">Entrambe queste tecniche implicano la distribuzione del codice di rilascio insieme al codice di produzione in modo che gli utenti del codice di rilascio vengano reindirizzati al codice di produzione in caso di errore.</span><span class="sxs-lookup"><span data-stu-id="231ac-232">Both of these techniques involve deploying your release code alongside production code so users of release code can be redirected to production code in the event of a failure.</span></span>

<span data-ttu-id="231ac-233">**Accedere e controllare le distribuzioni dell'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-233">**Log and audit your application's deployments.**</span></span> <span data-ttu-id="231ac-234">Se si usano le tecniche di pre-distribuzione, quali i rilasci Blue/Green o canary, nell'ambiente di produzione sarà presente più di una versione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-234">If you use staged deployment techniques such as blue/green or canary releases there will be more than one version of your application running in production.</span></span> <span data-ttu-id="231ac-235">Se si verifica un problema, è fondamentale determinare quale versione dell'applicazione lo causa.</span><span class="sxs-lookup"><span data-stu-id="231ac-235">If a problem should occur, it's critical to determine which version of your application is causing a problem.</span></span> <span data-ttu-id="231ac-236">Implementare una strategia di registrazione affidabile per acquisire quante più informazioni specifiche della versione possibili.</span><span class="sxs-lookup"><span data-stu-id="231ac-236">Implement a robust logging strategy to capture as much version-specific information as possible.</span></span>

<span data-ttu-id="231ac-237">**Creare un piano di ripristino dello stato precedente alla distribuzione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-237">**Have a rollback plan for deployment.**</span></span> <span data-ttu-id="231ac-238">È possibile che la distribuzione dell'applicazione abbia esito negativo e che l'applicazione diventi non disponibile.</span><span class="sxs-lookup"><span data-stu-id="231ac-238">It's possible that your application deployment could fail and cause your application to become unavailable.</span></span> <span data-ttu-id="231ac-239">Progettare un processo di ripristino dello stato precedente per tornare all'ultima versione valida nota e ridurre al minimo i tempi di inattività.</span><span class="sxs-lookup"><span data-stu-id="231ac-239">Design a rollback process to go back to a last known good version and minimize downtime.</span></span> 

## <a name="operations"></a><span data-ttu-id="231ac-240">Operazioni</span><span class="sxs-lookup"><span data-stu-id="231ac-240">Operations</span></span>

<span data-ttu-id="231ac-241">**Implementare le procedure consigliate per il monitoraggio e avvisi nell'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-241">**Implement best practices for monitoring and alerting in your application.**</span></span> <span data-ttu-id="231ac-242">Senza un monitoraggio, una diagnostica e avvisi corretti, non è possibile rilevare eventuali errori nell'applicazione e avvisare un operatore di correggerli.</span><span class="sxs-lookup"><span data-stu-id="231ac-242">Without proper monitoring, diagnostics, and alerting, there is no way to detect failures in your application and alert an operator to fix them.</span></span> <span data-ttu-id="231ac-243">Per altre informazioni, vedere [Monitoraggio e diagnostica][monitoring-and-diagnostics-guidance].</span><span class="sxs-lookup"><span data-stu-id="231ac-243">For more information, see [Monitoring and Diagnostics guidance][monitoring-and-diagnostics-guidance].</span></span>

<span data-ttu-id="231ac-244">**Misurare le statistiche delle chiamate remote e mettere le informazioni a disposizione del team dell'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-244">**Measure remote call statistics and make the information available to the application team.**</span></span>  <span data-ttu-id="231ac-245">Se non si tiene traccia delle statistiche delle chiamate remote, non le si riporta in tempo reale e non si offre un modo facile per esaminarle, il team operativo non ha una vista istantanea dell'integrità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-245">If you don't track and report remote call statistics in real time and provide an easy way to review this information, the operations team will not have an instantaneous view into the health of your application.</span></span> <span data-ttu-id="231ac-246">Se inoltre si misura solo il tempo medio delle chiamate remote, non si ottengono informazioni sufficienti per individuare i problemi nei servizi.</span><span class="sxs-lookup"><span data-stu-id="231ac-246">And if you only measure average remote call time, you will not have enough information to reveal issues in the services.</span></span> <span data-ttu-id="231ac-247">Riepilogare le metriche di chiamata remota, ad esempio la latenza, la velocità effettiva e gli errori nei percentili 95 e 99.</span><span class="sxs-lookup"><span data-stu-id="231ac-247">Summarize remote call metrics such as latency, throughput, and errors in the 99 and 95 percentiles.</span></span> <span data-ttu-id="231ac-248">Eseguire l'analisi statistica sulle metriche per individuare gli errori che si verificano entro ogni percentile.</span><span class="sxs-lookup"><span data-stu-id="231ac-248">Perform statistical analysis on the metrics to uncover errors that occur within each percentile.</span></span>

<span data-ttu-id="231ac-249">**Tenere traccia del numero di eccezioni temporanee e di tentativi su un intervallo di tempo appropriato.**</span><span class="sxs-lookup"><span data-stu-id="231ac-249">**Track the number of transient exceptions and retries over an appropriate timeframe.**</span></span> <span data-ttu-id="231ac-250">Se non si tiene traccia e non si monitorano le eccezioni temporanee e i nuovi tentativi nel tempo, è possibile che un problema o un errore venga nascosto dalla logica di ripetizione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-250">If you don't track and monitor transient exceptions and retry attempts over time, it's possible that an issue or failure could be hidden by your application's retry logic.</span></span> <span data-ttu-id="231ac-251">Se il monitoraggio e la registrazione mostrano solo l'esito positivo o negativo di un'operazione, il fatto che l'operazione sia stata ritentata più volte a causa di eccezioni verrà nascosto.</span><span class="sxs-lookup"><span data-stu-id="231ac-251">That is, if your monitoring and logging only shows success or failure of an operation, the fact that the operation had to be retried multiple times due to exceptions will be hidden.</span></span> <span data-ttu-id="231ac-252">Una tendenza all'aumento delle eccezioni nel tempo indica che il servizio ha un problema e potrebbe avere esito negativo.</span><span class="sxs-lookup"><span data-stu-id="231ac-252">A trend of increasing exceptions over time indicates that the service is having an issue and may fail.</span></span> <span data-ttu-id="231ac-253">Per altre informazioni, vedere [Materiale sussidiario su come eseguire nuovi tentativi per servizi specifici][retry-service-guidance].</span><span class="sxs-lookup"><span data-stu-id="231ac-253">For more information, see [Retry service specific guidance][retry-service-guidance].</span></span>

<span data-ttu-id="231ac-254">**Implementare un sistema di avvisi tempestivi per l'operatore.**</span><span class="sxs-lookup"><span data-stu-id="231ac-254">**Implement an early warning system that alerts an operator.**</span></span> <span data-ttu-id="231ac-255">Identificare gli indicatori di prestazioni chiave dell'integrità dell'applicazione, ad esempio le eccezioni temporanee e la latenza delle chiamate remote, e impostare valori di soglia appropriati per ognuno.</span><span class="sxs-lookup"><span data-stu-id="231ac-255">Identify the key performance indicators of your application's health, such as transient exceptions and remote call latency, and set appropriate threshold values for each of them.</span></span> <span data-ttu-id="231ac-256">Inviare un avviso all'operatore quando viene raggiunto il valore di soglia.</span><span class="sxs-lookup"><span data-stu-id="231ac-256">Send an alert to operations when the threshold value is reached.</span></span> <span data-ttu-id="231ac-257">Impostare queste soglie a livelli che identifichino i problemi prima che diventino critici e si debba ricorrere al ripristino per risolverli.</span><span class="sxs-lookup"><span data-stu-id="231ac-257">Set these thresholds at levels that identify issues before they become critical and require a recovery response.</span></span>

<span data-ttu-id="231ac-258">**Assicurarsi che più persone del team abbiano la formazione adeguata per monitorare l'applicazione ed eseguire eventuali procedure di ripristino manuale.**</span><span class="sxs-lookup"><span data-stu-id="231ac-258">**Ensure that more than one person on the team is trained to monitor the application and perform any manual recovery steps.**</span></span> <span data-ttu-id="231ac-259">Se nel team esiste un solo operatore in grado di monitorare l'applicazione e di avviare la procedura di ripristino, tale utente diventa un singolo punto di errore.</span><span class="sxs-lookup"><span data-stu-id="231ac-259">If you only have a single operator on the team who can monitor the application and kick off recovery steps, that person becomes a single point of failure.</span></span> <span data-ttu-id="231ac-260">Formare più operatori sulle procedure di rilevamento e di ripristino e assicurarsi che in ogni momento ve ne sia almeno uno pronto ad agire.</span><span class="sxs-lookup"><span data-stu-id="231ac-260">Train multiple individuals on detection and recovery and make sure there is always at least one active at any time.</span></span>

<span data-ttu-id="231ac-261">**Assicurarsi che l'applicazione venga sempre eseguita in conformità ai [limiti della sottoscrizione di Azure](/azure/azure-subscription-service-limits/).**</span><span class="sxs-lookup"><span data-stu-id="231ac-261">**Ensure that your application does not run up against [Azure subscription limits](/azure/azure-subscription-service-limits/).**</span></span> <span data-ttu-id="231ac-262">Le sottoscrizioni di Azure hanno limiti su determinati tipi di risorse, ad esempio il numero di gruppi di risorse, il numero di core e il numero di account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-262">Azure subscriptions have limits on certain resource types, such as number of resource groups, number of cores, and number of storage accounts.</span></span>  <span data-ttu-id="231ac-263">Se i requisiti dell'applicazione superano i limiti di sottoscrizione di Azure, creare un'altra sottoscrizione di Azure ed eseguirne il provisioning con un numero sufficiente di risorse.</span><span class="sxs-lookup"><span data-stu-id="231ac-263">If your application requirements exceed Azure subscription limits, create another Azure subscription and provision sufficient resources there.</span></span>

<span data-ttu-id="231ac-264">**Assicurarsi che l'applicazione venga sempre eseguita in conformità ai [limiti previsti per servizio](/azure/azure-subscription-service-limits/).**</span><span class="sxs-lookup"><span data-stu-id="231ac-264">**Ensure that your application does not run up against [per-service limits](/azure/azure-subscription-service-limits/).**</span></span> <span data-ttu-id="231ac-265">I singoli servizi di Azure hanno limiti di consumo, ad esempio i limiti per l'archiviazione, la velocità effettiva, il numero di connessioni, le richieste al secondo e altre metriche.</span><span class="sxs-lookup"><span data-stu-id="231ac-265">Individual Azure services have consumption limits &mdash; for example, limits on storage, throughput, number of connections, requests per second, and other metrics.</span></span> <span data-ttu-id="231ac-266">Se l'applicazione tenta di usare le risorse oltre questi limiti, avrà esito negativo.</span><span class="sxs-lookup"><span data-stu-id="231ac-266">Your application will fail if it attempts to use resources beyond these limits.</span></span> <span data-ttu-id="231ac-267">Le conseguenze sono la limitazione del servizio e possibili tempi di inattività per gli utenti interessati.</span><span class="sxs-lookup"><span data-stu-id="231ac-267">This will result in service throttling and possible downtime for affected users.</span></span> <span data-ttu-id="231ac-268">A seconda del servizio specifico e dei requisiti dell'applicazione, è spesso possibile evitare questi limiti mediante la scalabilità verticale (ad esempio, la scelta di un altro piano tariffario) o la scalabilità orizzontale (aggiunta di nuove istanze).</span><span class="sxs-lookup"><span data-stu-id="231ac-268">Depending on the specific service and your application requirements, you can often avoid these limits by scaling up (for example, choosing another pricing tier) or scaling out (adding new instances).</span></span>  

<span data-ttu-id="231ac-269">**Progettare i requisiti di archiviazione dell'applicazione in modo da rientrare negli obiettivi di scalabilità e prestazioni di archiviazione di Azure.**</span><span class="sxs-lookup"><span data-stu-id="231ac-269">**Design your application's storage requirements to fall within Azure storage scalability and performance targets.**</span></span> <span data-ttu-id="231ac-270">Archiviazione di Azure è progettato per funzionare entro obiettivi di scalabilità e prestazioni predefiniti. È quindi opportuno progettare l'applicazione in modo da usare l'archiviazione entro tali obiettivi.</span><span class="sxs-lookup"><span data-stu-id="231ac-270">Azure storage is designed to function within predefined scalability and performance targets, so design your application to utilize storage within those targets.</span></span> <span data-ttu-id="231ac-271">Se li si supera, l'applicazione sarà soggetta a limitazioni nell'archiviazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-271">If you exceed these targets your application will experience storage throttling.</span></span> <span data-ttu-id="231ac-272">Per risolvere questo problema, eseguire il provisioning di account di archiviazione aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="231ac-272">To fix this, provision additional Storage Accounts.</span></span> <span data-ttu-id="231ac-273">Se si supera il limite di account di archiviazione, eseguire il provisioning di sottoscrizioni di Azure aggiuntive e quindi eseguire il provisioning di altri account di archiviazione nelle nuove sottoscrizioni.</span><span class="sxs-lookup"><span data-stu-id="231ac-273">If you run up against the Storage Account limit, provision additional Azure Subscriptions and then provision additional Storage Accounts there.</span></span> <span data-ttu-id="231ac-274">Per altre informazioni, vedere [Obiettivi di scalabilità e prestazioni per Archiviazione di Azure](/azure/storage/storage-scalability-targets/).</span><span class="sxs-lookup"><span data-stu-id="231ac-274">For more information, see [Azure Storage Scalability and Performance Targets](/azure/storage/storage-scalability-targets/).</span></span>

<span data-ttu-id="231ac-275">**Selezionare le dimensioni della VM corrette per l'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-275">**Select the right VM size for your application.**</span></span> <span data-ttu-id="231ac-276">Misurare la CPU, la memoria, il disco e l'I/O effettivi delle VM nell'ambiente di produzione e verificare che le dimensioni di VM selezionate siano sufficienti.</span><span class="sxs-lookup"><span data-stu-id="231ac-276">Measure the actual CPU, memory, disk, and I/O of your VMs in production and verify that the VM size you've selected is sufficient.</span></span> <span data-ttu-id="231ac-277">In caso contrario, l'applicazione potrebbe essere soggetta a problemi di capacità man mano che le VM si avvicinano ai propri limiti.</span><span class="sxs-lookup"><span data-stu-id="231ac-277">If not, your application may experience capacity issues as the VMs approach their limits.</span></span> <span data-ttu-id="231ac-278">Le dimensioni delle VM sono descritte in dettaglio in [Dimensioni per le macchine virtuali Windows in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="231ac-278">VM sizes are described in detail in [Sizes for virtual machines in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

<span data-ttu-id="231ac-279">**Determinare se il carico di lavoro dell'applicazione è stabile o variabile nel tempo.**</span><span class="sxs-lookup"><span data-stu-id="231ac-279">**Determine if your application's workload is stable or fluctuating over time.**</span></span> <span data-ttu-id="231ac-280">Se il carico di lavoro varia nel tempo, usare i set di scalabilità di macchine virtuali di Azure per scalare automaticamente il numero di istanze della VM.</span><span class="sxs-lookup"><span data-stu-id="231ac-280">If your workload fluctuates over time, use Azure VM scale sets to automatically scale the number of VM instances.</span></span> <span data-ttu-id="231ac-281">In caso contrario, è necessario aumentare o diminuire il numero di macchine virtuali manualmente.</span><span class="sxs-lookup"><span data-stu-id="231ac-281">Otherwise, you will have to manually increase or decrease the number of VMs.</span></span> <span data-ttu-id="231ac-282">Per altre informazioni, vedere [Virtual Machine Scale Sets Overview](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/) (Panoramica dei set di scalabilità di macchine virtuali).</span><span class="sxs-lookup"><span data-stu-id="231ac-282">For more information, see the [Virtual Machine Scale Sets Overview](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/).</span></span>

<span data-ttu-id="231ac-283">**Selezionare il livello di servizio corretto per il database SQL di Azure.**</span><span class="sxs-lookup"><span data-stu-id="231ac-283">**Select the right service tier for Azure SQL Database.**</span></span> <span data-ttu-id="231ac-284">Se l'applicazione usa il database SQL di Microsoft Azure, assicurarsi di avere selezionato il livello di servizio appropriato.</span><span class="sxs-lookup"><span data-stu-id="231ac-284">If your application uses Azure SQL Database, ensure that you have selected the appropriate service tier.</span></span> <span data-ttu-id="231ac-285">Se si seleziona un livello che non è in grado di gestire i requisiti dell'unità di trasmissione dati (DTU) del database dell'applicazione, l'utilizzo dei dati verrà limitato.</span><span class="sxs-lookup"><span data-stu-id="231ac-285">If you select a tier that is not able to handle your application's database transaction unit (DTU) requirements, your data use will be throttled.</span></span> <span data-ttu-id="231ac-286">Per altre informazioni sul piano di servizio corretto, vedere [SQL Database options and performance: Understand what's available in each service tier](/azure/sql-database/sql-database-service-tiers/) (Prestazioni e opzioni del database SQL: offerte in ogni livello di servizio).</span><span class="sxs-lookup"><span data-stu-id="231ac-286">For more information on selecting the correct service plan, see [SQL Database options and performance: Understand what's available in each service tier](/azure/sql-database/sql-database-service-tiers/).</span></span>

<span data-ttu-id="231ac-287">**Creare un processo per l'interazione con il supporto di Azure.**</span><span class="sxs-lookup"><span data-stu-id="231ac-287">**Create a process for interacting with Azure support.**</span></span> <span data-ttu-id="231ac-288">Se il processo per contattare [il supporto di Azure](https://azure.microsoft.com/support/plans/) non è impostato prima che sorga la necessità di contattare il supporto tecnico, il tempo di inattività sarà più lungo, in quanto si usa il processo di supporto per la prima volta.</span><span class="sxs-lookup"><span data-stu-id="231ac-288">If the process for contacting [Azure support](https://azure.microsoft.com/support/plans/) is not set before the need to contact support arises, downtime will be prolonged as the support process is navigated for the first time.</span></span> <span data-ttu-id="231ac-289">Includere fin dall'inizio il processo per contattare il supporto tecnico e l'escalation dei problemi come parte della resilienza dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-289">Include the process for contacting support and escalating issues as part of your application's resiliency from the outset.</span></span>

<span data-ttu-id="231ac-290">**Assicurarsi che l'applicazione non ecceda il numero massimo di account di archiviazione per sottoscrizione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-290">**Ensure that your application doesn't use more than the maximum number of storage accounts per subscription.**</span></span> <span data-ttu-id="231ac-291">Azure consente l'uso di un massimo di 200 account di archiviazione per ogni sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="231ac-291">Azure allows a maximum of 200 storage accounts per subscription.</span></span> <span data-ttu-id="231ac-292">Se l'applicazione richiede più account di archiviazione rispetto a quelli attualmente disponibili nella sottoscrizione, è necessario creare una nuova sottoscrizione e creare account di archiviazione aggiuntivi associati alla nuova sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="231ac-292">If your application requires more storage accounts than are currently available in your subscription, you will have to create a new subscription and create additional storage accounts there.</span></span> <span data-ttu-id="231ac-293">Per altre informazioni, vedere [Sottoscrizione di Azure e limiti, quote e vincoli dei servizi](/azure/azure-subscription-service-limits/#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="231ac-293">For more information, see [Azure subscription and service limits, quotas, and constraints](/azure/azure-subscription-service-limits/#storage-limits).</span></span>

<span data-ttu-id="231ac-294">**Assicurarsi che l'applicazione non superi gli obiettivi di scalabilità per i dischi di macchina virtuale.**</span><span class="sxs-lookup"><span data-stu-id="231ac-294">**Ensure that your application doesn't exceed the scalability targets for virtual machine disks.**</span></span> <span data-ttu-id="231ac-295">Una macchina virtuale IaaS di Azure supporta l'associazione di un numero di dischi di dati in base a diversi fattori, tra cui la dimensione della macchina virtuale e il tipo di account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-295">An Azure IaaS VM supports attaching a number of data disks depending on several factors, including the VM size and type of storage account.</span></span> <span data-ttu-id="231ac-296">Se l'applicazione supera gli obiettivi di scalabilità per i dischi di macchina virtuale, eseguire il provisioning di account di archiviazione aggiuntivi e creare in essi i dischi di macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="231ac-296">If your application exceeds the scalability targets for virtual machine disks, provision additional storage accounts and create the virtual machine disks there.</span></span> <span data-ttu-id="231ac-297">Per altre informazioni, vedere [Obiettivi di scalabilità e prestazioni per Archiviazione di Azure](/azure/storage/storage-scalability-targets/#scalability-targets-for-virtual-machine-disks).</span><span class="sxs-lookup"><span data-stu-id="231ac-297">For more information, see [Azure Storage Scalability and Performance Targets](/azure/storage/storage-scalability-targets/#scalability-targets-for-virtual-machine-disks)</span></span>

## <a name="telemetry"></a><span data-ttu-id="231ac-298">Telemetria</span><span class="sxs-lookup"><span data-stu-id="231ac-298">Telemetry</span></span>

<span data-ttu-id="231ac-299">**Registrare i dati di telemetria mentre l'applicazione è in esecuzione nell'ambiente di produzione.**</span><span class="sxs-lookup"><span data-stu-id="231ac-299">**Log telemetry data while the application is running in the production environment.**</span></span> <span data-ttu-id="231ac-300">Occorre acquisire informazioni di telemetria affidabili mentre l'applicazione è in esecuzione nell'ambiente di produzione, altrimenti non si avranno informazioni sufficienti per diagnosticare la causa di problemi, mentre l'applicazione viene usata attivamente dagli utenti.</span><span class="sxs-lookup"><span data-stu-id="231ac-300">Capture robust telemetry information while the application is running in the production environment or you will not have sufficient information to diagnose the cause of issues while it's actively serving users.</span></span> <span data-ttu-id="231ac-301">Per altre informazioni, vedere [Monitoraggio e diagnostica][monitoring-and-diagnostics-guidance].</span><span class="sxs-lookup"><span data-stu-id="231ac-301">For more information, see [Monitoring and Diagnostics][monitoring-and-diagnostics-guidance].</span></span>

<span data-ttu-id="231ac-302">**Implementare la registrazione usando un modello asincrono.**</span><span class="sxs-lookup"><span data-stu-id="231ac-302">**Implement logging using an asynchronous pattern.**</span></span> <span data-ttu-id="231ac-303">Le operazioni di registrazione sincrone possono bloccare il codice dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-303">If logging operations are synchronous, they might block your application code.</span></span> <span data-ttu-id="231ac-304">Assicurarsi che le operazioni di registrazione vengano implementate come operazioni asincrone.</span><span class="sxs-lookup"><span data-stu-id="231ac-304">Ensure that your logging operations are implemented as asynchronous operations.</span></span>

<span data-ttu-id="231ac-305">**Correlare i dati di log tra i limiti di servizio.**</span><span class="sxs-lookup"><span data-stu-id="231ac-305">**Correlate log data across service boundaries.**</span></span> <span data-ttu-id="231ac-306">In una tipica applicazione a più livelli, una richiesta dell'utente può attraversare molti limiti del servizio.</span><span class="sxs-lookup"><span data-stu-id="231ac-306">In a typical n-tier application, a user request may traverse several service boundaries.</span></span> <span data-ttu-id="231ac-307">Una richiesta dell'utente, ad esempio, ha in genere origine nel livello Web e viene passata al livello business e resa infine persistente nel livello dati.</span><span class="sxs-lookup"><span data-stu-id="231ac-307">For example, a user request typically originates in the web tier and is passed to the business tier and finally persisted in the data tier.</span></span> <span data-ttu-id="231ac-308">In scenari più complessi, una richiesta dell'utente può essere distribuita a numerosi servizi e archivi dati diversi.</span><span class="sxs-lookup"><span data-stu-id="231ac-308">In more complex scenarios, a user request may be distributed to many different services and data stores.</span></span> <span data-ttu-id="231ac-309">Assicurarsi che il sistema di registrazione correli le chiamate tra i limiti del servizio, in modo che sia possibile tenere traccia della richiesta in tutta l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-309">Ensure that your logging system correlates calls across service boundaries so you can track the request throughout your application.</span></span>

## <a name="azure-resources"></a><span data-ttu-id="231ac-310">Risorse di Azure</span><span class="sxs-lookup"><span data-stu-id="231ac-310">Azure Resources</span></span>

<span data-ttu-id="231ac-311">**Usare i modelli di Azure Resource Manager per eseguire il provisioning delle risorse.**</span><span class="sxs-lookup"><span data-stu-id="231ac-311">**Use Azure Resource Manager templates to provision resources.**</span></span> <span data-ttu-id="231ac-312">I modelli di Resource Manager semplificano l'automazione delle distribuzioni tramite PowerShell o l'interfaccia della riga di comando di Azure, con un conseguente aumento dell'affidabilità del processo di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="231ac-312">Resource Manager templates make it easier to automate deployments via PowerShell or the Azure CLI, which leads to a more reliable deployment process.</span></span> <span data-ttu-id="231ac-313">Per altre informazioni, vedere [Panoramica di Azure Resource Manager][resource-manager].</span><span class="sxs-lookup"><span data-stu-id="231ac-313">For more information, see [Azure Resource Manager overview][resource-manager].</span></span>

<span data-ttu-id="231ac-314">**Assegnare nomi significativi alle risorse.**</span><span class="sxs-lookup"><span data-stu-id="231ac-314">**Give resources meaningful names.**</span></span> <span data-ttu-id="231ac-315">In tal modo, è più semplice individuare una specifica risorsa e comprenderne il ruolo.</span><span class="sxs-lookup"><span data-stu-id="231ac-315">Giving resources meaningful names makes it easier to locate a specific resource and understand its role.</span></span> <span data-ttu-id="231ac-316">Per altre informazioni, vedere [Naming conventions for Azure resources](../best-practices/naming-conventions.md) (Convenzioni di denominazione per le risorse di Azure)</span><span class="sxs-lookup"><span data-stu-id="231ac-316">For more information, see [Naming conventions for Azure resources](../best-practices/naming-conventions.md)</span></span>

<span data-ttu-id="231ac-317">**Usare il controllo degli accessi in base al ruolo (RBAC).**</span><span class="sxs-lookup"><span data-stu-id="231ac-317">**Use role-based access control (RBAC).**</span></span> <span data-ttu-id="231ac-318">Usare questo tipo di controllo per controllare l'accesso alle risorse di Azure da distribuire.</span><span class="sxs-lookup"><span data-stu-id="231ac-318">Use RBAC to control access to the Azure resources that you deploy.</span></span> <span data-ttu-id="231ac-319">Il controllo degli accessi in base al ruolo consente di assegnare i ruoli di autorizzazione a membri del team DevOps, per impedire l'eliminazione accidentale o le modifiche delle risorse distribuite.</span><span class="sxs-lookup"><span data-stu-id="231ac-319">RBAC lets you assign authorization roles to members of your DevOps team, to prevent accidental deletion or changes to deployed resources.</span></span> <span data-ttu-id="231ac-320">Per altre informazioni, vedere [Get started with access management in the Azure portal](/azure/active-directory/role-based-access-control-what-is/) (Introduzione alla gestione degli accessi nel portale di Azure)</span><span class="sxs-lookup"><span data-stu-id="231ac-320">For more information, see [Get started with access management in the Azure portal](/azure/active-directory/role-based-access-control-what-is/)</span></span>

<span data-ttu-id="231ac-321">**Usare i blocchi di risorsa per le risorse critiche, ad esempio le macchine virtuali.**</span><span class="sxs-lookup"><span data-stu-id="231ac-321">**Use resource locks for critical resources, such as VMs.**</span></span> <span data-ttu-id="231ac-322">I blocchi di risorsa impediscono l'eliminazione accidentale di una risorsa da parte di un operatore.</span><span class="sxs-lookup"><span data-stu-id="231ac-322">Resource locks prevent an operator from accidentally deleting a resource.</span></span> <span data-ttu-id="231ac-323">Per altre informazioni, vedere [Lock resources with Azure Resource Manager](/azure/azure-resource-manager/resource-group-lock-resources/) (Bloccare le risorse con Azure Resource Manager)</span><span class="sxs-lookup"><span data-stu-id="231ac-323">For more information, see [Lock resources with Azure Resource Manager](/azure/azure-resource-manager/resource-group-lock-resources/)</span></span>

<span data-ttu-id="231ac-324">**Scegliere coppie di aree.**</span><span class="sxs-lookup"><span data-stu-id="231ac-324">**Choose regional pairs.**</span></span> <span data-ttu-id="231ac-325">Per la distribuzione in due aree, scegliere aree della stessa coppia.</span><span class="sxs-lookup"><span data-stu-id="231ac-325">When deploying to two regions, choose regions from the same regional pair.</span></span> <span data-ttu-id="231ac-326">Nel caso di un'interruzione su vasta scala, viene definita la priorità di ripristino di un'area per ogni coppia.</span><span class="sxs-lookup"><span data-stu-id="231ac-326">In the event of a broad outage, recovery of one region is prioritized out of every pair.</span></span> <span data-ttu-id="231ac-327">Alcuni servizi, ad esempio l'archiviazione con ridondanza geografica, offrono la replica automatica nell'area abbinata.</span><span class="sxs-lookup"><span data-stu-id="231ac-327">Some services such as Geo-Redundant Storage provide automatic replication to the paired region.</span></span> <span data-ttu-id="231ac-328">Per altre informazioni, vedere [Continuità aziendale e ripristino di emergenza nelle aree geografiche abbinate di Azure](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="231ac-328">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions](/azure/best-practices-availability-paired-regions)</span></span>

<span data-ttu-id="231ac-329">**Organizzare i gruppi di risorse in base alla funzione e al ciclo di vita.**</span><span class="sxs-lookup"><span data-stu-id="231ac-329">**Organize resource groups by function and lifecycle.**</span></span>  <span data-ttu-id="231ac-330">Un gruppo di risorse, in genere, contiene risorse che condividono lo stesso ciclo di vita.</span><span class="sxs-lookup"><span data-stu-id="231ac-330">In general, a resource group should contain resources that share the same lifecycle.</span></span> <span data-ttu-id="231ac-331">In questo modo, è più semplice gestire le distribuzioni, eliminare le distribuzioni di test e assegnare i diritti di accesso, riducendo le probabilità che una distribuzione di produzione venga accidentalmente eliminata o modificata.</span><span class="sxs-lookup"><span data-stu-id="231ac-331">This makes it easier to manage deployments, delete test deployments, and assign access rights, reducing the chance that a production deployment is accidentally deleted or modified.</span></span> <span data-ttu-id="231ac-332">Creare gruppi di risorse separati per gli ambienti di produzione, sviluppo e test.</span><span class="sxs-lookup"><span data-stu-id="231ac-332">Create separate resource groups for production, development, and test environments.</span></span> <span data-ttu-id="231ac-333">In una distribuzione in più aree, inserire le risorse per ogni area in gruppi di risorse separati.</span><span class="sxs-lookup"><span data-stu-id="231ac-333">In a multi-region deployment, put resources for each region into separate resource groups.</span></span> <span data-ttu-id="231ac-334">In questo modo diventa più semplice ridistribuire un'area senza influire sulle altre.</span><span class="sxs-lookup"><span data-stu-id="231ac-334">This makes it easier to redeploy one region without affecting the other region(s).</span></span>

## <a name="azure-services"></a><span data-ttu-id="231ac-335">Servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="231ac-335">Azure Services</span></span>
<span data-ttu-id="231ac-336">Le voci seguenti dell'elenco di controllo si applicano a servizi specifici in Azure.</span><span class="sxs-lookup"><span data-stu-id="231ac-336">The following checklist items apply to specific services in Azure.</span></span>

- [<span data-ttu-id="231ac-337">Servizio app</span><span class="sxs-lookup"><span data-stu-id="231ac-337">App Service</span></span>](#app-service)
- [<span data-ttu-id="231ac-338">Gateway applicazione</span><span class="sxs-lookup"><span data-stu-id="231ac-338">Application Gateway</span></span>](#application-gateway)
- [<span data-ttu-id="231ac-339">Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="231ac-339">Cosmos DB</span></span>](#cosmos-db)
- [<span data-ttu-id="231ac-340">Cache Redis</span><span class="sxs-lookup"><span data-stu-id="231ac-340">Redis Cache</span></span>](#redis-cache)
- [<span data-ttu-id="231ac-341">Ricerca</span><span class="sxs-lookup"><span data-stu-id="231ac-341">Search</span></span>](#search)
- [<span data-ttu-id="231ac-342">Archiviazione</span><span class="sxs-lookup"><span data-stu-id="231ac-342">Storage</span></span>](#storage)
- [<span data-ttu-id="231ac-343">Database SQL</span><span class="sxs-lookup"><span data-stu-id="231ac-343">SQL Database</span></span>](#sql-database)
- [<span data-ttu-id="231ac-344">SQL Server in esecuzione in una VM</span><span class="sxs-lookup"><span data-stu-id="231ac-344">SQL Server running in a VM</span></span>](#sql-server-running-in-a-vm)
- [<span data-ttu-id="231ac-345">Gestione traffico</span><span class="sxs-lookup"><span data-stu-id="231ac-345">Traffic Manager</span></span>](#traffic-manager)
- [<span data-ttu-id="231ac-346">Macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="231ac-346">Virtual Machines</span></span>](#virtual-machines)
- [<span data-ttu-id="231ac-347">Rete virtuale</span><span class="sxs-lookup"><span data-stu-id="231ac-347">Virtual Network</span></span>](#virtual-network)

### <a name="app-service"></a><span data-ttu-id="231ac-348">Servizio app</span><span class="sxs-lookup"><span data-stu-id="231ac-348">App Service</span></span>

<span data-ttu-id="231ac-349">**Usare il livello Standard o Premium.**</span><span class="sxs-lookup"><span data-stu-id="231ac-349">**Use Standard or Premium tier.**</span></span> <span data-ttu-id="231ac-350">Questi livelli supportano gli slot di staging e i backup automatici.</span><span class="sxs-lookup"><span data-stu-id="231ac-350">These tiers support staging slots and automated backups.</span></span> <span data-ttu-id="231ac-351">Per altre informazioni, vedere [Panoramica approfondita dei piani per Servizio app di Azure](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/)</span><span class="sxs-lookup"><span data-stu-id="231ac-351">For more information, see [Azure App Service plans in-depth overview](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/)</span></span>

<span data-ttu-id="231ac-352">**Evitare il ridimensionamento.**</span><span class="sxs-lookup"><span data-stu-id="231ac-352">**Avoid scaling up or down.**</span></span> <span data-ttu-id="231ac-353">Selezionare invece un livello e una dimensione di istanza che soddisfino i requisiti di prestazioni in condizioni di carico tipico e quindi [scalare orizzontalmente](/azure/app-service-web/web-sites-scale/) le istanze per gestire le modifiche nel volume del traffico.</span><span class="sxs-lookup"><span data-stu-id="231ac-353">Instead, select a tier and instance size that meet your performance requirements under typical load, and then [scale out](/azure/app-service-web/web-sites-scale/) the instances to handle changes in traffic volume.</span></span> <span data-ttu-id="231ac-354">Il ridimensionamento può determinare il riavvio dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-354">Scaling up and down may trigger an application restart.</span></span>  

<span data-ttu-id="231ac-355">**Archiviare la configurazione come impostazioni dell'app.**</span><span class="sxs-lookup"><span data-stu-id="231ac-355">**Store configuration as app settings.**</span></span> <span data-ttu-id="231ac-356">Usare le impostazioni dell'app per conservare le impostazioni di configurazione come impostazioni dell'app.</span><span class="sxs-lookup"><span data-stu-id="231ac-356">Use app settings to hold configuration settings as app settings.</span></span> <span data-ttu-id="231ac-357">Definire le impostazioni nei modelli di Resource Manager oppure tramite PowerShell, in modo da poterle applicare come parte di un processo di distribuzione/aggiornamento automatizzato, che è più affidabile.</span><span class="sxs-lookup"><span data-stu-id="231ac-357">Define the settings in your Resource Manager templates, or using PowerShell, so that you can apply them as part of an automated deployment / update process, which is more reliable.</span></span> <span data-ttu-id="231ac-358">Per altre informazioni, vedere [Configurazione delle app Web in Servizio app di Azure](/azure/app-service-web/web-sites-configure/).</span><span class="sxs-lookup"><span data-stu-id="231ac-358">For more information, see [Configure web apps in Azure App Service](/azure/app-service-web/web-sites-configure/).</span></span>

<span data-ttu-id="231ac-359">**Creare piani di servizio app separati per la produzione e per il test.**</span><span class="sxs-lookup"><span data-stu-id="231ac-359">**Create separate App Service plans for production and test.**</span></span> <span data-ttu-id="231ac-360">Non usare gli slot nella distribuzione di produzione per il test.</span><span class="sxs-lookup"><span data-stu-id="231ac-360">Don't use slots on your production deployment for testing.</span></span>  <span data-ttu-id="231ac-361">Tutte le app contenute nello stesso piano di servizio app condividono le stesse istanze di VM.</span><span class="sxs-lookup"><span data-stu-id="231ac-361">All apps within the same App Service plan share the same VM instances.</span></span> <span data-ttu-id="231ac-362">L'inserimento delle distribuzioni di produzione e di test nello stesso piano può influire negativamente sulla distribuzione di produzione.</span><span class="sxs-lookup"><span data-stu-id="231ac-362">If you put production and test deployments in the same plan, it can negatively affect the production deployment.</span></span> <span data-ttu-id="231ac-363">I test di carico, ad esempio, possono ridurre le prestazioni del sito di produzione attivo.</span><span class="sxs-lookup"><span data-stu-id="231ac-363">For example, load tests might degrade the live production site.</span></span> <span data-ttu-id="231ac-364">Se si inseriscono le distribuzioni di test in un piano separato, le si isola dalla versione di produzione.</span><span class="sxs-lookup"><span data-stu-id="231ac-364">By putting test deployments into a separate plan, you isolate them from the production version.</span></span>  

<span data-ttu-id="231ac-365">**Separare le app Web dalle API Web.**</span><span class="sxs-lookup"><span data-stu-id="231ac-365">**Separate web apps from web APIs.**</span></span> <span data-ttu-id="231ac-366">Se la soluzione contiene sia un front-end Web che un'API Web, si può considerare di scomporli in app del Servizio app separate.</span><span class="sxs-lookup"><span data-stu-id="231ac-366">If your solution has both a web front-end and a web API, consider decomposing them into separate App Service apps.</span></span> <span data-ttu-id="231ac-367">Questa progettazione rende più semplice scomporre la soluzione in base al carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="231ac-367">This design makes it easier to decompose the solution by workload.</span></span> <span data-ttu-id="231ac-368">Si possono eseguire l'app Web e l'API Web in piani di servizio app separati in modo che le si possa scalare in maniera indipendente.</span><span class="sxs-lookup"><span data-stu-id="231ac-368">You can run the web app and the API in separate App Service plans, so they can be scaled independently.</span></span> <span data-ttu-id="231ac-369">Se inizialmente questo livello di scalabilità non è necessario, è possibile distribuire le app nello stesso piano e spostarle successivamente in piani separati, se necessario.</span><span class="sxs-lookup"><span data-stu-id="231ac-369">If you don't need that level of scalability at first, you can deploy the apps into the same plan, and move them into separate plans later, if needed.</span></span>

<span data-ttu-id="231ac-370">**Evitare di usare la funzionalità di backup del Servizio app per eseguire il backup dei database SQL di Azure.**</span><span class="sxs-lookup"><span data-stu-id="231ac-370">**Avoid using the App Service backup feature to back up Azure SQL databases.**</span></span> <span data-ttu-id="231ac-371">Usare invece i [backup automatici del database SQL][sql-backup].</span><span class="sxs-lookup"><span data-stu-id="231ac-371">Instead, use [SQL Database automated backups][sql-backup].</span></span> <span data-ttu-id="231ac-372">Il backup del Servizio app di Azure esporta il database in un file SQL con estensione bacpac, che ha un costo in DTU.</span><span class="sxs-lookup"><span data-stu-id="231ac-372">App Service backup exports the database to a SQL .bacpac file, which costs DTUs.</span></span>  

<span data-ttu-id="231ac-373">**Distribuire in uno slot di staging.**</span><span class="sxs-lookup"><span data-stu-id="231ac-373">**Deploy to a staging slot.**</span></span> <span data-ttu-id="231ac-374">Creare uno slot di distribuzione per lo staging.</span><span class="sxs-lookup"><span data-stu-id="231ac-374">Create a deployment slot for staging.</span></span> <span data-ttu-id="231ac-375">Distribuire gli aggiornamenti dell'applicazione nello slot di staging e verificare la distribuzione prima di scambiarla nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="231ac-375">Deploy application updates to the staging slot, and verify the deployment before swapping it into production.</span></span> <span data-ttu-id="231ac-376">In questo modo, diminuiscono le probabilità che si esegua un aggiornamento non corretto nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="231ac-376">This reduces the chance of a bad update in production.</span></span> <span data-ttu-id="231ac-377">Assicura inoltre che tutte le istanze siano pronte per essere scambiate nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="231ac-377">It also ensures that all instances are warmed up before being swapped into production.</span></span> <span data-ttu-id="231ac-378">Molte applicazioni presentano tempi di riscaldamento e di avvio a freddo piuttosto lunghi.</span><span class="sxs-lookup"><span data-stu-id="231ac-378">Many applications have a significant warmup and cold-start time.</span></span> <span data-ttu-id="231ac-379">Per altre informazioni, vedere [Configurare ambienti di staging per le app Web nel Servizio app di Azure](/azure/app-service-web/web-sites-staged-publishing/).</span><span class="sxs-lookup"><span data-stu-id="231ac-379">For more information, see [Set up staging environments for web apps in Azure App Service](/azure/app-service-web/web-sites-staged-publishing/).</span></span>

<span data-ttu-id="231ac-380">**Creare uno slot di distribuzione per contenere l'ultima distribuzione valida nota.**</span><span class="sxs-lookup"><span data-stu-id="231ac-380">**Create a deployment slot to hold the last-known-good (LKG) deployment.**</span></span> <span data-ttu-id="231ac-381">Quando si distribuisce un aggiornamento nell'ambiente di produzione, spostare la distribuzione di produzione precedente nell'ultimo slot valido noto.</span><span class="sxs-lookup"><span data-stu-id="231ac-381">When you deploy an update to production, move the previous production deployment into the LKG slot.</span></span> <span data-ttu-id="231ac-382">Questa operazione rende più semplice eseguire il rollback di una distribuzione non corretta.</span><span class="sxs-lookup"><span data-stu-id="231ac-382">This makes it easier to roll back a bad deployment.</span></span> <span data-ttu-id="231ac-383">Se viene rilevato un problema in un secondo momento, è possibile ripristinare rapidamente l'ultima versione valida nota.</span><span class="sxs-lookup"><span data-stu-id="231ac-383">If you discover a problem later, you can quickly revert to the LKG version.</span></span> <span data-ttu-id="231ac-384">Per altre informazioni, vedere [Applicazione Web di base](../reference-architectures/app-service-web-app/basic-web-app.md).</span><span class="sxs-lookup"><span data-stu-id="231ac-384">For more information, see [Basic web application](../reference-architectures/app-service-web-app/basic-web-app.md).</span></span>

<span data-ttu-id="231ac-385">**Abilitare la registrazione diagnostica**, includendo la registrazione delle applicazioni e del server Web.</span><span class="sxs-lookup"><span data-stu-id="231ac-385">**Enable diagnostics logging**, including application logging and web server logging.</span></span> <span data-ttu-id="231ac-386">La registrazione è importante per il monitoraggio e la diagnostica.</span><span class="sxs-lookup"><span data-stu-id="231ac-386">Logging is important for monitoring and diagnostics.</span></span> <span data-ttu-id="231ac-387">Vedere [Abilitare la registrazione diagnostica per le app Web nel servizio app di Azure](/azure/app-service-web/web-sites-enable-diagnostic-log/).</span><span class="sxs-lookup"><span data-stu-id="231ac-387">See [Enable diagnostics logging for web apps in Azure App Service](/azure/app-service-web/web-sites-enable-diagnostic-log/)</span></span>

<span data-ttu-id="231ac-388">**Registrare nell'archivio BLOB.**</span><span class="sxs-lookup"><span data-stu-id="231ac-388">**Log to blob storage.**</span></span> <span data-ttu-id="231ac-389">Questa operazione rende più semplice raccogliere e analizzare i dati.</span><span class="sxs-lookup"><span data-stu-id="231ac-389">This makes it easier to collect and analyze the data.</span></span>

<span data-ttu-id="231ac-390">**Creare un account di archiviazione separato per i log.**</span><span class="sxs-lookup"><span data-stu-id="231ac-390">**Create a separate storage account for logs.**</span></span> <span data-ttu-id="231ac-391">Non usare lo stesso account di archiviazione per i log e i dati dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-391">Don't use the same storage account for logs and application data.</span></span> <span data-ttu-id="231ac-392">In questo modo si impedisce che la registrazione riduca le prestazioni dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-392">This helps to prevent logging from reducing application performance.</span></span>

<span data-ttu-id="231ac-393">**Monitorare le prestazioni.**</span><span class="sxs-lookup"><span data-stu-id="231ac-393">**Monitor performance.**</span></span> <span data-ttu-id="231ac-394">Usare un servizio di monitoraggio delle prestazioni, ad esempio [New Relic](http://newrelic.com/) o [Application Insights](/azure/application-insights/app-insights-overview/) per monitorare le prestazioni dell'applicazione e il comportamento sotto carico.</span><span class="sxs-lookup"><span data-stu-id="231ac-394">Use a performance monitoring service such as [New Relic](http://newrelic.com/) or [Application Insights](/azure/application-insights/app-insights-overview/) to monitor application performance and behavior under load.</span></span>  <span data-ttu-id="231ac-395">Il monitoraggio delle prestazioni offre informazioni approfondite in tempo reale sull'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-395">Performance monitoring gives you real-time insight into the application.</span></span> <span data-ttu-id="231ac-396">Consente di diagnosticare i problemi e di eseguire l'analisi della causa radice degli errori.</span><span class="sxs-lookup"><span data-stu-id="231ac-396">It enables you to diagnose issues and perform root-cause analysis of failures.</span></span>

### <a name="application-gateway"></a><span data-ttu-id="231ac-397">gateway applicazione</span><span class="sxs-lookup"><span data-stu-id="231ac-397">Application Gateway</span></span>

<span data-ttu-id="231ac-398">**Eseguire il provisioning di almeno due istanze.**</span><span class="sxs-lookup"><span data-stu-id="231ac-398">**Provision at least two instances.**</span></span> <span data-ttu-id="231ac-399">Distribuire il gateway applicazione con almeno due istanze.</span><span class="sxs-lookup"><span data-stu-id="231ac-399">Deploy Application Gateway with at least two instances.</span></span> <span data-ttu-id="231ac-400">Un'istanza singola è un singolo punto di errore.</span><span class="sxs-lookup"><span data-stu-id="231ac-400">A single instance is a single point of failure.</span></span> <span data-ttu-id="231ac-401">Usare due o più istanze per la ridondanza e la scalabilità.</span><span class="sxs-lookup"><span data-stu-id="231ac-401">Use two or more instances for redundancy and scalability.</span></span> <span data-ttu-id="231ac-402">Per essere idonei al [contratto di servizio](https://azure.microsoft.com/support/legal/sla/application-gateway/v1_0/), è necessario eseguire il provisioning di due o più istanze di medie o grandi dimensioni.</span><span class="sxs-lookup"><span data-stu-id="231ac-402">In order to qualify for the [SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/v1_0/), you must provision two or more medium or larger instances.</span></span>

### <a name="cosmos-db"></a><span data-ttu-id="231ac-403">Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="231ac-403">Cosmos DB</span></span>

<span data-ttu-id="231ac-404">**Replicare il database tra aree.**</span><span class="sxs-lookup"><span data-stu-id="231ac-404">**Replicate the database across regions.**</span></span> <span data-ttu-id="231ac-405">Azure Cosmos DB consente di associare qualsiasi numero di aree di Azure a un account del database Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="231ac-405">Cosmos DB allows you to associate any number of Azure regions with a Cosmos DB database account.</span></span> <span data-ttu-id="231ac-406">Un database Microsoft Azure Cosmos DB può avere più aree di lettura e un'area di scrittura.</span><span class="sxs-lookup"><span data-stu-id="231ac-406">A Cosmos DB database can have one write region and multiple read regions.</span></span> <span data-ttu-id="231ac-407">Se si verifica un errore nell'area di scrittura, è possibile leggere da un'altra replica.</span><span class="sxs-lookup"><span data-stu-id="231ac-407">If there is a failure in the write region, you can read from another replica.</span></span> <span data-ttu-id="231ac-408">Il client SDK gestisce questa situazione automaticamente.</span><span class="sxs-lookup"><span data-stu-id="231ac-408">The Client SDK handles this automatically.</span></span> <span data-ttu-id="231ac-409">È anche possibile eseguire il failover dell'area di scrittura in un'altra area.</span><span class="sxs-lookup"><span data-stu-id="231ac-409">You can also fail over the write region to another region.</span></span> <span data-ttu-id="231ac-410">Per altre informazioni, vedere [Come distribuire i dati a livello globale con Azure Cosmos DB](/azure/documentdb/documentdb-distribute-data-globally).</span><span class="sxs-lookup"><span data-stu-id="231ac-410">For more information, see [How to distribute data globally with Azure Cosmos DB?](/azure/documentdb/documentdb-distribute-data-globally)</span></span>

### <a name="redis-cache"></a><span data-ttu-id="231ac-411">Cache Redis</span><span class="sxs-lookup"><span data-stu-id="231ac-411">Redis Cache</span></span>

<span data-ttu-id="231ac-412">**Configurare la replica geografica**.</span><span class="sxs-lookup"><span data-stu-id="231ac-412">**Configure Geo-replication**.</span></span> <span data-ttu-id="231ac-413">La replica geografica fornisce un meccanismo per il collegamento di due istanze di Cache Redis di Azure di livello Premium.</span><span class="sxs-lookup"><span data-stu-id="231ac-413">Geo-replication provides a mechanism for linking two Premium tier Azure Redis Cache instances.</span></span> <span data-ttu-id="231ac-414">I dati scritti nella cache primaria vengono replicati in una cache secondaria di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="231ac-414">Data written to the primary cache is replicated to a secondary read-only cache.</span></span> <span data-ttu-id="231ac-415">Per altre informazioni, vedere [Come configurare la replica geografica per Cache Redis di Azure](/azure/redis-cache/cache-how-to-geo-replication).</span><span class="sxs-lookup"><span data-stu-id="231ac-415">For more information, see [How to configure Geo-replication for Azure Redis Cache](/azure/redis-cache/cache-how-to-geo-replication)</span></span>

<span data-ttu-id="231ac-416">**Configurare la persistenza dei dati.**</span><span class="sxs-lookup"><span data-stu-id="231ac-416">**Configure data persistence.**</span></span> <span data-ttu-id="231ac-417">La persistenza di Redis consente di rendere persistenti i dati archiviati in Redis.</span><span class="sxs-lookup"><span data-stu-id="231ac-417">Redis persistence allows you to persist data stored in Redis.</span></span> <span data-ttu-id="231ac-418">È inoltre possibile creare snapshot ed eseguire il backup dei dati, per consentirne il caricamento in caso di errore hardware.</span><span class="sxs-lookup"><span data-stu-id="231ac-418">You can also take snapshots and back up the data, which you can load in case of a hardware failure.</span></span> <span data-ttu-id="231ac-419">Per altre informazioni, vedere [Come configurare la persistenza dei dati per una Cache Redis di Azure Premium](/azure/redis-cache/cache-how-to-premium-persistence).</span><span class="sxs-lookup"><span data-stu-id="231ac-419">For more information, see [How to configure data persistence for a Premium Azure Redis Cache](/azure/redis-cache/cache-how-to-premium-persistence)</span></span>

<span data-ttu-id="231ac-420">Se si usa Redis Cache come cache di dati temporanea e non come archivio persistente, questi consigli potrebbero non essere applicabili.</span><span class="sxs-lookup"><span data-stu-id="231ac-420">If you are using Redis Cache as a temporary data cache and not as a persistent store, these recommendations may not apply.</span></span> 

### <a name="search"></a><span data-ttu-id="231ac-421">Ricerca</span><span class="sxs-lookup"><span data-stu-id="231ac-421">Search</span></span>

<span data-ttu-id="231ac-422">**Eseguire il provisioning di più repliche.**</span><span class="sxs-lookup"><span data-stu-id="231ac-422">**Provision more than one replica.**</span></span> <span data-ttu-id="231ac-423">Usare almeno due repliche per la disponibilità elevata in lettura o tre per la disponibilità elevata in scrittura.</span><span class="sxs-lookup"><span data-stu-id="231ac-423">Use at least two replicas for read high-availability, or three for read-write high-availability.</span></span>

<span data-ttu-id="231ac-424">**Configurare gli indicizzatori per le distribuzioni in più aree.**</span><span class="sxs-lookup"><span data-stu-id="231ac-424">**Configure indexers for multi-region deployments.**</span></span> <span data-ttu-id="231ac-425">Con una distribuzione in più aree, si possono considerare le opzioni per la continuità nell'indicizzazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-425">If you have a multi-region deployment, consider your options for continuity in indexing.</span></span>

  * <span data-ttu-id="231ac-426">Se l'origine dati viene replicata geograficamente, occorre puntare ogni indicizzatore di ogni servizio di Ricerca di Azure regionale sulla replica dell'origine dati locale.</span><span class="sxs-lookup"><span data-stu-id="231ac-426">If the data source is geo-replicated, you should generally point each indexer of each regional Azure Search service to its local data source replica.</span></span> <span data-ttu-id="231ac-427">Tale approccio non è tuttavia consigliato per i set di dati di grandi dimensioni archiviati nel database di SQL Azure.</span><span class="sxs-lookup"><span data-stu-id="231ac-427">However, that approach is not recommended for large datasets stored in Azure SQL Database.</span></span> <span data-ttu-id="231ac-428">Il motivo è che Ricerca di Azure non può eseguire l'indicizzazione incrementale da repliche di database SQL secondarie, ma solo da repliche primarie.</span><span class="sxs-lookup"><span data-stu-id="231ac-428">The reason is that Azure Search cannot perform incremental indexing from secondary SQL Database replicas, only from primary replicas.</span></span> <span data-ttu-id="231ac-429">Puntare quindi tutti gli indicizzatori sulla replica primaria.</span><span class="sxs-lookup"><span data-stu-id="231ac-429">Instead, point all indexers to the primary replica.</span></span> <span data-ttu-id="231ac-430">Dopo un failover, puntare gli indicizzatori di Ricerca di Azure sulla nuova replica primaria.</span><span class="sxs-lookup"><span data-stu-id="231ac-430">After a failover, point the Azure Search indexers at the new primary replica.</span></span>  
  * <span data-ttu-id="231ac-431">Se l'origine dati non è replicata geograficamente, puntare più indicizzatori sulla stessa origine dati, in modo che i servizi di Ricerca di Azure in più aree eseguano l'indicizzazione dall'origine dati in modo continuativo e indipendente.</span><span class="sxs-lookup"><span data-stu-id="231ac-431">If the data source is not geo-replicated, point multiple indexers at the same data source, so that Azure Search services in multiple regions continuously and independently index from the data source.</span></span> <span data-ttu-id="231ac-432">Per altre informazioni, vedere [Considerazioni sulle prestazioni e sull'ottimizzazione di Ricerca di Azure][search-optimization].</span><span class="sxs-lookup"><span data-stu-id="231ac-432">For more information, see [Azure Search performance and optimization considerations][search-optimization].</span></span>

### <a name="storage"></a><span data-ttu-id="231ac-433">Archiviazione</span><span class="sxs-lookup"><span data-stu-id="231ac-433">Storage</span></span>

<span data-ttu-id="231ac-434">**Per i dati dell'applicazione, usare l'Archiviazione con ridondanza geografica e accesso in lettura (RA-GRS).**</span><span class="sxs-lookup"><span data-stu-id="231ac-434">**For application data, use read-access geo-redundant storage (RA-GRS).**</span></span> <span data-ttu-id="231ac-435">L'archiviazione RA-GRS replica i dati in un'area secondaria e fornisce l'accesso in sola lettura dall'area secondaria.</span><span class="sxs-lookup"><span data-stu-id="231ac-435">RA-GRS storage replicates the data to a secondary region, and provides read-only access from the secondary region.</span></span> <span data-ttu-id="231ac-436">Se si verifica un'interruzione dell'archiviazione nell'area primaria, l'applicazione può leggere i dati dall'area secondaria.</span><span class="sxs-lookup"><span data-stu-id="231ac-436">If there is a storage outage in the primary region, the application can read the data from the secondary region.</span></span> <span data-ttu-id="231ac-437">Per altre informazioni, vedere [Replica di Archiviazione di Azure](/azure/storage/storage-redundancy/).</span><span class="sxs-lookup"><span data-stu-id="231ac-437">For more information, see [Azure Storage replication](/azure/storage/storage-redundancy/).</span></span>

<span data-ttu-id="231ac-438">**Per i dischi di VM, usare Managed Disks.**</span><span class="sxs-lookup"><span data-stu-id="231ac-438">**For VM disks, use Managed Disks.**</span></span> <span data-ttu-id="231ac-439">Il servizio [Managed Disks][managed-disks] offre una maggiore affidabilità per le VM in un set di disponibilità, perché fa in modo che i dischi siano sufficientemente isolati gli uni dagli altri per evitare singoli punti di errore.</span><span class="sxs-lookup"><span data-stu-id="231ac-439">[Managed Disks][managed-disks] provide better reliability for VMs in an availability set, because the disks are sufficiently isolated from each other to avoid single points of failure.</span></span> <span data-ttu-id="231ac-440">I dischi gestiti, inoltre, non sono soggetti ai limiti delle operazioni di I/O al secondo dei dischi rigidi virtuali creati in un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-440">Also, Managed Disks aren't subject to the IOPS limits of VHDs created in a storage account.</span></span> <span data-ttu-id="231ac-441">Per altre informazioni, vedere [Gestire la disponibilità delle macchine virtuali Windows in Azure][vm-manage-availability].</span><span class="sxs-lookup"><span data-stu-id="231ac-441">For more information, see [Manage the availability of Windows virtual machines in Azure][vm-manage-availability].</span></span>

<span data-ttu-id="231ac-442">**Per l'archiviazione code, creare una coda di backup in un'altra area.**</span><span class="sxs-lookup"><span data-stu-id="231ac-442">**For Queue storage, create a backup queue in another region.**</span></span> <span data-ttu-id="231ac-443">Per l'archiviazione code, una replica di sola lettura ha un uso limitato, perché non è possibile accodare o rimuovere oggetti dalla coda.</span><span class="sxs-lookup"><span data-stu-id="231ac-443">For Queue storage, a read-only replica has limited use, because you can't queue or dequeue items.</span></span> <span data-ttu-id="231ac-444">Creare invece una coda di backup in un account di archiviazione in un'altra area.</span><span class="sxs-lookup"><span data-stu-id="231ac-444">Instead, create a backup queue in a storage account in another region.</span></span> <span data-ttu-id="231ac-445">Se si verifica un'interruzione nell'archiviazione, l'applicazione può usare la coda di backup finché l'area primaria non torna nuovamente disponibile.</span><span class="sxs-lookup"><span data-stu-id="231ac-445">If there is a storage outage, the application can use the backup queue, until the primary region becomes available again.</span></span> <span data-ttu-id="231ac-446">In questo modo, l'applicazione può comunque elaborare nuove richieste.</span><span class="sxs-lookup"><span data-stu-id="231ac-446">That way, the application can still process new requests.</span></span>  

### <a name="sql-database"></a><span data-ttu-id="231ac-447">Database SQL</span><span class="sxs-lookup"><span data-stu-id="231ac-447">SQL Database</span></span>

<span data-ttu-id="231ac-448">**Usare il livello Standard o Premium.**</span><span class="sxs-lookup"><span data-stu-id="231ac-448">**Use Standard or Premium tier.**</span></span> <span data-ttu-id="231ac-449">Questi livelli offrono un periodo di ripristino temporizzato più lungo (35 giorni).</span><span class="sxs-lookup"><span data-stu-id="231ac-449">These tiers provide a longer point-in-time restore period (35 days).</span></span> <span data-ttu-id="231ac-450">Per altre informazioni vedere [SQL Database options and performance](/azure/sql-database/sql-database-service-tiers/) (Prestazioni e opzioni del database SQL).</span><span class="sxs-lookup"><span data-stu-id="231ac-450">For more information, see [SQL Database options and performance](/azure/sql-database/sql-database-service-tiers/).</span></span>

<span data-ttu-id="231ac-451">**Abilitare il controllo del database SQL.**</span><span class="sxs-lookup"><span data-stu-id="231ac-451">**Enable SQL Database auditing.**</span></span> <span data-ttu-id="231ac-452">Il controllo può essere usato per diagnosticare errori umani o attacchi dannosi.</span><span class="sxs-lookup"><span data-stu-id="231ac-452">Auditing can be used to diagnose malicious attacks or human error.</span></span> <span data-ttu-id="231ac-453">Per altre informazioni, vedere l' [Introduzione al controllo del database SQL](/azure/sql-database/sql-database-auditing-get-started/).</span><span class="sxs-lookup"><span data-stu-id="231ac-453">For more information, see [Get started with SQL database auditing](/azure/sql-database/sql-database-auditing-get-started/).</span></span>

<span data-ttu-id="231ac-454">**Usare la replica geografica attiva.** Usare la replica geografica attiva per crearne una secondaria leggibile in un'altra area.</span><span class="sxs-lookup"><span data-stu-id="231ac-454">**Use Active Geo-Replication** Use Active Geo-Replication to create a readable secondary in a different region.</span></span>  <span data-ttu-id="231ac-455">Se il database primario restituisce un errore o deve semplicemente essere portato offline, eseguire un failover manuale al database secondario.</span><span class="sxs-lookup"><span data-stu-id="231ac-455">If your primary database fails, or simply needs to be taken offline, perform a manual failover to the secondary database.</span></span>  <span data-ttu-id="231ac-456">Nella fase di failover il database secondario rimane in sola lettura.</span><span class="sxs-lookup"><span data-stu-id="231ac-456">Until you fail over, the secondary database remains read-only.</span></span>  <span data-ttu-id="231ac-457">Per altre informazioni, vedere [SQL Database Active Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/) (Replica geografica attiva del database SQL).</span><span class="sxs-lookup"><span data-stu-id="231ac-457">For more information, see [SQL Database Active Geo-Replication](/azure/sql-database/sql-database-geo-replication-overview/).</span></span>

<span data-ttu-id="231ac-458">**Usare il partizionamento orizzontale.**</span><span class="sxs-lookup"><span data-stu-id="231ac-458">**Use sharding.**</span></span> <span data-ttu-id="231ac-459">Considerare l'utilizzo del partizionamento orizzontale per il database.</span><span class="sxs-lookup"><span data-stu-id="231ac-459">Consider using sharding to partition the database horizontally.</span></span> <span data-ttu-id="231ac-460">Il partizionamento orizzontale può isolare gli errori.</span><span class="sxs-lookup"><span data-stu-id="231ac-460">Sharding can provide fault isolation.</span></span> <span data-ttu-id="231ac-461">Per altre informazioni, vedere [Aumentare il numero di istanze con il database SQL di Azure](/azure/sql-database/sql-database-elastic-scale-introduction/).</span><span class="sxs-lookup"><span data-stu-id="231ac-461">For more information, see [Scaling out with Azure SQL Database](/azure/sql-database/sql-database-elastic-scale-introduction/).</span></span>

<span data-ttu-id="231ac-462">**Usare il ripristino temporizzato per recuperare da un errore umano.**</span><span class="sxs-lookup"><span data-stu-id="231ac-462">**Use point-in-time restore to recover from human error.**</span></span>  <span data-ttu-id="231ac-463">Il ripristino temporizzato riporta il database a un punto precedente nel tempo.</span><span class="sxs-lookup"><span data-stu-id="231ac-463">Point-in-time restore returns your database to an earlier point in time.</span></span> <span data-ttu-id="231ac-464">Per altre informazioni, vedere [Ripristinare un database SQL di Azure mediante i backup automatici del database][sql-restore].</span><span class="sxs-lookup"><span data-stu-id="231ac-464">For more information, see [Recover an Azure SQL database using automated database backups][sql-restore].</span></span>

<span data-ttu-id="231ac-465">**Eseguire il ripristino a livello geografico per recuperare da un'interruzione del servizio.**</span><span class="sxs-lookup"><span data-stu-id="231ac-465">**Use geo-restore to recover from a service outage.**</span></span> <span data-ttu-id="231ac-466">Il ripristino geografico recupera un database da un backup con ridondanza geografica.</span><span class="sxs-lookup"><span data-stu-id="231ac-466">Geo-restore restores a database from a geo-redundant backup.</span></span>  <span data-ttu-id="231ac-467">Per altre informazioni, vedere [Ripristinare un database SQL di Azure mediante i backup automatici del database][sql-restore].</span><span class="sxs-lookup"><span data-stu-id="231ac-467">For more information, see [Recover an Azure SQL database using automated database backups][sql-restore].</span></span>

### <a name="sql-server-running-in-a-vm"></a><span data-ttu-id="231ac-468">SQL Server in esecuzione in una VM</span><span class="sxs-lookup"><span data-stu-id="231ac-468">SQL Server running in a VM</span></span>

<span data-ttu-id="231ac-469">**Replicare il database.**</span><span class="sxs-lookup"><span data-stu-id="231ac-469">**Replicate the database.**</span></span> <span data-ttu-id="231ac-470">Usare i gruppi di disponibilità AlwaysOn di SQL Server per replicare il database.</span><span class="sxs-lookup"><span data-stu-id="231ac-470">Use SQL Server Always On Availability Groups to replicate the database.</span></span> <span data-ttu-id="231ac-471">Questo approccio offre disponibilità elevata se un'istanza di SQL Server ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="231ac-471">Provides high availability if one SQL Server instance fails.</span></span> <span data-ttu-id="231ac-472">Per altre informazioni, vedere [Eseguire macchine virtuali Windows per un'applicazione a più livelli](../reference-architectures/virtual-machines-windows/n-tier.md).</span><span class="sxs-lookup"><span data-stu-id="231ac-472">For more information, see [Run Windows VMs for an N-tier application](../reference-architectures/virtual-machines-windows/n-tier.md)</span></span>

<span data-ttu-id="231ac-473">**Eseguire il backup del database.**</span><span class="sxs-lookup"><span data-stu-id="231ac-473">**Back up the database**.</span></span> <span data-ttu-id="231ac-474">Se si usa già [Backup di Azure](https://azure.microsoft.com/documentation/services/backup/) per eseguire il backup delle VM, considerare di usare [Backup di Azure per carichi di lavoro di SQL Server con DPM](/azure/backup/backup-azure-backup-sql/).</span><span class="sxs-lookup"><span data-stu-id="231ac-474">If you are already using [Azure Backup](https://azure.microsoft.com/documentation/services/backup/) to back up your VMs, consider using [Azure Backup for SQL Server workloads using DPM](/azure/backup/backup-azure-backup-sql/).</span></span> <span data-ttu-id="231ac-475">Con questo approccio, si usano un solo ruolo di amministratore di backup per l'organizzazione e una procedura di ripristino unificata per le macchine virtuali e SQL Server.</span><span class="sxs-lookup"><span data-stu-id="231ac-475">With this approach, there is one backup administrator role for the organization and a unified recovery procedure for VMs and SQL Server.</span></span> <span data-ttu-id="231ac-476">Usare altrimenti [Backup gestito di SQL Server in Microsoft Azure](https://msdn.microsoft.com/library/dn449496.aspx).</span><span class="sxs-lookup"><span data-stu-id="231ac-476">Otherwise, use [SQL Server Managed Backup to Microsoft Azure](https://msdn.microsoft.com/library/dn449496.aspx).</span></span>

### <a name="traffic-manager"></a><span data-ttu-id="231ac-477">servizio Gestione traffico</span><span class="sxs-lookup"><span data-stu-id="231ac-477">Traffic Manager</span></span>

<span data-ttu-id="231ac-478">**Eseguire il failback manuale.**</span><span class="sxs-lookup"><span data-stu-id="231ac-478">**Perform manual failback.**</span></span> <span data-ttu-id="231ac-479">Dopo un failover di Gestione traffico, eseguire il failback manuale anziché automatico.</span><span class="sxs-lookup"><span data-stu-id="231ac-479">After a Traffic Manager failover, perform manual failback, rather than automatically failing back.</span></span> <span data-ttu-id="231ac-480">Prima del failback, verificare che tutti i sottosistemi dell'applicazione siano integri.</span><span class="sxs-lookup"><span data-stu-id="231ac-480">Before failing back, verify that all application subsystems are healthy.</span></span>  <span data-ttu-id="231ac-481">In caso contrario, si potrebbe creare una situazione in cui l'applicazione passa alternativamente da un data center all'altro.</span><span class="sxs-lookup"><span data-stu-id="231ac-481">Otherwise, you can create a situation where the application flips back and forth between data centers.</span></span> <span data-ttu-id="231ac-482">Per altre informazioni, vedere [Eseguire macchine virtuali in più aree per una disponibilità elevata](../reference-architectures/virtual-machines-windows/multi-region-application.md).</span><span class="sxs-lookup"><span data-stu-id="231ac-482">For more information, see [Run VMs in multiple regions for high availability](../reference-architectures/virtual-machines-windows/multi-region-application.md).</span></span>

<span data-ttu-id="231ac-483">**Creare un endpoint di probe di integrità.**</span><span class="sxs-lookup"><span data-stu-id="231ac-483">**Create a health probe endpoint.**</span></span> <span data-ttu-id="231ac-484">Creare un endpoint personalizzato che segnali l'integrità generale dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-484">Create a custom endpoint that reports on the overall health of the application.</span></span> <span data-ttu-id="231ac-485">Gestione traffico può così eseguire il failover se si verifica un errore in un percorso critico, non solo nel front-end.</span><span class="sxs-lookup"><span data-stu-id="231ac-485">This enables Traffic Manager to fail over if any critical path fails, not just the front end.</span></span> <span data-ttu-id="231ac-486">L'endpoint restituisce un codice di errore HTTP se una qualsiasi dipendenza critica non è integra o non è raggiungibile.</span><span class="sxs-lookup"><span data-stu-id="231ac-486">The endpoint should return an HTTP error code if any critical dependency is unhealthy or unreachable.</span></span> <span data-ttu-id="231ac-487">Non segnalare tuttavia gli errori relativi ai servizi non critici.</span><span class="sxs-lookup"><span data-stu-id="231ac-487">Don't report errors for non-critical services, however.</span></span> <span data-ttu-id="231ac-488">In caso contrario, il probe di integrità potrebbe generare il failover quando non è necessario e creare di conseguenza falsi positivi.</span><span class="sxs-lookup"><span data-stu-id="231ac-488">Otherwise, the health probe might trigger failover when it's not needed, creating false positives.</span></span> <span data-ttu-id="231ac-489">Per altre informazioni, vedere [Traffic Manager endpoint monitoring and failover](/azure/traffic-manager/traffic-manager-monitoring/) (Monitoraggio degli endpoint di Gestione traffico e failover).</span><span class="sxs-lookup"><span data-stu-id="231ac-489">For more information, see [Traffic Manager endpoint monitoring and failover](/azure/traffic-manager/traffic-manager-monitoring/).</span></span>

### <a name="virtual-machines"></a><span data-ttu-id="231ac-490">Macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="231ac-490">Virtual Machines</span></span>

<span data-ttu-id="231ac-491">**Evitare di eseguire un carico di lavoro di produzione in una singola VM.**</span><span class="sxs-lookup"><span data-stu-id="231ac-491">**Avoid running a production workload on a single VM.**</span></span> <span data-ttu-id="231ac-492">La distribuzione in una singola macchina virtuale non è resistente alle operazioni di manutenzione pianificate o non pianificate.</span><span class="sxs-lookup"><span data-stu-id="231ac-492">A single VM deployment is not resilient to planned or unplanned maintenance.</span></span> <span data-ttu-id="231ac-493">Inserire invece più macchine virtuali in un set di disponibilità o [set di scalabilità di macchine virtuali](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/), con un servizio di bilanciamento del carico in primo piano.</span><span class="sxs-lookup"><span data-stu-id="231ac-493">Instead, put multiple VMs in an availability set or [VM scale set](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-overview/), with a load balancer in front.</span></span>

<span data-ttu-id="231ac-494">**Specificare un set di disponibilità quando si esegue il provisioning della VM.**</span><span class="sxs-lookup"><span data-stu-id="231ac-494">**Specify an availability set when you provision the VM.**</span></span> <span data-ttu-id="231ac-495">Non è possibile attualmente aggiungere una macchina virtuale a un set di disponibilità dopo avere eseguito il provisioning della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="231ac-495">Currently, there is no way to add a VM to an availability set after the VM is provisioned.</span></span> <span data-ttu-id="231ac-496">Quando si aggiunge una nuova macchina virtuale a un set di disponibilità esistente, assicurarsi di creare una scheda di rete per la macchina virtuale e aggiungere la scheda di rete al pool di indirizzi back-end nel servizio di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="231ac-496">When you add a new VM to an existing availability set, make sure to create a NIC for the VM, and add the NIC to the back-end address pool on the load balancer.</span></span> <span data-ttu-id="231ac-497">In caso contrario, il servizio di bilanciamento del carico non instrada il traffico di rete a tale macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="231ac-497">Otherwise, the load balancer won't route network traffic to that VM.</span></span>

<span data-ttu-id="231ac-498">**Inserire ogni livello applicazione in un set di disponibilità separato.**</span><span class="sxs-lookup"><span data-stu-id="231ac-498">**Put each application tier into a separate Availability Set.**</span></span> <span data-ttu-id="231ac-499">In un'applicazione a più livelli, non inserire le macchine virtuali appartenenti a livelli differenti nello stesso set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="231ac-499">In an N-tier application, don't put VMs from different tiers into the same availability set.</span></span> <span data-ttu-id="231ac-500">Le macchine virtuali in un set di disponibilità sono posizionate in più domini di errore (FD) e di aggiornamento (UD).</span><span class="sxs-lookup"><span data-stu-id="231ac-500">VMs in an availability set are placed across fault domains (FDs) and update domains (UD).</span></span> <span data-ttu-id="231ac-501">Per ottenere il vantaggio della ridondanza dei domini di errore e dei domini di aggiornamento, tuttavia, ogni macchina virtuale nel set di disponibilità deve essere in grado di gestire le stesse richieste del client.</span><span class="sxs-lookup"><span data-stu-id="231ac-501">However, to get the redundancy benefit of FDs and UDs, every VM in the availability set must be able to handle the same client requests.</span></span>

<span data-ttu-id="231ac-502">**Scegliere le dimensioni di VM corrette in base ai requisiti di prestazioni.**</span><span class="sxs-lookup"><span data-stu-id="231ac-502">**Choose the right VM size based on performance requirements.**</span></span> <span data-ttu-id="231ac-503">Quando si sposta un carico di lavoro esistente in Azure, per iniziare scegliere le dimensioni di VM più simili a quelle dei server locali.</span><span class="sxs-lookup"><span data-stu-id="231ac-503">When moving an existing workload to Azure, start with the VM size that's the closest match to your on-premises servers.</span></span> <span data-ttu-id="231ac-504">Misurare quindi le prestazioni del carico di lavoro effettivo in relazione agli aspetti di CPU, memoria e operazioni di I/O al secondo del disco e regolare le dimensioni secondo le necessità.</span><span class="sxs-lookup"><span data-stu-id="231ac-504">Then measure the performance of your actual workload with respect to CPU, memory, and disk IOPS, and adjust the size if needed.</span></span> <span data-ttu-id="231ac-505">Ciò aiuta a garantire il corretto funzionamento dell'applicazione in un ambiente cloud.</span><span class="sxs-lookup"><span data-stu-id="231ac-505">This helps to ensure the application behaves as expected in a cloud environment.</span></span> <span data-ttu-id="231ac-506">Inoltre, se sono necessarie più schede di interfaccia di rete, tenerne presente il limite per ogni dimensione.</span><span class="sxs-lookup"><span data-stu-id="231ac-506">Also, if you need multiple NICs, be aware of the NIC limit for each size.</span></span>

<span data-ttu-id="231ac-507">**Usare Managed Disks per i dischi rigidi virtuali.**</span><span class="sxs-lookup"><span data-stu-id="231ac-507">**Use Managed Disks for VHDs.**</span></span> <span data-ttu-id="231ac-508">Il servizio [Managed Disks][managed-disks] offre una maggiore affidabilità per le VM in un set di disponibilità, perché fa in modo che i dischi siano sufficientemente isolati gli uni dagli altri per evitare singoli punti di errore.</span><span class="sxs-lookup"><span data-stu-id="231ac-508">[Managed Disks][managed-disks] provide better reliability for VMs in an availability set, because the disks are sufficiently isolated from each other to avoid single points of failure.</span></span> <span data-ttu-id="231ac-509">I dischi gestiti, inoltre, non sono soggetti ai limiti delle operazioni di I/O al secondo dei dischi rigidi virtuali creati in un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-509">Also, Managed Disks aren't subject to the IOPS limits of VHDs created in a storage account.</span></span> <span data-ttu-id="231ac-510">Per altre informazioni, vedere [Gestire la disponibilità delle macchine virtuali Windows in Azure][vm-manage-availability].</span><span class="sxs-lookup"><span data-stu-id="231ac-510">For more information, see [Manage the availability of Windows virtual machines in Azure][vm-manage-availability].</span></span>

<span data-ttu-id="231ac-511">**Installare le applicazioni in un disco di dati, non nel disco del sistema operativo.**</span><span class="sxs-lookup"><span data-stu-id="231ac-511">**Install applications on a data disk, not the OS disk.**</span></span> <span data-ttu-id="231ac-512">In caso contrario, è possibile raggiungere il limite delle dimensioni del disco.</span><span class="sxs-lookup"><span data-stu-id="231ac-512">Otherwise, you may reach the disk size limit.</span></span>

<span data-ttu-id="231ac-513">**Usare Backup di Azure per eseguire il backup delle VM.**</span><span class="sxs-lookup"><span data-stu-id="231ac-513">**Use Azure Backup to back up VMs.**</span></span> <span data-ttu-id="231ac-514">I backup proteggono contro la perdita di dati accidentale.</span><span class="sxs-lookup"><span data-stu-id="231ac-514">Backups protect against accidental data loss.</span></span> <span data-ttu-id="231ac-515">Per altre informazioni, vedere [Protect Azure VMs with a recovery services vault](/azure/backup/backup-azure-vms-first-look-arm/) (Proteggere le VM di Azure con l'insieme di credenziali dei servizi di ripristino).</span><span class="sxs-lookup"><span data-stu-id="231ac-515">For more information, see [Protect Azure VMs with a recovery services vault](/azure/backup/backup-azure-vms-first-look-arm/).</span></span>

<span data-ttu-id="231ac-516">**Abilitare i log di diagnostica**, inclusi le metriche di integrità di base, i log dell'infrastruttura e la [diagnostica di avvio][boot-diagnostics].</span><span class="sxs-lookup"><span data-stu-id="231ac-516">**Enable diagnostic logs**, including basic health metrics, infrastructure logs, and [boot diagnostics][boot-diagnostics].</span></span> <span data-ttu-id="231ac-517">La diagnostica di avvio permette di diagnosticare gli errori di avvio quando la VM passa a uno stato non avviabile.</span><span class="sxs-lookup"><span data-stu-id="231ac-517">Boot diagnostics can help you diagnose a boot failure if your VM gets into a non-bootable state.</span></span> <span data-ttu-id="231ac-518">Per altre informazioni, vedere [Overview of Azure Diagnostic Logs][diagnostics-logs] (Panoramica dei log di diagnostica di Azure).</span><span class="sxs-lookup"><span data-stu-id="231ac-518">For more information, see [Overview of Azure Diagnostic Logs][diagnostics-logs].</span></span>

<span data-ttu-id="231ac-519">**Usare l'estensione AzureLogCollector.**</span><span class="sxs-lookup"><span data-stu-id="231ac-519">**Use the AzureLogCollector extension.**</span></span> <span data-ttu-id="231ac-520">Solo VM Windows. Questa estensione aggrega i log della piattaforma Azure e li carica in Archiviazione di Azure, senza che l'operatore acceda in remoto alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="231ac-520">(Windows VMs only.) This extension aggregates Azure platform logs and uploads them to Azure storage, without the operator remotely logging into the VM.</span></span> <span data-ttu-id="231ac-521">Per altre informazioni, vedere [Estensione AzureLogCollector](/azure/virtual-machines/virtual-machines-windows-log-collector-extension/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="231ac-521">For more information, see [AzureLogCollector Extension](/azure/virtual-machines/virtual-machines-windows-log-collector-extension/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

### <a name="virtual-network"></a><span data-ttu-id="231ac-522">Rete virtuale</span><span class="sxs-lookup"><span data-stu-id="231ac-522">Virtual Network</span></span>

<span data-ttu-id="231ac-523">**Per inserire nell'elenco degli elementi consentiti o bloccare gli indirizzi IP pubblici, aggiungere un gruppo di sicurezza di rete (NSG) alla subnet.**</span><span class="sxs-lookup"><span data-stu-id="231ac-523">**To whitelist or block public IP addresses, add an NSG to the subnet.**</span></span> <span data-ttu-id="231ac-524">Bloccare l'accesso di utenti malintenzionati o consentire l'accesso solo agli utenti che dispongono delle autorizzazioni per accedere all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-524">Block access from malicious users, or allow access only from users who have privilege to access the application.</span></span>  

<span data-ttu-id="231ac-525">**Creare un probe di integrità personalizzato.**</span><span class="sxs-lookup"><span data-stu-id="231ac-525">**Create a custom health probe.**</span></span> <span data-ttu-id="231ac-526">I probe di integrità di Load Balancer possono testare i protocolli HTTP o TCP.</span><span class="sxs-lookup"><span data-stu-id="231ac-526">Load Balancer Health Probes can test either HTTP or TCP.</span></span> <span data-ttu-id="231ac-527">Se una macchina virtuale viene eseguita in un server HTTP, il migliore indicatore dello stato di integrità è un probe HTTP rispetto a un probe TCP.</span><span class="sxs-lookup"><span data-stu-id="231ac-527">If a VM runs an HTTP server, the HTTP probe is a better indicator of health status than a TCP probe.</span></span> <span data-ttu-id="231ac-528">Per un probe HTTP, usare un endpoint personalizzato che segnali l'integrità complessiva dell'applicazione, incluse tutte le dipendenze critiche.</span><span class="sxs-lookup"><span data-stu-id="231ac-528">For an HTTP probe, use a custom endpoint that reports the overall health of the application, including all critical dependencies.</span></span> <span data-ttu-id="231ac-529">Per altre informazioni, vedere [Panoramica di Azure Load Balancer](/azure/load-balancer/load-balancer-overview/).</span><span class="sxs-lookup"><span data-stu-id="231ac-529">For more information, see [Azure Load Balancer overview](/azure/load-balancer/load-balancer-overview/).</span></span>

<span data-ttu-id="231ac-530">**Non bloccare il probe di integrità.**</span><span class="sxs-lookup"><span data-stu-id="231ac-530">**Don't block the health probe.**</span></span> <span data-ttu-id="231ac-531">Il probe di integrità di Load Balancer viene inviato da un indirizzo IP noto, 168.63.129.16.</span><span class="sxs-lookup"><span data-stu-id="231ac-531">The Load Balancer Health probe is sent from a known IP address, 168.63.129.16.</span></span> <span data-ttu-id="231ac-532">Non bloccare il traffico da o verso questo indirizzo IP nei criteri del firewall o nelle regole del gruppo di sicurezza di rete.</span><span class="sxs-lookup"><span data-stu-id="231ac-532">Don't block traffic to or from this IP in any firewall policies or network security group (NSG) rules.</span></span> <span data-ttu-id="231ac-533">Se si blocca il probe di integrità, il servizio di bilanciamento del carico rimuove la macchina virtuale dalla rotazione.</span><span class="sxs-lookup"><span data-stu-id="231ac-533">Blocking the health probe would cause the load balancer to remove the VM from rotation.</span></span>

<span data-ttu-id="231ac-534">**Abilitare la registrazione di Load Balancer.**</span><span class="sxs-lookup"><span data-stu-id="231ac-534">**Enable Load Balancer logging.**</span></span> <span data-ttu-id="231ac-535">I log mostrano il numero di macchine virtuali nel back-end che non ricevono il traffico di rete a causa di risposte del probe non riuscite.</span><span class="sxs-lookup"><span data-stu-id="231ac-535">The logs show how many VMs on the back-end are not receiving network traffic due to failed probe responses.</span></span> <span data-ttu-id="231ac-536">Per altre informazioni, vedere [Log analytics for Azure Load Balancer](/azure/load-balancer/load-balancer-monitor-log/) (Analisi dei log per Azure Load Balancer).</span><span class="sxs-lookup"><span data-stu-id="231ac-536">For more information, see [Log analytics for Azure Load Balancer](/azure/load-balancer/load-balancer-monitor-log/).</span></span>


<!-- links -->
[app-service-autoscale]: /azure/monitoring-and-diagnostics/insights-how-to-scale/
[asynchronous-c-sharp]: /dotnet/articles/csharp/async
[availability-sets]:/azure/virtual-machines/virtual-machines-windows-manage-availability/
[azure-backup]: https://azure.microsoft.com/documentation/services/backup/
[boot-diagnostics]: https://azure.microsoft.com/blog/boot-diagnostics-for-virtual-machines-v2/
[circuit-breaker]: ../patterns/circuit-breaker.md
[cloud-service-autoscale]: /azure/cloud-services/cloud-services-how-to-scale/
[diagnostics-logs]: /azure/monitoring-and-diagnostics/monitoring-overview-of-diagnostic-logs/
[fma]: ../resiliency/failure-mode-analysis.md
[resilient-deployment]: ../resiliency/index.md#resilient-deployment
[load-balancer]: /azure/load-balancer/load-balancer-overview/
[managed-disks]: /azure/storage/storage-managed-disks-overview
[monitoring-and-diagnostics-guidance]: ../best-practices/monitoring.md
[resource-manager]: /azure/azure-resource-manager/resource-group-overview/
[retry-pattern]: ../patterns/retry.md
[retry-service-guidance]: ../best-practices/retry-service-specific.md
[search-optimization]: /azure/search/search-performance-optimization/
[sql-backup]: /azure/sql-database/sql-database-automated-backups/
[sql-restore]: /azure/sql-database/sql-database-recovery-using-backups/
[traffic-manager]: /azure/traffic-manager/traffic-manager-overview/
[traffic-manager-routing]: /azure/traffic-manager/traffic-manager-routing-methods/
[vm-manage-availability]: /azure/virtual-machines/windows/manage-availability#use-managed-disks-for-vms-in-an-availability-set
[vmss-autoscale]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/
