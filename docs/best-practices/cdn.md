---
title: Indicazioni sulla rete per la distribuzione di contenuti
titleSuffix: Best practices for cloud applications
description: Indicazioni sull'uso di reti per la distribuzione di contenuti (CDN) per fornire contenuto a larghezza di banda elevata ospitato in Azure.
author: dragon119
ms.date: 02/02/2018
ms.topic: best-practice
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.custom: seodec18
ms.openlocfilehash: f4ffe9c5cdd7a53ab8359ef303076c5e53e9e45c
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 03/20/2019
ms.locfileid: "58249106"
---
# <a name="content-delivery-networks-cdns"></a><span data-ttu-id="f97e5-103">Reti per la distribuzione di contenuti (CDN)</span><span class="sxs-lookup"><span data-stu-id="f97e5-103">Content delivery networks (CDNs)</span></span>

<span data-ttu-id="f97e5-104">Una rete per la distribuzione di contenuti (CDN) è una rete di server distribuita in grado di fornire contenuti Web agli utenti in modo efficiente.</span><span class="sxs-lookup"><span data-stu-id="f97e5-104">A content delivery network (CDN) is a distributed network of servers that can efficiently deliver web content to users.</span></span> <span data-ttu-id="f97e5-105">Per ridurre la latenza, le reti CDN archiviano il contenuto memorizzato nella cache in server perimetrali prossimi agli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="f97e5-105">CDNs store cached content on edge servers that are close to end-users, to minimize latency.</span></span>

<span data-ttu-id="f97e5-106">In genere, le reti CDN vengono usate per distribuire contenuti statici, ad esempio immagini, fogli di stile, documenti, script lato client e pagine HTML.</span><span class="sxs-lookup"><span data-stu-id="f97e5-106">CDNs are typically used to deliver static content such as images, style sheets, documents, client-side scripts, and HTML pages.</span></span> <span data-ttu-id="f97e5-107">I principali vantaggi offerti dall'uso di una rete CDN sono una latenza più bassa e la distribuzione più rapida di contenuto agli utenti, indipendentemente dalla loro posizione geografica in relazione al data center in cui è ospitata l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f97e5-107">The major advantages of using a CDN are lower latency and faster delivery of content to users, regardless of their geographical location in relation to the datacenter where the application is hosted.</span></span> <span data-ttu-id="f97e5-108">Le reti CDN possono anche contribuire a ridurre il carico su un'applicazione Web poiché l'applicazione non ha le richieste di servizio per il contenuto ospitato nella rete CDN.</span><span class="sxs-lookup"><span data-stu-id="f97e5-108">CDNs can also help to reduce load on a web application, because the application does not have to service requests for the content that is hosted in the CDN.</span></span>

![Diagramma della rete CDN](./images/cdn/CDN.png)

<span data-ttu-id="f97e5-110">[Rete di distribuzione dei contenuti di Azure](/azure/cdn/cdn-overview) è una soluzione CDN globale per la distribuzione di contenuti a larghezza di banda elevata ospitati in Azure o in altre posizioni.</span><span class="sxs-lookup"><span data-stu-id="f97e5-110">In Azure, the [Azure Content Delivery Network](/azure/cdn/cdn-overview) is a global CDN solution for delivering high-bandwidth content that is hosted in Azure or any other location.</span></span> <span data-ttu-id="f97e5-111">Con Rete CDN di Azure è possibile memorizzare nella cache gli oggetti disponibili pubblicamente, caricati dall'archivio BLOB di Azure, da un'applicazione Web, da una macchina virtuale e da qualsiasi server Web pubblico.</span><span class="sxs-lookup"><span data-stu-id="f97e5-111">Using Azure CDN, you can cache publicly available objects loaded from Azure blob storage, a web application, virtual machine, any publicly accessible web server.</span></span>

<span data-ttu-id="f97e5-112">Questo argomento descrive alcune procedure consigliate e offre considerazioni di carattere generale sull'uso di una rete CDN.</span><span class="sxs-lookup"><span data-stu-id="f97e5-112">This topic describes some general best practices and considerations when using a CDN.</span></span> <span data-ttu-id="f97e5-113">Per altre informazioni, consultare [Rete CDN di Azure](/azure/cdn/).</span><span class="sxs-lookup"><span data-stu-id="f97e5-113">For more information, see [Azure CDN](/azure/cdn/).</span></span>

## <a name="how-and-why-a-cdn-is-used"></a><span data-ttu-id="f97e5-114">Come e perché si usa la rete CDN</span><span class="sxs-lookup"><span data-stu-id="f97e5-114">How and why a CDN is used</span></span>

<span data-ttu-id="f97e5-115">Ecco alcuni usi tipici della rete CDN:</span><span class="sxs-lookup"><span data-stu-id="f97e5-115">Typical uses for a CDN include:</span></span>  

- <span data-ttu-id="f97e5-116">Distribuzione di risorse statiche per applicazioni client, spesso da un sito Web.</span><span class="sxs-lookup"><span data-stu-id="f97e5-116">Delivering static resources for client applications, often from a website.</span></span> <span data-ttu-id="f97e5-117">Può trattarsi di immagini, fogli di stile, documenti, file, script sul lato client, pagine HTML, frammenti HTML o qualsiasi altro contenuto che il server non debba modificare per ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="f97e5-117">These resources can be images, style sheets, documents, files, client-side scripts, HTML pages, HTML fragments, or any other content that the server does not need to modify for each request.</span></span> <span data-ttu-id="f97e5-118">L'applicazione può creare gli elementi al runtime e renderli disponibili per la rete CDN (ad esempio, creando un elenco di titoli di notizie correnti), ma esegue queste operazioni per ogni richiesta.</span><span class="sxs-lookup"><span data-stu-id="f97e5-118">The application can create items at runtime and make them available to the CDN (for example, by creating a list of current news headlines), but it does not do so for each request.</span></span>

- <span data-ttu-id="f97e5-119">Distribuzione di contenuto statico e condiviso pubblico a dispositivi quali telefoni cellulari e tablet PC.</span><span class="sxs-lookup"><span data-stu-id="f97e5-119">Delivering public static and shared content to devices such as mobile phones and tablet computers.</span></span> <span data-ttu-id="f97e5-120">L'applicazione stessa è un servizio Web che offre un'API ai client in esecuzione sui vari dispositivi.</span><span class="sxs-lookup"><span data-stu-id="f97e5-120">The application itself is a web service that offers an API to clients running on the various devices.</span></span> <span data-ttu-id="f97e5-121">La rete CDN può anche recapitare set di dati statici, tramite il servizio Web, che i client useranno, ad esempio, per generare la propria interfaccia utente.</span><span class="sxs-lookup"><span data-stu-id="f97e5-121">The CDN can also deliver static datasets (via the web service) for the clients to use, perhaps to generate the client UI.</span></span> <span data-ttu-id="f97e5-122">Ad esempio, la rete CDN può essere usata per distribuire documenti JSON o XML.</span><span class="sxs-lookup"><span data-stu-id="f97e5-122">For example, the CDN could be used to distribute JSON or XML documents.</span></span>

- <span data-ttu-id="f97e5-123">Distribuzione di interi siti Web costituiti da solo contenuto pubblico statico ai client, senza richiedere risorse di calcolo dedicate.</span><span class="sxs-lookup"><span data-stu-id="f97e5-123">Serving entire websites that consist of only public static content to clients, without requiring any dedicated compute resources.</span></span>

- <span data-ttu-id="f97e5-124">File video in streaming al client on demand.</span><span class="sxs-lookup"><span data-stu-id="f97e5-124">Streaming video files to the client on demand.</span></span> <span data-ttu-id="f97e5-125">I video traggono vantaggio dalla latenza bassa e dalla connettività affidabile disponibili nei centri dati di tutto il mondo che offrono connessioni di rete CDN.</span><span class="sxs-lookup"><span data-stu-id="f97e5-125">Video benefits from the low latency and reliable connectivity available from the globally located datacenters that offer CDN connections.</span></span> <span data-ttu-id="f97e5-126">Servizi multimediali di Microsoft Azure si integra con la rete di distribuzione dei contenuti di Azure per inviare i contenuti direttamente alla rete di distribuzione dei contenuti al fine di eseguire una nuova distribuzione.</span><span class="sxs-lookup"><span data-stu-id="f97e5-126">Microsoft Azure Media Services (AMS) integrates with Azure CDN to deliver content directly to the CDN for further distribution.</span></span> <span data-ttu-id="f97e5-127">Per altre informazioni, vedere [Streaming endpoints overview](/azure/media-services/media-services-streaming-endpoints-overview) (Panoramica degli endpoint di streaming).</span><span class="sxs-lookup"><span data-stu-id="f97e5-127">For more information, see [Streaming endpoints overview](/azure/media-services/media-services-streaming-endpoints-overview).</span></span>

- <span data-ttu-id="f97e5-128">Miglioramento generale dell'esperienza per gli utenti, specialmente quelli che si trovano lontano dal data center che ospita l'applicazione,</span><span class="sxs-lookup"><span data-stu-id="f97e5-128">Generally improving the experience for users, especially those located far from the datacenter hosting the application.</span></span> <span data-ttu-id="f97e5-129">che altrimenti risentirebbero di una latenza più elevata.</span><span class="sxs-lookup"><span data-stu-id="f97e5-129">These users might otherwise suffer higher latency.</span></span> <span data-ttu-id="f97e5-130">Gran parte della dimensione totale del contenuto in un'applicazione Web è spesso statica e l’utilizzo della rete CDN consente di mantenere le prestazioni e l’esperienza complessiva dell’utente eliminando la necessità di distribuire l'applicazione in più centri dati.</span><span class="sxs-lookup"><span data-stu-id="f97e5-130">A large proportion of the total size of the content in a web application is often static, and using the CDN can help to maintain performance and overall user experience while eliminating the requirement to deploy the application to multiple data centers.</span></span> <span data-ttu-id="f97e5-131">Per un elenco delle posizioni dei nodi di Rete CDN di Azure, vedere [Località POP della rete CDN di Azure](/azure/cdn/cdn-pop-locations/).</span><span class="sxs-lookup"><span data-stu-id="f97e5-131">For a list of Azure CDN node locations, see [Azure CDN POP Locations](/azure/cdn/cdn-pop-locations/).</span></span>

- <span data-ttu-id="f97e5-132">Supporto di soluzioni IoT (Internet delle cose).</span><span class="sxs-lookup"><span data-stu-id="f97e5-132">Supporting IoT (Internet of Things) solutions.</span></span> <span data-ttu-id="f97e5-133">L'enorme numero di dispositivi e appliance in una soluzione IoT può facilmente sovraccaricare un'applicazione se deve distribuire aggiornamenti firmware direttamente in ogni dispositivo.</span><span class="sxs-lookup"><span data-stu-id="f97e5-133">The huge numbers of devices and appliances involved in an IoT solution could easily overwhelm an application if it had to distribute firmware updates directly to each device.</span></span>

- <span data-ttu-id="f97e5-134">Gestione dei picchi e della crescita della domanda senza richiedere il ridimensionamento dell'applicazione, evitando il conseguente aumento dei costi di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="f97e5-134">Coping with peaks and surges in demand without requiring the application to scale, avoiding the consequent increased running costs.</span></span> <span data-ttu-id="f97e5-135">Ad esempio, quando viene rilasciato un aggiornamento del sistema operativo per un dispositivo hardware, come un modello specifico di router, o per un dispositivo di consumo come una smart TV, si verifica un grande picco nella domanda a causa del download eseguito da milioni di utenti e dispositivi in un breve periodo.</span><span class="sxs-lookup"><span data-stu-id="f97e5-135">For example, when an update to an operating system is released for a hardware device such as a specific model of router, or for a consumer device such as a smart TV, there will be a huge peak in demand as it is downloaded by millions of users and devices over a short period.</span></span>

## <a name="challenges"></a><span data-ttu-id="f97e5-136">Problematiche</span><span class="sxs-lookup"><span data-stu-id="f97e5-136">Challenges</span></span>

<span data-ttu-id="f97e5-137">Esistono varie problematiche da considerare quando si pianifica l'uso di una rete CDN.</span><span class="sxs-lookup"><span data-stu-id="f97e5-137">There are several challenges to take into account when planning to use a CDN.</span></span>

- <span data-ttu-id="f97e5-138">**Distribuzione**.</span><span class="sxs-lookup"><span data-stu-id="f97e5-138">**Deployment**.</span></span> <span data-ttu-id="f97e5-139">Decidere l'origine da cui la rete CDN deve recuperare il contenuto e stabilire se è necessario distribuire tale contenuto in più sistemi di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f97e5-139">Decide the origin from which the CDN fetches the content, and whether you need to deploy the content in more than one storage system.</span></span> <span data-ttu-id="f97e5-140">Prendere in considerazione il processo per la distribuzione del contenuto statico e delle risorse.</span><span class="sxs-lookup"><span data-stu-id="f97e5-140">Take into account the process for deploying static content and resources.</span></span> <span data-ttu-id="f97e5-141">Ad esempio, potrebbe essere necessario implementare un passaggio separato per caricare il contenuto nell'archivio BLOB di Azure.</span><span class="sxs-lookup"><span data-stu-id="f97e5-141">For example, you may need to implement a separate step to load content into Azure blob storage.</span></span>

- <span data-ttu-id="f97e5-142">**Controllo delle versioni e controllo della cache**.</span><span class="sxs-lookup"><span data-stu-id="f97e5-142">**Versioning and cache-control**.</span></span> <span data-ttu-id="f97e5-143">Stabilire come aggiornare il contenuto statico e distribuire le nuove versioni.</span><span class="sxs-lookup"><span data-stu-id="f97e5-143">Consider how you will update static content and deploy new versions.</span></span> <span data-ttu-id="f97e5-144">Comprendere il modo in cui la rete CDN esegue la memorizzazione nella cache e determina la durata (TTL).</span><span class="sxs-lookup"><span data-stu-id="f97e5-144">Understand how the CDN performs caching and time-to-live (TTL).</span></span> <span data-ttu-id="f97e5-145">Per informazioni su Rete CDN di Azure, vedere [Funzionamento della memorizzazione nella cache](/azure/cdn/cdn-how-caching-works).</span><span class="sxs-lookup"><span data-stu-id="f97e5-145">For Azure CDN, see [How caching works](/azure/cdn/cdn-how-caching-works).</span></span>

- <span data-ttu-id="f97e5-146">**Test**.</span><span class="sxs-lookup"><span data-stu-id="f97e5-146">**Testing**.</span></span> <span data-ttu-id="f97e5-147">Può essere difficile eseguire il test locale delle impostazioni della rete CDN durante lo sviluppo e la verifica di un'applicazione in locale o in un ambiente di staging.</span><span class="sxs-lookup"><span data-stu-id="f97e5-147">It can be difficult to perform local testing of your CDN settings when developing and testing an application locally or in a staging environment.</span></span>

- <span data-ttu-id="f97e5-148">**Ottimizzazione motore di ricerca**.</span><span class="sxs-lookup"><span data-stu-id="f97e5-148">**Search engine optimization (SEO)**.</span></span> <span data-ttu-id="f97e5-149">Il contenuto, come immagini e documenti, viene fornito da un dominio diverso quando si usa la rete CDN</span><span class="sxs-lookup"><span data-stu-id="f97e5-149">Content such as images and documents are served from a different domain when you use the CDN.</span></span> <span data-ttu-id="f97e5-150">e questo approccio può avere un impatto su SEO per tale contenuto.</span><span class="sxs-lookup"><span data-stu-id="f97e5-150">This can have an effect on SEO for this content.</span></span>

- <span data-ttu-id="f97e5-151">**Sicurezza del contenuto**.</span><span class="sxs-lookup"><span data-stu-id="f97e5-151">**Content security**.</span></span> <span data-ttu-id="f97e5-152">Non tutte le reti CDN offrono forme di controllo degli accessi per il contento.</span><span class="sxs-lookup"><span data-stu-id="f97e5-152">Not all CDNs offer any form of access control for the content.</span></span> <span data-ttu-id="f97e5-153">Alcuni servizi CDN, tra cui Rete CDN di Azure, supportano l'autenticazione basata su token per proteggere il contenuto della rete CDN.</span><span class="sxs-lookup"><span data-stu-id="f97e5-153">Some CDN services, including Azure CDN, support token-based authentication to protect CDN content.</span></span> <span data-ttu-id="f97e5-154">Per altre informazioni, vedere [Protezione di asset della rete per la distribuzione di contenuti (CDN) di Azure con l'autenticazione basata su token](/azure/cdn/cdn-token-auth).</span><span class="sxs-lookup"><span data-stu-id="f97e5-154">For more information, see [Securing Azure Content Delivery Network assets with token authentication](/azure/cdn/cdn-token-auth).</span></span>

- <span data-ttu-id="f97e5-155">**Sicurezza del client**.</span><span class="sxs-lookup"><span data-stu-id="f97e5-155">**Client security**.</span></span> <span data-ttu-id="f97e5-156">I client possono connettersi da un ambiente che non consente l'accesso alle risorse nella rete CDN.</span><span class="sxs-lookup"><span data-stu-id="f97e5-156">Clients might connect from an environment that does not allow access to resources on the CDN.</span></span> <span data-ttu-id="f97e5-157">Potrebbe trattarsi di un ambiente con limitazioni di sicurezza che limita l'accesso solo a una serie di origini note oppure di un ambiente che impedisce il caricamento delle risorse da una posizione diversa dall'origine della pagina.</span><span class="sxs-lookup"><span data-stu-id="f97e5-157">This could be a security-constrained environment that limits access to only a set of known sources, or one that prevents loading of resources from anything other than the page origin.</span></span> <span data-ttu-id="f97e5-158">Per gestire questi casi è necessaria un'implementazione del fallback.</span><span class="sxs-lookup"><span data-stu-id="f97e5-158">A fallback implementation is required to handle these cases.</span></span>

- <span data-ttu-id="f97e5-159">**Resilienza**.</span><span class="sxs-lookup"><span data-stu-id="f97e5-159">**Resilience**.</span></span> <span data-ttu-id="f97e5-160">La rete CDN è un singolo punto di guasto potenziale per un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f97e5-160">The CDN is a potential single point of failure for an application.</span></span>

<span data-ttu-id="f97e5-161">Scenari in cui la rete CDN può essere meno utile sono:</span><span class="sxs-lookup"><span data-stu-id="f97e5-161">Scenarios where CDN may be less useful include:</span></span>  

- <span data-ttu-id="f97e5-162">Se il contenuto ha una bassa percentuale di riscontri, è possibile che l'accesso avvenga solo poche volte durante la sua validità, in base all'impostazione della durata (TTL).</span><span class="sxs-lookup"><span data-stu-id="f97e5-162">If the content has a low hit rate, it might be accessed only few times while it is valid (determined by its time-to-live setting).</span></span>

- <span data-ttu-id="f97e5-163">Se i dati sono privati, ad esempio per aziende di grandi dimensioni o ecosistemi di supply chain.</span><span class="sxs-lookup"><span data-stu-id="f97e5-163">If the data is private, such as for large enterprises or supply chain ecosystems.</span></span>

## <a name="general-guidelines-and-good-practices"></a><span data-ttu-id="f97e5-164">Linee guida generali e procedure consigliate</span><span class="sxs-lookup"><span data-stu-id="f97e5-164">General guidelines and good practices</span></span>

<span data-ttu-id="f97e5-165">L'uso di una rete CDN è un ottimo modo per ridurre al minimo il carico sull'applicazione e ottimizzare disponibilità e prestazioni.</span><span class="sxs-lookup"><span data-stu-id="f97e5-165">Using a CDN is a good way to minimize the load on your application, and maximize availability and performance.</span></span> <span data-ttu-id="f97e5-166">Valutare l'adozione di questa strategia per tutto il contenuto appropriato e le risorse usate dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f97e5-166">Consider adopting this strategy for all of the appropriate content and resources your application uses.</span></span> <span data-ttu-id="f97e5-167">Quando si progetta la strategia per l'uso di una rete CDN, tenere presenti i punti nelle sezioni seguenti.</span><span class="sxs-lookup"><span data-stu-id="f97e5-167">Consider the points in the following sections when designing your strategy to use a CDN.</span></span>

### <a name="deployment"></a><span data-ttu-id="f97e5-168">Distribuzione</span><span class="sxs-lookup"><span data-stu-id="f97e5-168">Deployment</span></span>

<span data-ttu-id="f97e5-169">È possibile che debba essere effettuato il provisioning e sia necessario distribuire il contenuto indipendentemente dall'applicazione se non viene incluso nel processo o nel pacchetto di distribuzione dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f97e5-169">Static content may need to be provisioned and deployed independently from the application if you do not include it in the application deployment package or process.</span></span> <span data-ttu-id="f97e5-170">Si consideri come tale eventualità influirà sull’approccio del controllo delle versioni utilizzato per gestire i componenti dell'applicazione e il contenuto stativo della risorsa.</span><span class="sxs-lookup"><span data-stu-id="f97e5-170">Consider how this will affect the versioning approach you use to manage both the application components and the static resource content.</span></span>

<span data-ttu-id="f97e5-171">Valutare se può essere opportuno usare tecniche di creazione di bundle e minimizzazione per ridurre i tempi di caricamento dei client.</span><span class="sxs-lookup"><span data-stu-id="f97e5-171">Consider using bundling and minification techniques to reduce load times for clients.</span></span> <span data-ttu-id="f97e5-172">La creazione di bundle consente di combinare più file in un unico file.</span><span class="sxs-lookup"><span data-stu-id="f97e5-172">Bundling combines multiple files into a single file.</span></span> <span data-ttu-id="f97e5-173">La minimizzazione consente invece di rimuovere i caratteri non necessari da script e file CSS senza modificare la funzionalità.</span><span class="sxs-lookup"><span data-stu-id="f97e5-173">Minification removes unnecessary characters from scripts and CSS files without altering functionality.</span></span>

<span data-ttu-id="f97e5-174">Se è necessario distribuire il contenuto in un'altra posizione, è necessario un passaggio aggiuntivo nel processo di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="f97e5-174">If you need to deploy the content to an additional location, this will be an extra step in the deployment process.</span></span> <span data-ttu-id="f97e5-175">Se l'applicazione aggiorna il contenuto per la rete CDN, ad esempio a intervalli regolari o in risposta a un evento, è necessario archiviare il contenuto aggiornato in tutti i percorsi aggiuntivi, nonché l'endpoint per la rete CDN.</span><span class="sxs-lookup"><span data-stu-id="f97e5-175">If the application updates the content for the CDN, perhaps at regular intervals or in response to an event, it must store the updated content in any additional locations as well as the endpoint for the CDN.</span></span>

<span data-ttu-id="f97e5-176">Stabilire come devono essere gestite le operazioni di sviluppo e test locali quando si prevede che contenuti statici siano serviti da una rete CDN.</span><span class="sxs-lookup"><span data-stu-id="f97e5-176">Consider how you will handle local development and testing when some static content is expected to be served from a CDN.</span></span> <span data-ttu-id="f97e5-177">Ad esempio, è possibile distribuire preliminarmente il contenuto nella rete CDN durante l'esecuzione dello script di compilazione.</span><span class="sxs-lookup"><span data-stu-id="f97e5-177">For example, you could pre-deploy the content to the CDN as part of your build script.</span></span> <span data-ttu-id="f97e5-178">In alternativa, è possibile usare direttive di compilazione o flag per controllare la modalità di caricamento delle risorse da parte dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="f97e5-178">Alternatively, use compile directives or flags to control how the application loads the resources.</span></span> <span data-ttu-id="f97e5-179">Ad esempio, in modalità debug l'applicazione può caricare le risorse statiche da una cartella locale</span><span class="sxs-lookup"><span data-stu-id="f97e5-179">For example, in debug mode, the application could load static resources from a local folder.</span></span> <span data-ttu-id="f97e5-180">e in modalità versione può usare la rete CDN.</span><span class="sxs-lookup"><span data-stu-id="f97e5-180">In release mode, the application would use the CDN.</span></span>

<span data-ttu-id="f97e5-181">Valutare se è opportuno usare opzioni per la compressione dei file, ad esempio gzip (GNU zip).</span><span class="sxs-lookup"><span data-stu-id="f97e5-181">Consider the options for file compression, such as gzip (GNU zip).</span></span> <span data-ttu-id="f97e5-182">La compressione può essere eseguita nel server di origine dall'applicazione Web ospitante oppure direttamente nei server perimetrali dalla rete CDN.</span><span class="sxs-lookup"><span data-stu-id="f97e5-182">Compression may be performed on the origin server by the web application hosting or directly on the edge servers by the CDN.</span></span> <span data-ttu-id="f97e5-183">Per altre informazioni, vedere [Migliorare le prestazioni con la compressione dei file nella rete CDN di Azure](/azure/cdn/cdn-improve-performance).</span><span class="sxs-lookup"><span data-stu-id="f97e5-183">For more information, see [Improve performance by compressing files in Azure CDN](/azure/cdn/cdn-improve-performance).</span></span>

### <a name="routing-and-versioning"></a><span data-ttu-id="f97e5-184">Routing e controllo delle versioni</span><span class="sxs-lookup"><span data-stu-id="f97e5-184">Routing and versioning</span></span>

<span data-ttu-id="f97e5-185">Potrebbe essere necessario usare istanze diverse della rete CDN in momenti diversi.</span><span class="sxs-lookup"><span data-stu-id="f97e5-185">You may need to use different CDN instances at various times.</span></span> <span data-ttu-id="f97e5-186">Ad esempio, quando si distribuisce una nuova versione dell'applicazione, è consigliabile usare una nuova rete CDN e quella precedente, mantenendo il contenuto in un formato meno recente, per le versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="f97e5-186">For example, when you deploy a new version of the application you may want to use a new CDN and retain the old CDN (holding content in an older format) for previous versions.</span></span> <span data-ttu-id="f97e5-187">Se si usa l'archivio BLOB di Azure come origine di contenuto, è possibile creare un account di archiviazione separato o un contenitore separato e puntare l'endpoint della rete CDN ad esso.</span><span class="sxs-lookup"><span data-stu-id="f97e5-187">If you use Azure blob storage as the content origin, you can create a separate storage account or a separate container and point the CDN endpoint to it.</span></span>

<span data-ttu-id="f97e5-188">Non usare la stringa di query per indicare le diverse versioni dell'applicazione nei collegamenti alle risorse sulla rete CDN, perché quando si recupera il contenuto dall'archivio BLOB di Azure la stringa di query fa parte del nome della risorsa, ovvero il nome del BLOB.</span><span class="sxs-lookup"><span data-stu-id="f97e5-188">Do not use the query string to denote different versions of the application in links to resources on the CDN because, when retrieving content from Azure blob storage, the query string is part of the resource name (the blob name).</span></span> <span data-ttu-id="f97e5-189">Questo approccio può anche influire sul modo in cui il client memorizza le risorse nella cache.</span><span class="sxs-lookup"><span data-stu-id="f97e5-189">This approach can also affect how the client caches resources.</span></span>

<span data-ttu-id="f97e5-190">La distribuzione di nuove versioni di contenuto statico quando si aggiorna un'applicazione può essere problematica se le risorse precedenti vengono memorizzate nella cache nella rete CDN.</span><span class="sxs-lookup"><span data-stu-id="f97e5-190">Deploying new versions of static content when you update an application can be a challenge if the previous resources are cached on the CDN.</span></span> <span data-ttu-id="f97e5-191">Per altre informazioni, vedere più avanti la sezione sul controllo cache.</span><span class="sxs-lookup"><span data-stu-id="f97e5-191">For more information, see the section on cache control, below.</span></span>

<span data-ttu-id="f97e5-192">È consigliabile limitare l'accesso al contenuto della rete CDN in base al paese.</span><span class="sxs-lookup"><span data-stu-id="f97e5-192">Consider restricting the CDN content access by country.</span></span> <span data-ttu-id="f97e5-193">La rete CDN di Azure consente di filtrare le richieste in base al paese di origine e limitare il contenuto recapitato.</span><span class="sxs-lookup"><span data-stu-id="f97e5-193">Azure CDN allows you to filter requests based on the country of origin and restrict the content delivered.</span></span> <span data-ttu-id="f97e5-194">Per altre informazioni, vedere [Limitare l'accesso al contenuto in base al paese](/azure/cdn/cdn-restrict-access-by-country/).</span><span class="sxs-lookup"><span data-stu-id="f97e5-194">For more information, see [Restrict access to your content by country](/azure/cdn/cdn-restrict-access-by-country/).</span></span>

### <a name="cache-control"></a><span data-ttu-id="f97e5-195">Controllo cache</span><span class="sxs-lookup"><span data-stu-id="f97e5-195">Cache control</span></span>

<span data-ttu-id="f97e5-196">Considerare come gestire la memorizzazione nella cache all'interno del sistema.</span><span class="sxs-lookup"><span data-stu-id="f97e5-196">Consider how to manage caching within the system.</span></span> <span data-ttu-id="f97e5-197">Ad esempio, in Rete CDN di Azure è possibile impostare le regole di memorizzazione nella cache globale e successivamente la memorizzazione nella cache personalizzata per endpoint di origine specifici.</span><span class="sxs-lookup"><span data-stu-id="f97e5-197">For example, in Azure CDN, you can set global caching rules, and then set custom caching for particular origin endpoints.</span></span> <span data-ttu-id="f97e5-198">È anche possibile controllare come viene eseguita la memorizzazione nella cache in una rete CDN inviando le intestazioni delle direttive della cache all'origine.</span><span class="sxs-lookup"><span data-stu-id="f97e5-198">You can also control how caching is performed in a CDN by sending cache-directive headers at the origin.</span></span>

<span data-ttu-id="f97e5-199">Per altre informazioni, vedere [Funzionamento della memorizzazione nella cache](/azure/cdn/cdn-how-caching-works).</span><span class="sxs-lookup"><span data-stu-id="f97e5-199">For more information, see [How caching works](/azure/cdn/cdn-how-caching-works).</span></span>

<span data-ttu-id="f97e5-200">Per evitare la presenza di oggetti nella rete CDN, è possibile eliminarli dall'origine, rimuovere o eliminare l'endpoint della rete CDN o, nel caso dell'archiviazione BLOB, rendere privato il contenitore o il BLOB.</span><span class="sxs-lookup"><span data-stu-id="f97e5-200">To prevent objects from being available on the CDN, you can delete them from the origin, remove or delete the CDN endpoint, or in the case of blob storage, make the container or blob private.</span></span> <span data-ttu-id="f97e5-201">Gli elementi, tuttavia, non vengono rimossi prima del termine della durata (TTL).</span><span class="sxs-lookup"><span data-stu-id="f97e5-201">However, items are not removed from the until the time-to-live expires.</span></span> <span data-ttu-id="f97e5-202">È anche possibile ripulire un endpoint della rete CDN manualmente.</span><span class="sxs-lookup"><span data-stu-id="f97e5-202">You can also manually purge a CDN endpoint.</span></span>

### <a name="security"></a><span data-ttu-id="f97e5-203">Security</span><span class="sxs-lookup"><span data-stu-id="f97e5-203">Security</span></span>

<span data-ttu-id="f97e5-204">La rete CDN può distribuire il contenuto tramite HTTPS (SSL) usando il certificato messo a disposizione dalla rete CDN, ma anche tramite HTTP.</span><span class="sxs-lookup"><span data-stu-id="f97e5-204">The CDN can deliver content over HTTPS (SSL), by using the certificate provided by the CDN, as well as over standard HTTP.</span></span> <span data-ttu-id="f97e5-205">Per evitare avvisi del browser sul contenuto misto potrebbe essere necessario usare HTTPS per richiedere il contenuto statico visualizzato nelle pagine caricate tramite HTTPS.</span><span class="sxs-lookup"><span data-stu-id="f97e5-205">To avoid browser warnings about mixed content, you might need to use HTTPS to request static content that is displayed in pages loaded through HTTPS.</span></span>

<span data-ttu-id="f97e5-206">Se si distribuiscono gli asset statici, ad esempio file di caratteri tramite la rete CDN, potrebbero verificarsi problemi relativi ai criteri di origine uguale se si usa una chiamata *XMLHttpRequest* per richiedere le risorse da un dominio diverso.</span><span class="sxs-lookup"><span data-stu-id="f97e5-206">If you deliver static assets such as font files by using the CDN, you might encounter same-origin policy issues if you use an *XMLHttpRequest* call to request these resources from a different domain.</span></span> <span data-ttu-id="f97e5-207">Molti browser impediscono la condivisione di risorse tra origini (CORS), a meno che il server Web non è configurato per impostare le intestazioni di risposta appropriate.</span><span class="sxs-lookup"><span data-stu-id="f97e5-207">Many web browsers prevent cross-origin resource sharing (CORS) unless the web server is configured to set the appropriate response headers.</span></span> <span data-ttu-id="f97e5-208">È possibile configurare la rete CDN per il supporto CORS tramite uno dei metodi seguenti:</span><span class="sxs-lookup"><span data-stu-id="f97e5-208">You can configure the CDN to support CORS by using one of the following methods:</span></span>

- <span data-ttu-id="f97e5-209">Configurare la rete CDN in modo che vengano aggiunte intestazioni CORS alle risposte.</span><span class="sxs-lookup"><span data-stu-id="f97e5-209">Configure the CDN to add CORS headers to the responses.</span></span> <span data-ttu-id="f97e5-210">Per altre informazioni, vedere [Uso della rete CDN di Azure con CORS](/azure/cdn/cdn-cors).</span><span class="sxs-lookup"><span data-stu-id="f97e5-210">For more information, see [Using Azure CDN with CORS](/azure/cdn/cdn-cors).</span></span>

- <span data-ttu-id="f97e5-211">Se l'origine è l'archiviazione BLOB di Azure, aggiungere le regole CORS all'endpoint di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="f97e5-211">If the origin is Azure blob storage, add CORS rules to the storage endpoint.</span></span> <span data-ttu-id="f97e5-212">Per altre informazioni, vedere [Supporto della condivisione delle risorse tra le origini (CORS) per i servizi di archiviazione Azure](/rest/api/storageservices/Cross-Origin-Resource-Sharing--CORS--Support-for-the-Azure-Storage-Services).</span><span class="sxs-lookup"><span data-stu-id="f97e5-212">For more information, see [Cross-Origin Resource Sharing (CORS) Support for the Azure Storage Services](/rest/api/storageservices/Cross-Origin-Resource-Sharing--CORS--Support-for-the-Azure-Storage-Services).</span></span>

- <span data-ttu-id="f97e5-213">Configurare l'applicazione in modo da impostare le intestazioni CORS.</span><span class="sxs-lookup"><span data-stu-id="f97e5-213">Configure the application to set the CORS headers.</span></span> <span data-ttu-id="f97e5-214">Vedere ad esempio [Abilitare le richieste tra le origini (CORS)](/aspnet/core/security/cors) nella documentazione di ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="f97e5-214">For example, see [Enabling Cross-Origin Requests (CORS)](/aspnet/core/security/cors) in the ASP.NET Core documentation.</span></span>

### <a name="cdn-fallback"></a><span data-ttu-id="f97e5-215">Fallback della rete CDN</span><span class="sxs-lookup"><span data-stu-id="f97e5-215">CDN fallback</span></span>

<span data-ttu-id="f97e5-216">Considerare come l'applicazione gestirà un errore o l'indisponibilità temporanea della rete CDN.</span><span class="sxs-lookup"><span data-stu-id="f97e5-216">Consider how your application will cope with a failure or temporary unavailability of the CDN.</span></span> <span data-ttu-id="f97e5-217">Le applicazioni client potrebbero riuscire a usare copie delle risorse memorizzate nella cache locale del client durante le richieste precedenti oppure è possibile includere codice che rilevi gli errori e richieda invece risorse dall'origine, ovvero la cartella dell'applicazione o il contenitore BLOB di Azure che contiene le risorse, se la rete CDN non è disponibile.</span><span class="sxs-lookup"><span data-stu-id="f97e5-217">Client applications may be able to use copies of the resources that were cached locally (on the client) during previous requests, or you can include code that detects failure and instead requests resources from the origin (the application folder or Azure blob container that holds the resources) if the CDN is unavailable.</span></span>
