---
title: Errore e ripristino di emergenza per le applicazioni Azure
description: Panoramica del ripristino di emergenza si avvicina in Azure
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: f00341b06b8092c798d6260317226190cbace66b
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/17/2019
ms.locfileid: "59646656"
---
# <a name="failure-and-disaster-recovery-for-azure-applications"></a><span data-ttu-id="09f16-103">Errore e ripristino di emergenza per le applicazioni Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-103">Failure and disaster recovery for Azure applications</span></span>

<span data-ttu-id="09f16-104">*Ripristino di emergenza* è il processo di ripristino di funzionalità dell'applicazione rispetto a una perdita irreversibile.</span><span class="sxs-lookup"><span data-stu-id="09f16-104">*Disaster recovery* is the process of restoring application functionality in the wake of a catastrophic loss.</span></span>

<span data-ttu-id="09f16-105">La tolleranza per funzionalità ridotte durante un'emergenza è una decisione aziendale che varia da un'applicazione al successivo.</span><span class="sxs-lookup"><span data-stu-id="09f16-105">Your tolerance for reduced functionality during a disaster is a business decision that varies from one application to the next.</span></span> <span data-ttu-id="09f16-106">Può essere accettabile per alcune applicazioni sono completamente non disponibile o da una disponibilità parziale con funzionalità ridotte o ritardi nell'elaborazione per un periodo di tempo.</span><span class="sxs-lookup"><span data-stu-id="09f16-106">It might be acceptable for some applications to be completely unavailable or to be partially available with reduced functionality or delayed processing for a period of time.</span></span> <span data-ttu-id="09f16-107">Per altre applicazioni, qualsiasi funzionalità ridotte non è accettabile.</span><span class="sxs-lookup"><span data-stu-id="09f16-107">For other applications, any reduced functionality is unacceptable.</span></span>

## <a name="disaster-recovery-plan"></a><span data-ttu-id="09f16-108">Piano di ripristino di emergenza</span><span class="sxs-lookup"><span data-stu-id="09f16-108">Disaster recovery plan</span></span>

<span data-ttu-id="09f16-109">Iniziare creando un piano di ripristino.</span><span class="sxs-lookup"><span data-stu-id="09f16-109">Start by creating a recovery plan.</span></span> <span data-ttu-id="09f16-110">Il piano viene considerato completo dopo che è stata testata completamente.</span><span class="sxs-lookup"><span data-stu-id="09f16-110">The plan is considered complete after it has been fully tested.</span></span> <span data-ttu-id="09f16-111">Includere le persone, processi e le applicazioni necessarie per ripristinare la funzionalità all'interno del contratto a livello di servizio (SLA) sono stati definiti per i clienti.</span><span class="sxs-lookup"><span data-stu-id="09f16-111">Include the people, processes, and applications needed to restore functionality within the service-level agreement (SLA) you've defined for your customers.</span></span>

<span data-ttu-id="09f16-112">Prendere in considerazione i suggerimenti seguenti durante la creazione e test del piano di ripristino di emergenza:</span><span class="sxs-lookup"><span data-stu-id="09f16-112">Consider the following suggestions when creating and testing your disaster recovery plan:</span></span>

- <span data-ttu-id="09f16-113">Nel piano, includere il processo per contattare il supporto tecnico e per l'escalation dei problemi.</span><span class="sxs-lookup"><span data-stu-id="09f16-113">In your plan, include the process for contacting support and for escalating issues.</span></span> <span data-ttu-id="09f16-114">Queste informazioni saranno utili per evitare tempi di inattività prolungato mentre si lavora il processo di ripristino per la prima volta.</span><span class="sxs-lookup"><span data-stu-id="09f16-114">This information will help to avoid prolonged downtime as you work out the recovery process for the first time.</span></span>
- <span data-ttu-id="09f16-115">valutare l'impatto aziendale degli errori delle applicazioni,</span><span class="sxs-lookup"><span data-stu-id="09f16-115">Evaluate the business impact of application failures.</span></span>
- <span data-ttu-id="09f16-116">Scegliere un'architettura di ripristino tra aree per le applicazioni mission-critical.</span><span class="sxs-lookup"><span data-stu-id="09f16-116">Choose a cross-region recovery architecture for mission-critical applications.</span></span>
- <span data-ttu-id="09f16-117">Identificare un proprietario specifico per il piano di ripristino di emergenza che comprende l'automazione e i test.</span><span class="sxs-lookup"><span data-stu-id="09f16-117">Identify a specific owner of the disaster recovery plan, including automation and testing.</span></span>
- <span data-ttu-id="09f16-118">Documentare il processo, in particolare passaggi manuali.</span><span class="sxs-lookup"><span data-stu-id="09f16-118">Document the process, especially any manual steps.</span></span>
- <span data-ttu-id="09f16-119">Automatizzare il processo quanto più possibile.</span><span class="sxs-lookup"><span data-stu-id="09f16-119">Automate the process as much as possible.</span></span>
- <span data-ttu-id="09f16-120">Stabilire una strategia di backup per tutti i riferimenti e i dati transazionali e ripristino dei backup di test regolarmente.</span><span class="sxs-lookup"><span data-stu-id="09f16-120">Establish a backup strategy for all reference and transactional data, and test backup restoration regularly.</span></span>
- <span data-ttu-id="09f16-121">Impostare gli avvisi per lo stack di servizi di Azure usato dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="09f16-121">Set up alerts for the stack of the Azure services consumed by your application.</span></span>
- <span data-ttu-id="09f16-122">Eseguire il training di personale addetto alle operazioni di esecuzione del piano.</span><span class="sxs-lookup"><span data-stu-id="09f16-122">Train operations staff to execute the plan.</span></span>
- <span data-ttu-id="09f16-123">Eseguire simulazioni regolari per convalidare e migliorare il piano.</span><span class="sxs-lookup"><span data-stu-id="09f16-123">Perform regular disaster simulations to validate and improve the plan.</span></span>

<span data-ttu-id="09f16-124">Se si usa [Azure Site Recovery](/azure/site-recovery/) per replicare le macchine virtuali (VM), creare un piano di ripristino completamente automatizzata per eseguire il failover dell'intera applicazione.</span><span class="sxs-lookup"><span data-stu-id="09f16-124">If you're using [Azure Site Recovery](/azure/site-recovery/) to replicate virtual machines (VMs), create a fully automated recovery plan to fail over the entire application.</span></span>

## <a name="manual-responses"></a><span data-ttu-id="09f16-125">Risposte manuali</span><span class="sxs-lookup"><span data-stu-id="09f16-125">Manual responses</span></span>

<span data-ttu-id="09f16-126">Sebbene l'automazione è ideale, alcune strategie di ripristino di emergenza richiedono risposte manuali.</span><span class="sxs-lookup"><span data-stu-id="09f16-126">Although automation is ideal, some strategies for disaster recovery require manual responses.</span></span>

### <a name="alerts"></a><span data-ttu-id="09f16-127">Avvisi</span><span class="sxs-lookup"><span data-stu-id="09f16-127">Alerts</span></span>

<span data-ttu-id="09f16-128">Monitorare l'applicazione per quei segnali di avviso che potrebbero richiedere un intervento proattivo.</span><span class="sxs-lookup"><span data-stu-id="09f16-128">Monitor your application for warning signs that may require proactive intervention.</span></span> <span data-ttu-id="09f16-129">Ad esempio, se il Database SQL di Azure o Azure Cosmos DB limita in modo consistente l'applicazione, potrebbe essere necessario aumentare la capacità del database o ottimizzare le query.</span><span class="sxs-lookup"><span data-stu-id="09f16-129">For example, if Azure SQL Database or Azure Cosmos DB consistently throttles your application, you might need to increase your database capacity or optimize your queries.</span></span> <span data-ttu-id="09f16-130">Anche se l'applicazione può gestire gli errori di limitazione delle richieste in modo trasparente, i dati di telemetria dovrebbero comunque generare un avviso in modo che si possa procedere.</span><span class="sxs-lookup"><span data-stu-id="09f16-130">Even though the application might handle the throttling errors transparently, your telemetry should still raise an alert so that you can follow up.</span></span>

<span data-ttu-id="09f16-131">Per i limiti del servizio e le soglie di quota, è consigliabile configurare gli avvisi sui log di diagnostica e metriche delle risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="09f16-131">For service limits and quota thresholds, we recommend configuring alerts on Azure resources metrics and diagnostics logs.</span></span> <span data-ttu-id="09f16-132">Quando possibile, impostare avvisi sulle metriche, che sono una latenza più bassa rispetto a log di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="09f16-132">When possible, set up alerts on metrics, which are lower latency than diagnostics logs.</span></span>

<span data-ttu-id="09f16-133">Attraverso [integrità risorse](/azure/service-health/resource-health-checks-resource-types), Azure offre alcuni integrità integrati i controlli di stato che possono aiutare a diagnosticare i problemi di limitazione il servizio di Azure.</span><span class="sxs-lookup"><span data-stu-id="09f16-133">Through [Resource Health](/azure/service-health/resource-health-checks-resource-types), Azure provides some built-in health status checks that can help you diagnose Azure service throttling issues.</span></span>

### <a name="failover"></a><span data-ttu-id="09f16-134">Failover</span><span class="sxs-lookup"><span data-stu-id="09f16-134">Failover</span></span>

<span data-ttu-id="09f16-135">Configurare una strategia di ripristino di emergenza per ogni applicazione di Azure e i servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="09f16-135">Configure a disaster recovery strategy for each Azure application and its Azure services.</span></span> <span data-ttu-id="09f16-136">Strategie di distribuzione accettabili per supportare il ripristino di emergenza potrebbero variare in base i contratti di servizio necessari per tutti i componenti di ogni applicazione.</span><span class="sxs-lookup"><span data-stu-id="09f16-136">Acceptable deployment strategies to support disaster recovery may vary based on the SLAs required for all components of each application.</span></span>  

<span data-ttu-id="09f16-137">Azure offre diverse funzionalità all'interno di molti servizi di Azure per consentire il failover manuale, ad esempio [geo-repliche di cache redis](/azure/azure-cache-for-redis/cache-how-to-geo-replication), o per failover automatizzato, ad esempio [gruppi di failover automatico di SQL](/azure/sql-database/sql-database-auto-failover-group).</span><span class="sxs-lookup"><span data-stu-id="09f16-137">Azure provides different features within many Azure services to allow for manual failover, such as [redis cache geo-replicas](/azure/azure-cache-for-redis/cache-how-to-geo-replication), or for automated failover, such as [SQL auto-failover groups](/azure/sql-database/sql-database-auto-failover-group).</span></span> <span data-ttu-id="09f16-138">Ad esempio: </span><span class="sxs-lookup"><span data-stu-id="09f16-138">For example:</span></span>

- <span data-ttu-id="09f16-139">Per un'applicazione che Usa principalmente le macchine virtuali, è possibile usare Azure Site Recovery per i livelli web e per la logica.</span><span class="sxs-lookup"><span data-stu-id="09f16-139">For an application that mainly uses virtual machines, you can use Azure Site Recovery for the web and logic tiers.</span></span> <span data-ttu-id="09f16-140">Per altre informazioni, vedere [architettura di ripristino di emergenza da Azure ad Azure](/azure/site-recovery/azure-to-azure-architecture).</span><span class="sxs-lookup"><span data-stu-id="09f16-140">For more information, see [Azure to Azure disaster recovery architecture](/azure/site-recovery/azure-to-azure-architecture).</span></span> <span data-ttu-id="09f16-141">Per SQL Server in macchine virtuali, usare [gruppi di disponibilità di SQL Server Always On](/azure/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-availability-group-dr).</span><span class="sxs-lookup"><span data-stu-id="09f16-141">For SQL Server on VMs, use [SQL Server Always On availability groups](/azure/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-availability-group-dr).</span></span>
- <span data-ttu-id="09f16-142">Per un'applicazione che Usa servizio App e Database SQL di Azure, è possibile usare un piano di servizio App di livello più piccolo configurato nell'area secondaria, che viene ridimensionato automaticamente quando si verifica un failover.</span><span class="sxs-lookup"><span data-stu-id="09f16-142">For an application that uses App Service and Azure SQL Database, you can use a smaller tier App Service plan configured in the secondary region, which autoscales when a failover occurs.</span></span> <span data-ttu-id="09f16-143">Usare i gruppi di failover per il livello di database.</span><span class="sxs-lookup"><span data-stu-id="09f16-143">Use failover groups for the database tier.</span></span>

<span data-ttu-id="09f16-144">In entrambi gli scenari, un' [gestione traffico di Azure](/azure/traffic-manager/traffic-manager-overview) profilo offre per il failover automatico in aree geografiche.</span><span class="sxs-lookup"><span data-stu-id="09f16-144">In either scenario, an [Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview) profile provides for the automated failover across regions.</span></span> <span data-ttu-id="09f16-145">[Bilanciamento del carico](/azure/load-balancer/load-balancer-overview) oppure [i gateway applicazione](/azure/application-gateway/overview) dovrebbe essere configurato nell'area secondaria per supportare la disponibilità più veloce in caso di failover.</span><span class="sxs-lookup"><span data-stu-id="09f16-145">[Load balancers](/azure/load-balancer/load-balancer-overview) or [application gateways](/azure/application-gateway/overview) should be set up in the secondary region to support faster availability upon failover.</span></span>

### <a name="operational-readiness-testing"></a><span data-ttu-id="09f16-146">Test della conformità operativa</span><span class="sxs-lookup"><span data-stu-id="09f16-146">Operational readiness testing</span></span>

<span data-ttu-id="09f16-147">Eseguire un test della conformità operativa per il failover all'area secondaria e per il failback nell'area primaria.</span><span class="sxs-lookup"><span data-stu-id="09f16-147">Perform an operational readiness test for failover to the secondary region and for failback to the primary region.</span></span> <span data-ttu-id="09f16-148">Molti servizi di Azure supportano il failover manuale o il failover di test per le esercitazioni sul ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="09f16-148">Many Azure services support manual failover or test failover for disaster recovery drills.</span></span> <span data-ttu-id="09f16-149">In alternativa, è possibile simulare un'interruzione del servizio in corso l'arresto o la rimozione di servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="09f16-149">Alternatively, you can simulate an outage by shutting down or removing Azure services.</span></span>

## <a name="application-failure"></a><span data-ttu-id="09f16-150">Errore dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="09f16-150">Application failure</span></span>

<span data-ttu-id="09f16-151">Errori dell'applicazione sono reversibile o irreversibile.</span><span class="sxs-lookup"><span data-stu-id="09f16-151">Application failures are either recoverable or nonrecoverable.</span></span> <span data-ttu-id="09f16-152">È possibile prevenire un errore reversibile, ma gli errori irreversibili, verranno arrestato l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="09f16-152">You can mitigate a recoverable error, but nonrecoverable errors will bring down the application.</span></span>

- <span data-ttu-id="09f16-153">Alcuni errori possono essere indirizzati in modo trasparente la gestione degli errori automaticamente ed eseguendo azioni alternative.</span><span class="sxs-lookup"><span data-stu-id="09f16-153">Some failures can be addressed transparently by handling faults automatically and taking alternate actions.</span></span> <span data-ttu-id="09f16-154">Ad esempio, Traffic Manager gestisce automaticamente gli errori derivanti dal software di hardware o sistema operativo sottostante nella macchina virtuale host.</span><span class="sxs-lookup"><span data-stu-id="09f16-154">For example, Traffic Manager automatically handles failures that result from the underlying hardware or operating system software in the host virtual machine.</span></span>
- <span data-ttu-id="09f16-155">Con alcuni errori, l'applicazione può continuare gestisce le richieste degli utenti con funzionalità ridotte.</span><span class="sxs-lookup"><span data-stu-id="09f16-155">With some errors, the application can continue handling user requests with reduced functionality.</span></span>
- <span data-ttu-id="09f16-156">Più gravi interruzioni del servizio potrebbero eseguire il rendering dell'applicazione non disponibile.</span><span class="sxs-lookup"><span data-stu-id="09f16-156">More severe service disruptions might render the application unavailable.</span></span>

<span data-ttu-id="09f16-157">Un sistema ben strutturato separa le responsabilità a livello di servizio &mdash; in fase di progettazione e in fase di esecuzione.</span><span class="sxs-lookup"><span data-stu-id="09f16-157">A well-designed system separates responsibilities at the service level &mdash; at design time and at runtime.</span></span> <span data-ttu-id="09f16-158">Questa separazione impedisce un'interruzione del servizio dipendente da causi l'intera applicazione.</span><span class="sxs-lookup"><span data-stu-id="09f16-158">This separation prevents a dependent service disruption from bringing down the entire application.</span></span> <span data-ttu-id="09f16-159">Ad esempio, si consideri un'applicazione di e-commerce web con i moduli seguenti:</span><span class="sxs-lookup"><span data-stu-id="09f16-159">For example, consider a web commerce application with the following modules:</span></span>

![AGGIUNGI COLLEGAMENTO A UN'IMMAGINE](./_images/disaster-recovery.png)

<span data-ttu-id="09f16-161">Se il database che ospita gli ordini diventa inattivo, il servizio di elaborazione degli ordini non può elaborare le transazioni di vendita.</span><span class="sxs-lookup"><span data-stu-id="09f16-161">If the database for hosting orders goes down, the Order Processing service can't process sales transactions.</span></span> <span data-ttu-id="09f16-162">A seconda dell'architettura, potrebbe essere impossibile per i servizi di invio e l'elaborazione degli ordini continuare.</span><span class="sxs-lookup"><span data-stu-id="09f16-162">Depending on the architecture, it might be impossible for the Order Submission and Order Processing services to continue.</span></span> <span data-ttu-id="09f16-163">Tuttavia, se i dati del prodotto sono archiviati in una posizione diversa, il catalogo dei prodotti è ancora disponibile, anche se altre parti dell'applicazione potrebbero non essere disponibile.</span><span class="sxs-lookup"><span data-stu-id="09f16-163">However, if product data is stored in a different location, the Product Catalog is still available, even though other parts of the application might be unavailable.</span></span>

<span data-ttu-id="09f16-164">Spetta all'utente per determinare come l'applicazione informerà gli utenti di eventuali problemi temporanei e per le notifiche appropriate al sistema di compilazione.</span><span class="sxs-lookup"><span data-stu-id="09f16-164">It's up to you to determine how the application will inform users of any temporary problems and to build appropriate notifications into the system.</span></span> <span data-ttu-id="09f16-165">Nell'esempio precedente, l'applicazione può consentire di visualizzare i prodotti e per aggiungerli al carrello acquisti.</span><span class="sxs-lookup"><span data-stu-id="09f16-165">In the previous example, the application might allow for viewing products and for adding them to a shopping cart.</span></span> <span data-ttu-id="09f16-166">Tuttavia, quando il cliente tenta di effettuare un acquisto, l'applicazione deve inviare una notifica che la funzionalità di gestione degli ordini è temporaneamente non disponibile.</span><span class="sxs-lookup"><span data-stu-id="09f16-166">However, when the customer attempts to make a purchase, the application should notify them that the ordering functionality is temporarily unavailable.</span></span> <span data-ttu-id="09f16-167">Anche se non è ideale per il cliente, questo approccio impedisce un'interruzione del servizio a livello di applicazione.</span><span class="sxs-lookup"><span data-stu-id="09f16-167">Although not ideal for the customer, this approach prevents an application-wide service disruption.</span></span>

## <a name="data-corruption-and-restoration"></a><span data-ttu-id="09f16-168">Ripristino e il danneggiamento dei dati</span><span class="sxs-lookup"><span data-stu-id="09f16-168">Data corruption and restoration</span></span>

<span data-ttu-id="09f16-169">Se un archivio dati non riesce, potrebbe esserci incoerenze dei dati quando ritorna disponibile, soprattutto se i dati sono stati replicati.</span><span class="sxs-lookup"><span data-stu-id="09f16-169">If a data store fails, there might be data inconsistencies when it becomes available again, especially if the data was replicated.</span></span> <span data-ttu-id="09f16-170">Comprendere l'obiettivo tempo di ripristino (RTO) e il punto di ripristino (RPO) descrive come gli archivi dati replicati consentono di stimare la quantità di perdita di dati.</span><span class="sxs-lookup"><span data-stu-id="09f16-170">Understanding the recovery time objective (RTO) and recovery point objective (RPO) of replicated data stores can help you predict the amount of data loss.</span></span>

<span data-ttu-id="09f16-171">Per comprendere se il failover tra aree viene avviato manualmente o da Microsoft, esaminare i contratti di servizio di Azure.</span><span class="sxs-lookup"><span data-stu-id="09f16-171">To understand whether the cross-regional failover is started manually or by Microsoft, review the Azure service SLAs.</span></span> <span data-ttu-id="09f16-172">Per i servizi con nessun contratti di servizio per il failover tra più aree, Microsoft in genere decide di eseguire il failover e in genere assegna la priorità il ripristino dei dati nell'area primaria.</span><span class="sxs-lookup"><span data-stu-id="09f16-172">For services with no SLAs for cross-regional failover, Microsoft typically decides when to fail over and usually prioritizes recovery of data in the primary region.</span></span> <span data-ttu-id="09f16-173">Se i dati nell'area primaria viene ritenuti non recuperabili, Microsoft effettua il failover all'area secondaria.</span><span class="sxs-lookup"><span data-stu-id="09f16-173">If data in the primary region is deemed unrecoverable, Microsoft fails over to the secondary region.</span></span>

### <a name="restoring-data-from-backups"></a><span data-ttu-id="09f16-174">Il ripristino dei dati dai backup</span><span class="sxs-lookup"><span data-stu-id="09f16-174">Restoring data from backups</span></span>

<span data-ttu-id="09f16-175">I backup è proteggono dalla perdita di un componente dell'applicazione a causa di eliminazione accidentale o danneggiamento dei dati.</span><span class="sxs-lookup"><span data-stu-id="09f16-175">Backups protect you from losing a component of the application because of accidental deletion or data corruption.</span></span> <span data-ttu-id="09f16-176">Consentono di mantenere una versione funzionante del componente da un'ora precedente, che è possibile usare per ripristinarla.</span><span class="sxs-lookup"><span data-stu-id="09f16-176">They preserve a functional version of the component from an earlier time, which you can use to restore it.</span></span>

<span data-ttu-id="09f16-177">Strategie di ripristino di emergenza non siano una sostituzione per i backup, ma i backup regolari dei dati delle applicazioni supportano alcuni scenari di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="09f16-177">Disaster recovery strategies are not a replacement for backups, but regular backups of application data support some disaster recovery scenarios.</span></span> <span data-ttu-id="09f16-178">Le scelte di archiviazione di backup devono essere basate sulla strategia di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="09f16-178">Your backup storage choices should be based on your disaster recovery strategy.</span></span>

<span data-ttu-id="09f16-179">La frequenza di esecuzione del processo di backup determina il valore RPO.</span><span class="sxs-lookup"><span data-stu-id="09f16-179">The frequency of running the backup process determines your RPO.</span></span> <span data-ttu-id="09f16-180">Ad esempio, se si eseguono backup orari e si verifica un'emergenza due minuti prima del backup, si perderanno 58 minuti di dati.</span><span class="sxs-lookup"><span data-stu-id="09f16-180">For example, if you perform hourly backups and a disaster occurs two minutes before the backup, you will lose 58 minutes of data.</span></span> <span data-ttu-id="09f16-181">Il piano di ripristino di emergenza deve includere come si risolverà perdita di dati.</span><span class="sxs-lookup"><span data-stu-id="09f16-181">Your disaster recovery plan should include how you will address lost data.</span></span>

<span data-ttu-id="09f16-182">È comune per i dati in un archivio dati per i dati di riferimento in un altro archivio.</span><span class="sxs-lookup"><span data-stu-id="09f16-182">It's common for data in one data store to reference data in another store.</span></span> <span data-ttu-id="09f16-183">Si consideri ad esempio un Database SQL con una colonna che si collega a un blob in archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="09f16-183">For example, consider a SQL Database with a column that links to a blob in Azure Storage.</span></span> <span data-ttu-id="09f16-184">Se non si verifichino contemporaneamente i backup, il database potrebbe essere un puntatore a un blob che non è stato eseguito il backup prima dell'errore.</span><span class="sxs-lookup"><span data-stu-id="09f16-184">If backups don't happen simultaneously, the database might have a pointer to a blob that wasn't backed up before the failure.</span></span> <span data-ttu-id="09f16-185">L'applicazione o il piano di ripristino di emergenza deve implementare procedure per gestire questa incoerenza dopo un ripristino.</span><span class="sxs-lookup"><span data-stu-id="09f16-185">The application or the disaster recovery plan must implement processes to handle this inconsistency after a recovery.</span></span>

> [!NOTE]
> <span data-ttu-id="09f16-186">In alcuni scenari, ad esempio quello delle macchine virtuali sottoposti a backup mediante [Backup di Azure](/azure/backup/backup-azure-vms-first-look-arm), è possibile ripristinare solo da un backup nella stessa area.</span><span class="sxs-lookup"><span data-stu-id="09f16-186">In some scenarios, such as that of VMs backed up using [Azure Backup](/azure/backup/backup-azure-vms-first-look-arm), you can restore only from a backup in the same region.</span></span> <span data-ttu-id="09f16-187">Ad altri servizi Azure, ad esempio [Cache di Azure per Redis](/azure/azure-cache-for-redis/cache-how-to-geo-replication), offrono backup con replica geografica, è possibile usare per ripristinare i servizi in aree geografiche.</span><span class="sxs-lookup"><span data-stu-id="09f16-187">Other Azure services, such as [Azure Cache for Redis](/azure/azure-cache-for-redis/cache-how-to-geo-replication), provide geo-replicated backups, which you can use to restore services across regions.</span></span>

### <a name="azure-storage-and-azure-sql-database"></a><span data-ttu-id="09f16-188">Database SQL di Azure e archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-188">Azure Storage and Azure SQL Database</span></span>

<span data-ttu-id="09f16-189">Azure Archivia automaticamente i dati di archiviazione di Azure e Database SQL di tre volte all'interno di diversi domini di errore nella stessa area.</span><span class="sxs-lookup"><span data-stu-id="09f16-189">Azure automatically stores Azure Storage and SQL Database data three times within different fault domains in the same region.</span></span> <span data-ttu-id="09f16-190">Se si usa la replica geografica, i dati vengono archiviati altre tre volte in un'area diversa.</span><span class="sxs-lookup"><span data-stu-id="09f16-190">If you use geo-replication, the data is stored three additional times in a different region.</span></span> <span data-ttu-id="09f16-191">Tuttavia, se i dati sono danneggiati o eliminati nella copia primaria (ad esempio, a causa di errori dell'utente), la replica delle modifiche in altre copie.</span><span class="sxs-lookup"><span data-stu-id="09f16-191">However, if the data is corrupted or deleted in the primary copy (for example, because of user error), the changes replicate to the other copies.</span></span>

<span data-ttu-id="09f16-192">Sono disponibili due opzioni per la gestione potenziale danneggiamento dei dati o l'eliminazione:</span><span class="sxs-lookup"><span data-stu-id="09f16-192">You have two options for managing potential data corruption or deletion:</span></span>

- <span data-ttu-id="09f16-193">**Creare una strategia di backup personalizzata.**</span><span class="sxs-lookup"><span data-stu-id="09f16-193">**Create a custom backup strategy.**</span></span> <span data-ttu-id="09f16-194">È possibile archiviare i backup in Azure o in locale, a seconda dei requisiti aziendali e alle normative di governance.</span><span class="sxs-lookup"><span data-stu-id="09f16-194">You can store your backups in Azure or on-premises, depending on your business requirements and governance regulations.</span></span>
- <span data-ttu-id="09f16-195">**Usare l'opzione di ripristino temporizzato in** per ripristinare un Database SQL.</span><span class="sxs-lookup"><span data-stu-id="09f16-195">**Use the point-in-time restore option** to recover a SQL Database.</span></span>

#### <a name="azure-storage-recovery"></a><span data-ttu-id="09f16-196">Ripristino di archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-196">Azure Storage recovery</span></span>

<span data-ttu-id="09f16-197">È possibile sviluppare un processo di backup personalizzato per l'archiviazione di Azure o usare uno dei molti strumenti di backup di terze parti.</span><span class="sxs-lookup"><span data-stu-id="09f16-197">You can develop a custom backup process for Azure Storage or use one of many third-party backup tools.</span></span>

<span data-ttu-id="09f16-198">Archiviazione di Azure offre la resilienza dei dati tramite le repliche automatiche, ma non impedisce il codice dell'applicazione o agli utenti di danneggiare i dati.</span><span class="sxs-lookup"><span data-stu-id="09f16-198">Azure Storage provides data resiliency through automated replicas, but it doesn't prevent application code or users from corrupting data.</span></span> <span data-ttu-id="09f16-199">Mantenere i dati fedeltà dopo un errore di applicazione o un utente sono richieste tecniche più avanzate, ad esempio la copia dei dati in una posizione di archiviazione secondario con un log di controllo.</span><span class="sxs-lookup"><span data-stu-id="09f16-199">Maintaining data fidelity after application or user error requires more advanced techniques, such as copying the data to a secondary storage location with an audit log.</span></span> <span data-ttu-id="09f16-200">Sono disponibili diverse opzioni:</span><span class="sxs-lookup"><span data-stu-id="09f16-200">You have several options:</span></span>

- [<span data-ttu-id="09f16-201">**I BLOB in blocchi.**</span><span class="sxs-lookup"><span data-stu-id="09f16-201">**Block blobs.**</span></span>](/rest/api/storageservices/understanding-block-blobs--append-blobs--and-page-blobs) <span data-ttu-id="09f16-202">Creare uno snapshot temporizzato di ogni BLOB in blocchi.</span><span class="sxs-lookup"><span data-stu-id="09f16-202">Create a point-in-time snapshot of each block blob.</span></span> <span data-ttu-id="09f16-203">Per ogni snapshot, vengono addebitati solo per l'archiviazione necessaria per archiviare le differenze all'interno del blob perché lo stato dello snapshot precedente.</span><span class="sxs-lookup"><span data-stu-id="09f16-203">For each snapshot, you are charged only for the storage required to store the differences within the blob since the previous snapshot state.</span></span> <span data-ttu-id="09f16-204">Gli snapshot dipendono del blob originale, pertanto si consiglia di copiare in un altro blob o persino in un altro account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="09f16-204">The snapshots are dependent on the original blob, so we recommend copying to another blob or even to another storage account.</span></span> <span data-ttu-id="09f16-205">Questo approccio assicura che i dati di backup siano protetti da eliminazioni accidentali.</span><span class="sxs-lookup"><span data-stu-id="09f16-205">This approach ensures that backup data is protected against accidental deletion.</span></span> <span data-ttu-id="09f16-206">Uso [AzCopy](/azure/storage/common/storage-use-azcopy) oppure [Azure PowerShell](/azure/storage/common/storage-powershell-guide-full) per copiare i BLOB in un altro account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="09f16-206">Use [AzCopy](/azure/storage/common/storage-use-azcopy) or [Azure PowerShell](/azure/storage/common/storage-powershell-guide-full) to copy the blobs to another storage account.</span></span>

    <span data-ttu-id="09f16-207">Per ulteriori informazioni, vedere [Creazione di uno Snapshot di un BLOB](/rest/api/storageservices/creating-a-snapshot-of-a-blob).</span><span class="sxs-lookup"><span data-stu-id="09f16-207">For more information, see [Creating a Snapshot of a Blob](/rest/api/storageservices/creating-a-snapshot-of-a-blob).</span></span>

- [<span data-ttu-id="09f16-208">**File di Azure.**</span><span class="sxs-lookup"><span data-stu-id="09f16-208">**Azure Files.**</span></span>](/azure/storage/files/storage-files-introduction) <span data-ttu-id="09f16-209">Uso [snapshot di condivisione](/azure/storage/files/storage-snapshots-files), AzCopy o PowerShell per copiare i file in un altro account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="09f16-209">Use [share snapshots](/azure/storage/files/storage-snapshots-files), AzCopy, or PowerShell to copy your files to another storage account.</span></span>
- [<span data-ttu-id="09f16-210">**Archiviazione tabelle di Azure.**</span><span class="sxs-lookup"><span data-stu-id="09f16-210">**Azure Table storage.**</span></span>](/azure/storage/tables/table-storage-overview) <span data-ttu-id="09f16-211">Usare AzCopy per esportare i dati delle tabelle in un altro account di archiviazione in un'altra area.</span><span class="sxs-lookup"><span data-stu-id="09f16-211">Use AzCopy to export the table data into another storage account in another region.</span></span>

#### <a name="sql-database-recovery"></a><span data-ttu-id="09f16-212">Ripristino del Database SQL</span><span class="sxs-lookup"><span data-stu-id="09f16-212">SQL Database recovery</span></span>

<span data-ttu-id="09f16-213">Per proteggere automaticamente l'azienda dalla perdita di dati, Database SQL esegue una combinazione di backup completi del database ogni settimana, backup differenziale del database su base oraria e transazione i backup del log ogni 5 a 10 minuti.</span><span class="sxs-lookup"><span data-stu-id="09f16-213">To protect your business from data loss, SQL Database automatically performs a combination of full database backups weekly, differential database backups hourly, and transaction log backups every 5 to 10 minutes.</span></span> <span data-ttu-id="09f16-214">Per i livelli Basic, Standard e Premium del Database di SQL, usare point-in-time ripristino per ripristinare un database a un momento precedente.</span><span class="sxs-lookup"><span data-stu-id="09f16-214">For the Basic, Standard, and Premium SQL Database tiers, use point-in-time restore to restore a database to an earlier time.</span></span> <span data-ttu-id="09f16-215">Vedere gli articoli seguenti per altre informazioni:</span><span class="sxs-lookup"><span data-stu-id="09f16-215">See the following articles for more information:</span></span>

- [<span data-ttu-id="09f16-216">Ripristinare un database SQL di Azure mediante i backup automatici del database</span><span class="sxs-lookup"><span data-stu-id="09f16-216">Recover an Azure SQL database using automated database backups</span></span>](/azure/sql-database/sql-database-recovery-using-backups)
- [<span data-ttu-id="09f16-217">Panoramica della continuità aziendale del database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-217">Overview of business continuity with Azure SQL Database</span></span>](/azure/sql-database/sql-database-business-continuity)

<span data-ttu-id="09f16-218">Un'altra opzione consiste nell'usare la replica geografica attiva per Database SQL, che replica automaticamente le modifiche del database al database secondari nell'area di Azure uguali o diverso.</span><span class="sxs-lookup"><span data-stu-id="09f16-218">Another option is to use active geo-replication for SQL Database, which automatically replicates database changes to secondary databases in the same or different Azure region.</span></span> <span data-ttu-id="09f16-219">Per altre informazioni, vedere [creazione e uso di replica geografica attiva](/azure/sql-database/sql-database-active-geo-replication).</span><span class="sxs-lookup"><span data-stu-id="09f16-219">For more information, see [Creating and using active geo-replication](/azure/sql-database/sql-database-active-geo-replication).</span></span>

<span data-ttu-id="09f16-220">È anche possibile usare un approccio più manuale per il backup e ripristino:</span><span class="sxs-lookup"><span data-stu-id="09f16-220">You can also use a more manual approach for backup and restore:</span></span>

- <span data-ttu-id="09f16-221">Usare la **copia del DATABASE** comando per creare una copia di backup del database con coerenza transazionale.</span><span class="sxs-lookup"><span data-stu-id="09f16-221">Use the **DATABASE COPY** command to create a backup copy of the database with transactional consistency.</span></span>
- <span data-ttu-id="09f16-222">Usare Azure SQL Database di importazione/esportazione Service, che supporta l'esportazione dei database in file BACPAC (file compressi contenenti lo schema di database e i dati associati) archiviati in archiviazione Blob di Azure.</span><span class="sxs-lookup"><span data-stu-id="09f16-222">Use the Azure SQL Database Import/Export Service, which supports exporting databases to BACPAC files (compressed files containing your database schema and associated data) that are stored in Azure Blob storage.</span></span> <span data-ttu-id="09f16-223">Per evitare un'interruzione del servizio a livello di area, copiare i file BACPAC in un'area alternativa.</span><span class="sxs-lookup"><span data-stu-id="09f16-223">To protect against a region-wide service disruption, copy the BACPAC files to an alternate region.</span></span>

### <a name="sql-server-on-vms"></a><span data-ttu-id="09f16-224">SQL Server in VM</span><span class="sxs-lookup"><span data-stu-id="09f16-224">SQL Server on VMs</span></span>

<span data-ttu-id="09f16-225">Per SQL Server in esecuzione nelle macchine virtuali, sono disponibili due opzioni: backup tradizionali e log shipping.</span><span class="sxs-lookup"><span data-stu-id="09f16-225">For SQL Server running on VMs, you have two options: traditional backups and log shipping.</span></span>

- <span data-ttu-id="09f16-226">Con i backup tradizionali, è possibile ripristinare per uno specifico punto nel tempo, ma il processo di recupero è lento.</span><span class="sxs-lookup"><span data-stu-id="09f16-226">With traditional backups, you can restore to a specific point in time, but the recovery process is slow.</span></span> <span data-ttu-id="09f16-227">Il ripristino dei backup tradizionali, è necessario iniziare con un backup completo iniziale e quindi applicare i backup incrementali.</span><span class="sxs-lookup"><span data-stu-id="09f16-227">Restoring traditional backups requires that you start with an initial full backup and then apply any incremental backups.</span></span>
- <span data-ttu-id="09f16-228">È possibile configurare una sessione di log shipping per ritardare il ripristino dei backup del log.</span><span class="sxs-lookup"><span data-stu-id="09f16-228">You can configure a log shipping session to delay the restore of log backups.</span></span> <span data-ttu-id="09f16-229">Ciò fornisce una finestra per il ripristino da errori nella replica primaria.</span><span class="sxs-lookup"><span data-stu-id="09f16-229">This provides a window to recover from errors made on the primary replica.</span></span>

### <a name="azure-database-for-mysql-and-azure-database-for-postgresql"></a><span data-ttu-id="09f16-230">Database di Azure per MySQL e Database di Azure per PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="09f16-230">Azure Database for MySQL and Azure Database for PostgreSQL</span></span>

<span data-ttu-id="09f16-231">Nel Database di Azure per MySQL e Database di Azure per PostgreSQL, il servizio di database esegue automaticamente il backup ogni cinque minuti.</span><span class="sxs-lookup"><span data-stu-id="09f16-231">In Azure Database for MySQL and Azure Database for PostgreSQL, the database service automatically makes a backup every five minutes.</span></span> <span data-ttu-id="09f16-232">È possibile usare i backup automatici per ripristinare il server e i relativi database da un punto precedente nel tempo in un nuovo server.</span><span class="sxs-lookup"><span data-stu-id="09f16-232">You can use these automated backups to restore the server and its databases from an earlier point in time to a new server.</span></span> <span data-ttu-id="09f16-233">Per altre informazioni, vedere:</span><span class="sxs-lookup"><span data-stu-id="09f16-233">For more information, see:</span></span>

- [<span data-ttu-id="09f16-234">Come eseguire la procedura di backup e ripristino di un server in Database di Azure per MySQL tramite il portale di Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-234">How to back up and restore a server in Azure Database for MySQL by using the Azure portal</span></span>](/azure/mysql/howto-restore-server-portal)
- [<span data-ttu-id="09f16-235">Come eseguire il backup e ripristino di un server nel Database di Azure per PostgreSQL usando il portale di Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-235">How to back up and restore a server in Azure Database for PostgreSQL using the Azure portal</span></span>](/azure/postgresql/howto-restore-server-portal)

### <a name="azure-cosmos-db"></a><span data-ttu-id="09f16-236">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="09f16-236">Azure Cosmos DB</span></span>

<span data-ttu-id="09f16-237">COSMOS DB esegue automaticamente il backup a intervalli regolari.</span><span class="sxs-lookup"><span data-stu-id="09f16-237">Cosmos DB automatically makes a backup at regular intervals.</span></span> <span data-ttu-id="09f16-238">I backup vengono archiviati separatamente in un altro servizio di archiviazione e vengono replicati a livello globale per proteggersi da emergenze a livello di area.</span><span class="sxs-lookup"><span data-stu-id="09f16-238">Backups are stored separately in another storage service and are replicated globally to protect against regional disasters.</span></span> <span data-ttu-id="09f16-239">Se si elimina accidentalmente il database o la raccolta, è possibile inviare un ticket di supporto o contattare il supporto di Azure per ripristinare i dati dall'ultimo backup automatico.</span><span class="sxs-lookup"><span data-stu-id="09f16-239">If you accidentally delete your database or collection, you can file a support ticket or call Azure support to restore the data from the last automatic backup.</span></span> <span data-ttu-id="09f16-240">Per altre informazioni, vedere [backup Online e ripristino on demand in Azure Cosmos DB](/azure/cosmos-db/online-backup-and-restore).</span><span class="sxs-lookup"><span data-stu-id="09f16-240">For more information, see [Online backup and on-demand restore in Azure Cosmos DB](/azure/cosmos-db/online-backup-and-restore).</span></span>

### <a name="azure-virtual-machines"></a><span data-ttu-id="09f16-241">Macchine virtuali di Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-241">Azure Virtual Machines</span></span>

<span data-ttu-id="09f16-242">Per proteggere le macchine virtuali di Azure da errori dell'applicazione o dall'eliminazione accidentale, usare [Backup di Azure](/azure/backup/).</span><span class="sxs-lookup"><span data-stu-id="09f16-242">To protect Azure Virtual Machines from application errors or accidental deletion, use [Azure Backup](/azure/backup/).</span></span> <span data-ttu-id="09f16-243">I backup creati sono coerenti tra più dischi di macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="09f16-243">The created backups are consistent across multiple VM disks.</span></span> <span data-ttu-id="09f16-244">Inoltre, l'insieme di credenziali di Backup di Azure possono essere replicate tra le aree per supportare il ripristino da una perdita a livello di area.</span><span class="sxs-lookup"><span data-stu-id="09f16-244">In addition, the Azure Backup vault can be replicated across regions to support recovery from a regional loss.</span></span>

## <a name="network-outage"></a><span data-ttu-id="09f16-245">Interruzione della rete</span><span class="sxs-lookup"><span data-stu-id="09f16-245">Network outage</span></span>

<span data-ttu-id="09f16-246">Se parti della rete di Azure sono accessibili, potrebbe non essere in grado di accedere all'applicazione o i dati.</span><span class="sxs-lookup"><span data-stu-id="09f16-246">When parts of the Azure network are inaccessible, you might not be able to access your application or data.</span></span> <span data-ttu-id="09f16-247">In questo caso, è consigliabile progettare la strategia di ripristino di emergenza per eseguire la maggior parte delle applicazioni con funzionalità ridotte.</span><span class="sxs-lookup"><span data-stu-id="09f16-247">In this situation, we recommend designing the disaster recovery strategy to run most applications with reduced functionality.</span></span>

<span data-ttu-id="09f16-248">Se servizi con funzionalità ridotte non è un'opzione, le opzioni rimanenti sono tempi di inattività dell'applicazione o il failover a un'area alternativa.</span><span class="sxs-lookup"><span data-stu-id="09f16-248">If reducing functionality isn't an option, the remaining options are application downtime or failover to an alternate region.</span></span>

<span data-ttu-id="09f16-249">In uno scenario con funzionalità ridotte:</span><span class="sxs-lookup"><span data-stu-id="09f16-249">In a reduced functionality scenario:</span></span>

- <span data-ttu-id="09f16-250">Se l'applicazione non è possibile accedere ai dati a causa di un'interruzione di rete di Azure, è possibile eseguire in locale con funzionalità ridotte utilizzando dati memorizzati nella cache.</span><span class="sxs-lookup"><span data-stu-id="09f16-250">If your application can't access its data because of an Azure network outage, you might be able to run locally with reduced application functionality by using cached data.</span></span>
- <span data-ttu-id="09f16-251">Potrebbe essere in grado di archiviare i dati in una posizione alternativa finché non viene ripristinata la connettività.</span><span class="sxs-lookup"><span data-stu-id="09f16-251">You might be able to store data in an alternate location until connectivity is restored.</span></span>

## <a name="dependent-service-failure"></a><span data-ttu-id="09f16-252">Errore servizio dipendente da</span><span class="sxs-lookup"><span data-stu-id="09f16-252">Dependent service failure</span></span>

<span data-ttu-id="09f16-253">Per ogni servizio dipendente, è necessario comprendere le implicazioni di un'interruzione del servizio e il modo in cui l'applicazione risponde.</span><span class="sxs-lookup"><span data-stu-id="09f16-253">For each dependent service, you should understand the implications of a service disruption and the way that the application will respond.</span></span> <span data-ttu-id="09f16-254">Molti servizi includono funzionalità che supportano la resilienza e disponibilità, in modo che la valutazione in modo indipendente ogni servizio è probabile che migliorare il piano di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="09f16-254">Many services include features that support resiliency and availability, so evaluating each service independently is likely to improve your disaster recovery plan.</span></span> <span data-ttu-id="09f16-255">Ad esempio, hub eventi di Azure supporta [failover](/azure/event-hubs/event-hubs-geo-dr#setup-and-failover-flow) allo spazio dei nomi secondario.</span><span class="sxs-lookup"><span data-stu-id="09f16-255">For example, Azure Event Hubs supports [failing over](/azure/event-hubs/event-hubs-geo-dr#setup-and-failover-flow) to the secondary namespace.</span></span>

## <a name="region-wide-service-disruptions"></a><span data-ttu-id="09f16-256">Interruzioni del servizio a livello di area</span><span class="sxs-lookup"><span data-stu-id="09f16-256">Region-wide service disruptions</span></span>

<span data-ttu-id="09f16-257">Numero di errori è gestibili nella stessa area di Azure.</span><span class="sxs-lookup"><span data-stu-id="09f16-257">Many failures are manageable within the same Azure region.</span></span> <span data-ttu-id="09f16-258">Tuttavia, nell'improbabile caso di un'interruzione del servizio a livello di area, le copie ridondanti locali dei dati non sono disponibili.</span><span class="sxs-lookup"><span data-stu-id="09f16-258">However, in the unlikely event of a region-wide service disruption, the locally redundant copies of your data aren't available.</span></span> <span data-ttu-id="09f16-259">Se è stata abilitata la replica geografica, esistono altre tre copie dei BLOB e tabelle in un'area diversa.</span><span class="sxs-lookup"><span data-stu-id="09f16-259">If you've enabled geo-replication, there are three additional copies of your blobs and tables in a different region.</span></span> <span data-ttu-id="09f16-260">Se Microsoft dichiara l'area perdita, Azure esegue un nuovo mapping tutte le voci DNS all'area secondaria.</span><span class="sxs-lookup"><span data-stu-id="09f16-260">If Microsoft declares the region lost, Azure remaps all the DNS entries to the secondary region.</span></span>

> [!NOTE]
> <span data-ttu-id="09f16-261">Questo processo si verifica solo per le interruzioni del servizio a livello di area e non all'interno del controllo.</span><span class="sxs-lookup"><span data-stu-id="09f16-261">This process occurs only for region-wide service disruptions and is not within your control.</span></span> <span data-ttu-id="09f16-262">Per ottenere valori migliori di RPO e RTO, provare a usare [Azure Site Recovery](/azure/site-recovery/).</span><span class="sxs-lookup"><span data-stu-id="09f16-262">Consider using [Azure Site Recovery](/azure/site-recovery/) to achieve better RPO and RTO.</span></span> <span data-ttu-id="09f16-263">Usa Site Recovery, si decide cosa è accettabile un'interruzione e quando eseguire il failover di macchine virtuali replicate.</span><span class="sxs-lookup"><span data-stu-id="09f16-263">Using Site Recovery, you decide what is an acceptable outage and when to fail over to the replicated VMs.</span></span>

<span data-ttu-id="09f16-264">La risposta a un'interruzione del servizio a livello di area varia a seconda della distribuzione e il piano di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="09f16-264">Your response to a region-wide service disruption depends on your deployment and your disaster recovery plan.</span></span>

- <span data-ttu-id="09f16-265">Come strategia di controllo dei costi, per le applicazioni non critiche che non richiedono un tempo di ripristino garantito, si potrebbe avere senso per la ridistribuzione in un'area diversa.</span><span class="sxs-lookup"><span data-stu-id="09f16-265">As a cost-control strategy, for non-critical applications that don't require a guaranteed recovery time, it might make sense to redeploy to a different region.</span></span>
- <span data-ttu-id="09f16-266">Per le applicazioni che sono ospitate in un'altra area con i ruoli distribuiti ma non distribuisce il traffico tra aree (*distribuzione attiva/passiva*), passare al servizio ospitato secondario nell'area alternativa.</span><span class="sxs-lookup"><span data-stu-id="09f16-266">For applications that are hosted in another region with deployed roles but don't distribute traffic across regions (*active/passive deployment*), switch to the secondary hosted service in the alternate region.</span></span>
- <span data-ttu-id="09f16-267">Per le applicazioni con una distribuzione secondaria completa in un'altra area (*distribuzione attiva/attiva*), instradare il traffico a tale area.</span><span class="sxs-lookup"><span data-stu-id="09f16-267">For applications that have a full-scale secondary deployment in another region (*active/active deployment*), route traffic to that region.</span></span>

<span data-ttu-id="09f16-268">Per altre informazioni sul ripristino dopo un'interruzione di servizio a livello di area, vedere [ripristino dopo un'interruzione di servizio a livello di area](../resiliency/recovery-loss-azure-region.md).</span><span class="sxs-lookup"><span data-stu-id="09f16-268">To learn more about recovering from a region-wide service disruption, see [Recover from a region-wide service disruption](../resiliency/recovery-loss-azure-region.md).</span></span>

### <a name="vm-recovery"></a><span data-ttu-id="09f16-269">Ripristino di VM</span><span class="sxs-lookup"><span data-stu-id="09f16-269">VM recovery</span></span>

<span data-ttu-id="09f16-270">Per le applicazioni critiche, pianificare il ripristino di macchine virtuali in caso di un'interruzione del servizio a livello di area.</span><span class="sxs-lookup"><span data-stu-id="09f16-270">For critical apps, plan for recovering VMs in the event of a region-wide service disruption.</span></span>

- <span data-ttu-id="09f16-271">Usare Backup di Azure o un altro metodo di backup per creare backup coerenti con l'applicazione tra più aree.</span><span class="sxs-lookup"><span data-stu-id="09f16-271">Use Azure Backup or another backup method to create cross-region backups that are application consistent.</span></span> <span data-ttu-id="09f16-272">(La replica dell'insieme di credenziali di Backup deve essere configurata al momento della creazione).</span><span class="sxs-lookup"><span data-stu-id="09f16-272">(Replication of the Backup vault must be configured at the time of creation.)</span></span>
- <span data-ttu-id="09f16-273">Usare Site Recovery per la replica tra aree per il failover dell'applicazione con un clic e test del failover.</span><span class="sxs-lookup"><span data-stu-id="09f16-273">Use Site Recovery to replicate across regions for one-click application failover and failover testing.</span></span>
- <span data-ttu-id="09f16-274">Usare Gestione traffico per automatizzare il failover del traffico utente in un'altra area.</span><span class="sxs-lookup"><span data-stu-id="09f16-274">Use Traffic Manager to automate user traffic failover to another region.</span></span>

<span data-ttu-id="09f16-275">Per altre informazioni, vedere [ripristino da interruzione del servizio a livello di area, le macchine virtuali](../resiliency/recovery-loss-azure-region.md#virtual-machines).</span><span class="sxs-lookup"><span data-stu-id="09f16-275">To learn more, see [Recover from a region-wide service disruption, Virtual machines](../resiliency/recovery-loss-azure-region.md#virtual-machines).</span></span>

### <a name="storage-recovery"></a><span data-ttu-id="09f16-276">Ripristino di archiviazione</span><span class="sxs-lookup"><span data-stu-id="09f16-276">Storage recovery</span></span>

<span data-ttu-id="09f16-277">Per proteggere il dispositivo di archiviazione in caso di un'interruzione del servizio a livello di area:</span><span class="sxs-lookup"><span data-stu-id="09f16-277">To protect your storage in the event of a region-wide service disruption:</span></span>

- <span data-ttu-id="09f16-278">Usare l'archiviazione con ridondanza geografica.</span><span class="sxs-lookup"><span data-stu-id="09f16-278">Use geo-redundant storage.</span></span>
- <span data-ttu-id="09f16-279">Conosce la posizione di archiviazione con replica geografica.</span><span class="sxs-lookup"><span data-stu-id="09f16-279">Know where your storage is geo-replicated.</span></span> <span data-ttu-id="09f16-280">Ciò interessa in cui si distribuire altre istanze dei dati che richiedono affinità di area con l'archiviazione.</span><span class="sxs-lookup"><span data-stu-id="09f16-280">This affects where you deploy other instances of your data that require regional affinity with your storage.</span></span>
- <span data-ttu-id="09f16-281">Controllare i dati per la coerenza dopo il failover e, se necessario, ripristinare da un backup.</span><span class="sxs-lookup"><span data-stu-id="09f16-281">Check data for consistency after failover and, if necessary, restore from a backup.</span></span>

<span data-ttu-id="09f16-282">Per altre informazioni, vedere [progettazione di applicazioni a disponibilità elevata con RA-GRS](/azure/storage/common/storage-designing-ha-apps-with-ragrs).</span><span class="sxs-lookup"><span data-stu-id="09f16-282">To learn more, see [Designing highly available applications using RA-GRS](/azure/storage/common/storage-designing-ha-apps-with-ragrs).</span></span>

### <a name="sql-database-and-sql-server"></a><span data-ttu-id="09f16-283">Database SQL e SQL Server</span><span class="sxs-lookup"><span data-stu-id="09f16-283">SQL Database and SQL Server</span></span>

<span data-ttu-id="09f16-284">Il database SQL di Azure offre due tipi di ripristino:</span><span class="sxs-lookup"><span data-stu-id="09f16-284">Azure SQL Database provides two types of recovery:</span></span>

- <span data-ttu-id="09f16-285">Usare il ripristino geografico per ripristinare un database da una copia di backup in un'altra area.</span><span class="sxs-lookup"><span data-stu-id="09f16-285">Use geo-restore to restore a database from a backup copy in another region.</span></span> <span data-ttu-id="09f16-286">Per altre informazioni, vedere [ripristinare un database SQL di Azure mediante i backup automatici del database](/azure/sql-database/sql-database-recovery-using-backups).</span><span class="sxs-lookup"><span data-stu-id="09f16-286">For more information, see [Recover an Azure SQL database using automated database backups](/azure/sql-database/sql-database-recovery-using-backups).</span></span>
- <span data-ttu-id="09f16-287">Usare la replica geografica attiva per il failover a un database secondario.</span><span class="sxs-lookup"><span data-stu-id="09f16-287">Use active geo-replication to fail over to a secondary database.</span></span> <span data-ttu-id="09f16-288">Per altre informazioni, vedere [creazione e uso di replica geografica attiva](/azure/sql-database/sql-database-active-geo-replication).</span><span class="sxs-lookup"><span data-stu-id="09f16-288">For more information, see [Creating and using active geo-replication](/azure/sql-database/sql-database-active-geo-replication).</span></span>

<span data-ttu-id="09f16-289">Per SQL Server in esecuzione nelle macchine virtuali, vedere [elevata disponibilità e ripristino di emergenza per SQL Server in macchine virtuali Azure](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/).</span><span class="sxs-lookup"><span data-stu-id="09f16-289">For SQL Server running on VMs, see [High availability and disaster recovery for SQL Server in Azure Virtual Machines](/azure/virtual-machines/windows/sql/virtual-machines-windows-sql-high-availability-dr/).</span></span>

## <a name="service-specific-guidance"></a><span data-ttu-id="09f16-290">Indicazioni specifiche dei servizi</span><span class="sxs-lookup"><span data-stu-id="09f16-290">Service-specific guidance</span></span>

<span data-ttu-id="09f16-291">Gli articoli seguenti descrivono il ripristino di emergenza per servizi specifici di Azure:</span><span class="sxs-lookup"><span data-stu-id="09f16-291">The following articles describe disaster recovery for specific Azure services:</span></span>

| <span data-ttu-id="09f16-292">Service</span><span class="sxs-lookup"><span data-stu-id="09f16-292">Service</span></span>                       | <span data-ttu-id="09f16-293">Articolo</span><span class="sxs-lookup"><span data-stu-id="09f16-293">Article</span></span>                                                                                                                                                                                       |
|-------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="09f16-294">Database di Azure per MySQL</span><span class="sxs-lookup"><span data-stu-id="09f16-294">Azure Database for MySQL</span></span>      | [<span data-ttu-id="09f16-295">Panoramica della continuità aziendale con Database di Azure per MySQL</span><span class="sxs-lookup"><span data-stu-id="09f16-295">Overview of business continuity with Azure Database for MySQL</span></span>](/azure/mysql/concepts-business-continuity)                                                  |
| <span data-ttu-id="09f16-296">Database di Azure per PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="09f16-296">Azure Database for PostgreSQL</span></span> | [<span data-ttu-id="09f16-297">Panoramica della continuità aziendale con Database di Azure per PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="09f16-297">Overview of business continuity with Azure Database for PostgreSQL</span></span>](/azure/postgresql/concepts-business-continuity)                                        |
| <span data-ttu-id="09f16-298">Servizi cloud di Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-298">Azure Cloud Services</span></span>          | [<span data-ttu-id="09f16-299">Operazioni da eseguire in caso di un'interruzione del servizio Azure con impatto sui servizi cloud di Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-299">What to do in the event of an Azure service disruption that impacts Azure Cloud Services</span></span>](/azure/cloud-services/cloud-services-disaster-recovery-guidance) |
| <span data-ttu-id="09f16-300">Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="09f16-300">Cosmos DB</span></span>                     | [<span data-ttu-id="09f16-301">Disponibilità elevata con Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="09f16-301">High availability with Azure Cosmos DB</span></span>](/azure/cosmos-db/high-availability)                                                                                |
| <span data-ttu-id="09f16-302">Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="09f16-302">Azure Key Vault</span></span>               | [<span data-ttu-id="09f16-303">Disponibilità e ridondanza in Azure Key Vault</span><span class="sxs-lookup"><span data-stu-id="09f16-303">Azure Key Vault availability and redundancy</span></span>](/azure/key-vault/key-vault-disaster-recovery-guidance)                                                        |
| <span data-ttu-id="09f16-304">Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-304">Azure Storage</span></span>                 | [<span data-ttu-id="09f16-305">Ripristino di emergenza e failover dell'account di archiviazione (anteprima) in Archiviazione di Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-305">Disaster recovery and storage account failover (preview) in Azure Storage</span></span>](/azure/storage/common/storage-disaster-recovery-guidance)                       |
| <span data-ttu-id="09f16-306">Database SQL</span><span class="sxs-lookup"><span data-stu-id="09f16-306">SQL Database</span></span>                  | [<span data-ttu-id="09f16-307">Ripristinare un Database SQL di Azure o eseguire il failover in un'area secondaria</span><span class="sxs-lookup"><span data-stu-id="09f16-307">Restore an Azure SQL Database or failover to a secondary region</span></span>](/azure/sql-database/sql-database-disaster-recovery)                                       |
| <span data-ttu-id="09f16-308">Macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="09f16-308">Virtual Machines</span></span>              | [<span data-ttu-id="09f16-309">Gli elementi da un'istanza di Azure in caso di interruzione del servizio influisce su Cloud di Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-309">What to do in the event of an Azure service disruption impacts Azure Cloud</span></span>](/azure/cloud-services/cloud-services-disaster-recovery-guidance)               |
| <span data-ttu-id="09f16-310">Rete virtuale di Azure</span><span class="sxs-lookup"><span data-stu-id="09f16-310">Azure Virtual Network</span></span>         | [<span data-ttu-id="09f16-311">Rete virtuale - Continuità aziendale</span><span class="sxs-lookup"><span data-stu-id="09f16-311">Virtual Network – Business Continuity</span></span>](/azure/virtual-network/virtual-network-disaster-recovery-guidance)                                                  |

## <a name="next-steps"></a><span data-ttu-id="09f16-312">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="09f16-312">Next steps</span></span>

- [<span data-ttu-id="09f16-313">Ripristino dal danneggiamento dei dati o dall'eliminazione accidentale</span><span class="sxs-lookup"><span data-stu-id="09f16-313">Recover from data corruption or accidental deletion</span></span>](../resiliency/recovery-data-corruption.md)
- [<span data-ttu-id="09f16-314">Ripristino da un'interruzione del servizio a livello di area</span><span class="sxs-lookup"><span data-stu-id="09f16-314">Recover from a region-wide service disruption</span></span>](../resiliency/recovery-loss-azure-region.md)