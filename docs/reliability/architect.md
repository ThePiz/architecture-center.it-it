---
title: Architettura delle applicazioni di Azure per la resilienza e disponibilità
description: Compilare la resilienza e disponibilità in un'applicazione Azure
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: ee4bb5b4a85e48fe0ff017297c31823c93a48f04
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/17/2019
ms.locfileid: "59646670"
---
# <a name="architecting-azure-applications-for-resiliency-and-availability"></a><span data-ttu-id="58efa-103">Architettura delle applicazioni di Azure per la resilienza e disponibilità</span><span class="sxs-lookup"><span data-stu-id="58efa-103">Architecting Azure applications for resiliency and availability</span></span>

<span data-ttu-id="58efa-104">Dopo aver sviluppato i requisiti per l'applicazione, il passaggio successivo consiste nella compilazione di resilienza e disponibilità al suo interno.</span><span class="sxs-lookup"><span data-stu-id="58efa-104">After you've developed the requirements for your application, the next step is to build resiliency and availability into it.</span></span> <span data-ttu-id="58efa-105">Queste qualità non possono essere aggiunto alla fine &mdash; è necessario progettare li nell'architettura.</span><span class="sxs-lookup"><span data-stu-id="58efa-105">These qualities can't be added at the end &mdash; you must design them into the architecture.</span></span>

## <a name="conduct-a-failure-mode-analysis"></a><span data-ttu-id="58efa-106">Condurre un'analisi della modalità di errore</span><span class="sxs-lookup"><span data-stu-id="58efa-106">Conduct a failure mode analysis</span></span>

<span data-ttu-id="58efa-107">*Analisi della modalità di errore* (FMA) si basa la resilienza in un sistema, identificando possibili punti di errore e che definisce come l'applicazione risponde a tali errori.</span><span class="sxs-lookup"><span data-stu-id="58efa-107">*Failure mode analysis* (FMA) builds resiliency into a system by identifying possible failure points and defining how the application responds to those failures.</span></span> <span data-ttu-id="58efa-108">La FMA deve essere delle fasi di progettazione e architettura di ripristino dagli errori è incorporata nel sistema dall'inizio.</span><span class="sxs-lookup"><span data-stu-id="58efa-108">The FMA should be part of the architecture and design phases, so failure recovery is built into the system from the beginning.</span></span> <span data-ttu-id="58efa-109">Gli obiettivi di un'analisi delle sono:</span><span class="sxs-lookup"><span data-stu-id="58efa-109">The goals of an FMA are to:</span></span>

- <span data-ttu-id="58efa-110">Determinare quali tipi di errori di un'applicazione può verificarsi e come l'applicazione rileva questi errori.</span><span class="sxs-lookup"><span data-stu-id="58efa-110">Determine what types of failures an application might experience and how the application detects those failures.</span></span>
- <span data-ttu-id="58efa-111">Acquisire i potenziali effetti di ogni tipo di errore e determinare la risposta dell'app.</span><span class="sxs-lookup"><span data-stu-id="58efa-111">Capture the potential effects of each type of failure and determine how the app responds.</span></span>
- <span data-ttu-id="58efa-112">Pianificare la registrazione e monitoraggio dell'errore e identificare le strategie di ripristino.</span><span class="sxs-lookup"><span data-stu-id="58efa-112">Plan for logging and monitoring the failure and identify recovery strategies.</span></span>

<span data-ttu-id="58efa-113">Di seguito sono riportati alcuni esempi di modalità di errore e le strategie di rilevamento per un punto di errore specifico &mdash; una chiamata a un servizio web esterno:</span><span class="sxs-lookup"><span data-stu-id="58efa-113">Here are some examples of failure modes and detection strategies for a specific failure point &mdash; a call to an external web service:</span></span>

| <span data-ttu-id="58efa-114">Modalità di errore</span><span class="sxs-lookup"><span data-stu-id="58efa-114">Failure mode</span></span>           | <span data-ttu-id="58efa-115">Strategia di rilevamento</span><span class="sxs-lookup"><span data-stu-id="58efa-115">Detection strategy</span></span>           |
|------------------------|------------------------------|
| <span data-ttu-id="58efa-116">Il servizio non è disponibile</span><span class="sxs-lookup"><span data-stu-id="58efa-116">Service is unavailable</span></span> | <span data-ttu-id="58efa-117">HTTP 5xx</span><span class="sxs-lookup"><span data-stu-id="58efa-117">HTTP 5xx</span></span>                     |
| <span data-ttu-id="58efa-118">Limitazione</span><span class="sxs-lookup"><span data-stu-id="58efa-118">Throttling</span></span>             | <span data-ttu-id="58efa-119">HTTP 429 (Troppe richieste)</span><span class="sxs-lookup"><span data-stu-id="58efa-119">HTTP 429 (Too Many Requests)</span></span> |
| <span data-ttu-id="58efa-120">Authentication</span><span class="sxs-lookup"><span data-stu-id="58efa-120">Authentication</span></span>         | <span data-ttu-id="58efa-121">HTTP 401 (Non autorizzato)</span><span class="sxs-lookup"><span data-stu-id="58efa-121">HTTP 401 (Unauthorized)</span></span>      |
| <span data-ttu-id="58efa-122">Risposta lenta</span><span class="sxs-lookup"><span data-stu-id="58efa-122">Slow response</span></span>          | <span data-ttu-id="58efa-123">Timeout della richiesta</span><span class="sxs-lookup"><span data-stu-id="58efa-123">Request times out</span></span>            |

<span data-ttu-id="58efa-124">Per altre informazioni sul processo di FMA, con indicazioni specifiche per Azure, vedere [analisi della modalità di errore](../resiliency/failure-mode-analysis.md).</span><span class="sxs-lookup"><span data-stu-id="58efa-124">For more information about the FMA process, with specific recommendations for Azure, see [Failure mode analysis](../resiliency/failure-mode-analysis.md).</span></span>

## <a name="plan-for-redundancy"></a><span data-ttu-id="58efa-125">Piano per la ridondanza</span><span class="sxs-lookup"><span data-stu-id="58efa-125">Plan for redundancy</span></span>

<span data-ttu-id="58efa-126">Errori di variano nell'ambito dell'impatto.</span><span class="sxs-lookup"><span data-stu-id="58efa-126">Failures vary in scope of impact.</span></span> <span data-ttu-id="58efa-127">Alcuni errori hardware, ad esempio un disco guasto, influiscono su un singolo computer host.</span><span class="sxs-lookup"><span data-stu-id="58efa-127">Some hardware failures, such as a failed disk, affect a single host machine.</span></span> <span data-ttu-id="58efa-128">Un commutatore di rete non riusciti può influire su un rack di intero server.</span><span class="sxs-lookup"><span data-stu-id="58efa-128">A failed network switch could affect an entire server rack.</span></span> <span data-ttu-id="58efa-129">Errori meno comuni, ad esempio interruzione dell'alimentazione, interrompere un intero Data Center.</span><span class="sxs-lookup"><span data-stu-id="58efa-129">Less common failures, such as loss of power, disrupt a whole datacenter.</span></span> <span data-ttu-id="58efa-130">È raro che un'intera area diventi non disponibile.</span><span class="sxs-lookup"><span data-stu-id="58efa-130">Rarely, an entire region becomes unavailable.</span></span>

<span data-ttu-id="58efa-131">La ridondanza è un modo per rendere resiliente un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-131">Redundancy is one way to make an application resilient.</span></span> <span data-ttu-id="58efa-132">Il livello di ridondanza dipende dai requisiti aziendali &mdash; non tutte le applicazioni richiedono la ridondanza tra aree per proteggersi da un'interruzione di area.</span><span class="sxs-lookup"><span data-stu-id="58efa-132">The level of redundancy depends on your business requirements &mdash; not every application needs redundancy across regions to guard against a regional outage.</span></span> <span data-ttu-id="58efa-133">In generale, è un compromesso tra incremento della ridondanza e affidabilità e versioni successive i costi e complessità.</span><span class="sxs-lookup"><span data-stu-id="58efa-133">In general, there's a tradeoff between greater redundancy and reliability versus higher costs and complexity.</span></span>

### <a name="review-azure-redundancy-features"></a><span data-ttu-id="58efa-134">Esaminare le funzionalità di ridondanza di Azure</span><span class="sxs-lookup"><span data-stu-id="58efa-134">Review Azure redundancy features</span></span>

<span data-ttu-id="58efa-135">Azure offre numerose funzionalità di ridondanza a ogni livello di errore, da una singola macchina virtuale (VM) di un'intera area.</span><span class="sxs-lookup"><span data-stu-id="58efa-135">Azure has a number of redundancy features at every level of failure, from an individual virtual machine (VM) to an entire region.</span></span>

- <span data-ttu-id="58efa-136">**Single VM** hanno un' [tempo di attività contratto di servizio (SLA)](https://azure.microsoft.com/support/legal/sla/virtual-machines) fornita da Azure.</span><span class="sxs-lookup"><span data-stu-id="58efa-136">**Single VMs** have an [uptime service level agreement (SLA)](https://azure.microsoft.com/support/legal/sla/virtual-machines) provided by Azure.</span></span> <span data-ttu-id="58efa-137">(La macchina virtuale deve usare archiviazione premium per tutti i dischi del sistema operativo e dischi dati). Anche se è possibile ottenere un contratto di servizio di livello superiore eseguendo due o più macchine virtuali, è possibile che una singola macchina virtuale sia già abbastanza affidabile per alcuni carichi di lavoro.</span><span class="sxs-lookup"><span data-stu-id="58efa-137">(The VM must use premium storage for all operating system disks and data disks.) Although you can get a higher SLA by running two or more VMs, a single VM may be reliable enough for some workloads.</span></span> <span data-ttu-id="58efa-138">Per i carichi di lavoro di produzione è tuttavia consigliabile usare due o più macchine virtuali per garantire la ridondanza.</span><span class="sxs-lookup"><span data-stu-id="58efa-138">For production workloads, however, we recommend using two or more VMs for redundancy.</span></span>
- <span data-ttu-id="58efa-139">**Set di disponibilità** proteggerti da errori hardware localizzati, ad esempio un disco o errori di commutatore di rete.</span><span class="sxs-lookup"><span data-stu-id="58efa-139">**Availability sets** protect against localized hardware failures, such as a disk or network switch failing.</span></span> <span data-ttu-id="58efa-140">Le macchine virtuali in un set di disponibilità vengono distribuite tra un massimo di tre *domini di errore*.</span><span class="sxs-lookup"><span data-stu-id="58efa-140">VMs in an availability set are distributed across up to three *fault domains*.</span></span> <span data-ttu-id="58efa-141">Domini di errore definisce un gruppo di macchine virtuali che condividono un comune power e commutatori di rete.</span><span class="sxs-lookup"><span data-stu-id="58efa-141">A fault domains defines a group of VMs that share a common power source and network switch.</span></span> <span data-ttu-id="58efa-142">Se un errore hardware influisce su un dominio di errore, viene indirizzato il traffico di rete alle macchine virtuali in altri domini di errore.</span><span class="sxs-lookup"><span data-stu-id="58efa-142">If a hardware failure affects one fault domain, network traffic is routed to VMs in the other fault domains.</span></span> <span data-ttu-id="58efa-143">Per altre informazioni sui set di disponibilità, vedere [gestire la disponibilità delle macchine virtuali Windows in Azure](/azure/virtual-machines/windows/manage-availability).</span><span class="sxs-lookup"><span data-stu-id="58efa-143">For more information about availability sets, see [Manage the availability of Windows virtual machines in Azure](/azure/virtual-machines/windows/manage-availability).</span></span>
- <span data-ttu-id="58efa-144">**Le zone di disponibilità** sono aree fisicamente separate all'interno di un'area di Azure.</span><span class="sxs-lookup"><span data-stu-id="58efa-144">**Availability Zones** are physically separate zones within an Azure region.</span></span> <span data-ttu-id="58efa-145">Ogni zona di disponibilità può contare su risorse di alimentazione, rete e raffreddamento a sé.</span><span class="sxs-lookup"><span data-stu-id="58efa-145">Each Availability Zone has a distinct power source, network, and cooling.</span></span> <span data-ttu-id="58efa-146">Distribuzione di macchine virtuali tra zone di disponibilità consente di proteggere un'applicazione in caso di errori a livello di Data Center.</span><span class="sxs-lookup"><span data-stu-id="58efa-146">Deploying VMs across Availability Zones helps to protect an application against datacenter-wide failures.</span></span> <span data-ttu-id="58efa-147">Le zone di disponibilità non sono supportate in tutte le aree.</span><span class="sxs-lookup"><span data-stu-id="58efa-147">Not all regions support Availability Zones.</span></span> <span data-ttu-id="58efa-148">Per un elenco delle aree e dei servizi supportati, vedere [Informazioni sulle zone di disponibilità di Azure](/azure/availability-zones/az-overview).</span><span class="sxs-lookup"><span data-stu-id="58efa-148">For a list of supported regions and services, see [What are Availability Zones in Azure?](/azure/availability-zones/az-overview).</span></span>

    <span data-ttu-id="58efa-149">Se si prevede di usare le zone di disponibilità nella distribuzione, per prima cosa verificare che l'architettura dell'applicazione e la codebase supporta questa configurazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-149">If you plan to use Availability Zones in your deployment, first validate that your application architecture and codebase support this configuration.</span></span> <span data-ttu-id="58efa-150">Se si distribuisce il software commerciale, consultare il fornitore di software e testare in modo adeguato prima della distribuzione nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="58efa-150">If you deploy commercial software, consult with the software vendor and test adequately before deploying into production.</span></span> <span data-ttu-id="58efa-151">Un'applicazione deve mantenere lo stato e impedire la perdita di dati durante un'interruzione all'interno della zona configurata.</span><span class="sxs-lookup"><span data-stu-id="58efa-151">An application must maintain state and prevent loss of data during an outage within the configured zone.</span></span> <span data-ttu-id="58efa-152">L'applicazione deve supportare in esecuzione in un'infrastruttura flessibile e distribuita senza componenti di infrastruttura a livello di codice.</span><span class="sxs-lookup"><span data-stu-id="58efa-152">The application must support running in an elastic and distributed infrastructure with no hard-coded infrastructure components.</span></span>
- <span data-ttu-id="58efa-153">**Azure Site Recovery** necessita di macchine virtuali di Azure in un'altra area di Azure per la continuità aziendale (BC) e il ripristino di emergenza (DR) di replica.</span><span class="sxs-lookup"><span data-stu-id="58efa-153">**Azure Site Recovery** replicates Azure Virtual Machines to another Azure region for business continuity (BC) and disaster recovery (DR) needs.</span></span> <span data-ttu-id="58efa-154">È possibile condurre esercitazioni periodiche per assicurare che siano soddisfatti i requisiti di conformità.</span><span class="sxs-lookup"><span data-stu-id="58efa-154">You can conduct periodic DR drills to ensure that you meet the compliance needs.</span></span> <span data-ttu-id="58efa-155">La macchina virtuale viene replicata con le impostazioni specificate nell'area selezionata in modo che è possibile ripristinare le applicazioni in caso di interruzioni nell'area di origine.</span><span class="sxs-lookup"><span data-stu-id="58efa-155">The VM is replicated with the specified settings to the selected region so you can recover your applications in the event of outages in the source region.</span></span> <span data-ttu-id="58efa-156">Per altre informazioni, vedere [configurare il ripristino di emergenza in un'area di Azure secondaria per una macchina virtuale di Azure](/azure/site-recovery/azure-to-azure-quickstart/).</span><span class="sxs-lookup"><span data-stu-id="58efa-156">For more information, see [Set up disaster recovery to a secondary Azure region for an Azure VM](/azure/site-recovery/azure-to-azure-quickstart/).</span></span>

    <span data-ttu-id="58efa-157">Durante il test, verificare che il *obiettivo tempo di ripristino* (RTO) e *obiettivo del punto di ripristino* (RPO) soddisfa le proprie esigenze.</span><span class="sxs-lookup"><span data-stu-id="58efa-157">During testing, verify that the *recovery time objective* (RTO) and *recovery point objective* (RPO) meet your needs.</span></span> <span data-ttu-id="58efa-158">RTO è il tempo massimo di che un'applicazione non è disponibile dopo un evento imprevisto e RPO è la durata massima di perdita dei dati durante un'emergenza.</span><span class="sxs-lookup"><span data-stu-id="58efa-158">RTO is the maximum time an application is unavailable after an incident, and RPO is the maximum duration of data loss during a disaster.</span></span>
- <span data-ttu-id="58efa-159">**Aree abbinate** vengono create usando Gestione traffico di Azure per distribuire il traffico Internet in aree diverse, la protezione di un'applicazione da un'interruzione di area.</span><span class="sxs-lookup"><span data-stu-id="58efa-159">**Paired regions** are created using Azure Traffic Manager to distribute Internet traffic to different regions, protecting an application against a regional outage.</span></span> <span data-ttu-id="58efa-160">Ogni area di Azure è associata a un'altra area</span><span class="sxs-lookup"><span data-stu-id="58efa-160">Each Azure region is paired with another region.</span></span> <span data-ttu-id="58efa-161">Insieme, queste aree formano un [ *coppia di aree*](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="58efa-161">Together, these regions form a [*regional pair*](/azure/best-practices-availability-paired-regions).</span></span> <span data-ttu-id="58efa-162">Per soddisfare i requisiti di residenza dei dati per finalità fiscali e adempimenti, le coppie di aree si trovano all'interno della stessa area geografica (ad eccezione del Brasile meridionale).</span><span class="sxs-lookup"><span data-stu-id="58efa-162">To meet data residency requirements for tax and law enforcement jurisdiction purposes, regional pairs are located within the same geography (with the exception of Brazil South).</span></span>

    <span data-ttu-id="58efa-163">Per migliorare la resilienza dell'applicazione, Azure serializza gli aggiornamenti della piattaforma (manutenzione pianificata) tra ogni coppia di aree, in modo che solo una area abbinata viene aggiornata alla volta.</span><span class="sxs-lookup"><span data-stu-id="58efa-163">To improve application resiliency, Azure serializes platform updates (planned maintenance) across each region pair, so only one paired region is updated at a time.</span></span>
- <span data-ttu-id="58efa-164">Quando si progetta un'applicazione multiarea, tenere presente che la latenza di rete tra le aree è superiore all'interno di un'area.</span><span class="sxs-lookup"><span data-stu-id="58efa-164">When you design a multiregion application, take into account that network latency across regions is higher than within a region.</span></span> <span data-ttu-id="58efa-165">Ad esempio, se si replica un database per abilitare il failover, usare la replica di dati sincrona all'interno di un'area, ma la replica asincrona dei dati tra aree.</span><span class="sxs-lookup"><span data-stu-id="58efa-165">For example, if you replicate a database to enable failover, use synchronous data replication within a region but asynchronous data replication across regions.</span></span>

<span data-ttu-id="58efa-166">Nella tabella seguente confronta i fattori di ridondanza tra diverse strategie di resilienza:</span><span class="sxs-lookup"><span data-stu-id="58efa-166">The following table compares the redundancy factors across several resiliency strategies:</span></span>

| &nbsp; | <span data-ttu-id="58efa-167">Set di disponibilità</span><span class="sxs-lookup"><span data-stu-id="58efa-167">Availability set</span></span> | <span data-ttu-id="58efa-168">Zona di disponibilità</span><span class="sxs-lookup"><span data-stu-id="58efa-168">Availability Zone</span></span> | <span data-ttu-id="58efa-169">Azure Site Recovery/Area associata</span><span class="sxs-lookup"><span data-stu-id="58efa-169">Azure Site Recovery/Paired region</span></span> |
|--------|------------------|-------------------|-----------------------------------|
| <span data-ttu-id="58efa-170">Ambito dell'errore</span><span class="sxs-lookup"><span data-stu-id="58efa-170">Scope of failure</span></span> | <span data-ttu-id="58efa-171">Rack</span><span class="sxs-lookup"><span data-stu-id="58efa-171">Rack</span></span>                  | <span data-ttu-id="58efa-172">Data center</span><span class="sxs-lookup"><span data-stu-id="58efa-172">Datacenter</span></span>               | <span data-ttu-id="58efa-173">Region</span><span class="sxs-lookup"><span data-stu-id="58efa-173">Region</span></span>                               |
| <span data-ttu-id="58efa-174">Routing delle richieste</span><span class="sxs-lookup"><span data-stu-id="58efa-174">Request routing</span></span>  | <span data-ttu-id="58efa-175">Azure Load Balancer</span><span class="sxs-lookup"><span data-stu-id="58efa-175">Azure Load Balancer</span></span>   | <span data-ttu-id="58efa-176">Bilanciamento del carico tra zone</span><span class="sxs-lookup"><span data-stu-id="58efa-176">Cross-zone Load Balancer</span></span> | <span data-ttu-id="58efa-177">Gestione traffico di Azure</span><span class="sxs-lookup"><span data-stu-id="58efa-177">Azure Traffic Manager</span></span>                |
| <span data-ttu-id="58efa-178">Latenza di rete</span><span class="sxs-lookup"><span data-stu-id="58efa-178">Network latency</span></span>  | <span data-ttu-id="58efa-179">Molto bassa</span><span class="sxs-lookup"><span data-stu-id="58efa-179">Very low</span></span>              | <span data-ttu-id="58efa-180">Basso</span><span class="sxs-lookup"><span data-stu-id="58efa-180">Low</span></span>                      | <span data-ttu-id="58efa-181">Medio-alta</span><span class="sxs-lookup"><span data-stu-id="58efa-181">Mid to high</span></span>                          |
| <span data-ttu-id="58efa-182">Rete virtuale</span><span class="sxs-lookup"><span data-stu-id="58efa-182">Virtual network</span></span>  | <span data-ttu-id="58efa-183">Rete virtuale di Azure</span><span class="sxs-lookup"><span data-stu-id="58efa-183">Azure Virtual Network</span></span> | <span data-ttu-id="58efa-184">Rete virtuale di Azure</span><span class="sxs-lookup"><span data-stu-id="58efa-184">Azure Virtual Network</span></span>          | <span data-ttu-id="58efa-185">Peering reti virtuali tra aree</span><span class="sxs-lookup"><span data-stu-id="58efa-185">Cross-region Virtual Network peering</span></span> |

### <a name="complete-azure-redundancy-tasks"></a><span data-ttu-id="58efa-186">Attività di ridondanza di Azure completo</span><span class="sxs-lookup"><span data-stu-id="58efa-186">Complete Azure redundancy tasks</span></span>

<span data-ttu-id="58efa-187">Usare le attività seguenti per soddisfare i requisiti di ridondanza:</span><span class="sxs-lookup"><span data-stu-id="58efa-187">Use the following tasks to meet redundancy requirements:</span></span>

- <span data-ttu-id="58efa-188">**Distribuire più istanze di servizi.**</span><span class="sxs-lookup"><span data-stu-id="58efa-188">**Deploy multiple instances of services.**</span></span> <span data-ttu-id="58efa-189">Se l'applicazione dipende da una singola istanza di un servizio, crea un singolo punto di errore.</span><span class="sxs-lookup"><span data-stu-id="58efa-189">If your application depends on a single instance of a service, it creates a single point of failure.</span></span> <span data-ttu-id="58efa-190">Il provisioning di più istanze migliora sia la resilienza che la scalabilità.</span><span class="sxs-lookup"><span data-stu-id="58efa-190">Provisioning multiple instances improves both resiliency and scalability.</span></span> <span data-ttu-id="58efa-191">Per [Servizio app di Azure](/azure/app-service/app-service-value-prop-what-is/) selezionare un [piano di servizio app](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) che offra più istanze.</span><span class="sxs-lookup"><span data-stu-id="58efa-191">For [Azure App Service](/azure/app-service/app-service-value-prop-what-is/), select an [App Service plan](/azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview/) that offers multiple instances.</span></span> <span data-ttu-id="58efa-192">Per la [macchine virtuali di Azure](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), verificare che l'architettura abbia più di una macchina virtuale e che ogni macchina virtuale sia inclusa un [set di disponibilità](/azure/virtual-machines/virtual-machines-windows-manage-availability/).</span><span class="sxs-lookup"><span data-stu-id="58efa-192">For [Azure Virtual Machines](/azure/virtual-machines/virtual-machines-windows-about/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json), ensure that your architecture has more than one VM and that each VM is included in an [availability set](/azure/virtual-machines/virtual-machines-windows-manage-availability/).</span></span>

- <span data-ttu-id="58efa-193">**Replicare le macchine virtuali con Azure Site Recovery.**</span><span class="sxs-lookup"><span data-stu-id="58efa-193">**Replicate VMs using Azure Site Recovery.**</span></span> <span data-ttu-id="58efa-194">Quando si esegue la replica di macchine virtuali di Azure usando [Site Recovery](/azure/site-recovery/), tutti i dischi delle macchine Virtuali vengono replicati in modo continuo all'area di destinazione in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="58efa-194">When you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="58efa-195">I punti di ripristino vengono creati ogni pochi minuti, fornendo un valore RPO nell'ordine di minuti.</span><span class="sxs-lookup"><span data-stu-id="58efa-195">The recovery points are created every few minutes, giving an RPO on the order of minutes.</span></span>

- <span data-ttu-id="58efa-196">**Considerare di distribuire l'applicazione tra più aree.**</span><span class="sxs-lookup"><span data-stu-id="58efa-196">**Consider deploying your application across multiple regions.**</span></span> <span data-ttu-id="58efa-197">Se l'applicazione viene distribuita in una singola area e l'area non è più disponibile, l'applicazione sarà inoltre disponibile.</span><span class="sxs-lookup"><span data-stu-id="58efa-197">If your application is deployed to a single region, and the region becomes unavailable, your application will also be unavailable.</span></span> <span data-ttu-id="58efa-198">Questa circostanza potrebbe essere inaccettabile in base alle condizioni del contratto di servizio dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-198">This may be unacceptable under the terms of your application's SLA.</span></span> <span data-ttu-id="58efa-199">In questo caso, occorre considerare la possibilità di distribuire l'applicazione e i relativi servizi tra più aree.</span><span class="sxs-lookup"><span data-stu-id="58efa-199">If so, consider deploying your application and its services across multiple regions.</span></span> <span data-ttu-id="58efa-200">Può usare una distribuzione multiarea un' *attivo-attivo* oppure *attivo-passivo* configurazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-200">A multiregion deployment can use an *active-active* or *active-passive* configuration.</span></span> <span data-ttu-id="58efa-201">Una configurazione attiva-attiva distribuisce le richieste tra più aree attive.</span><span class="sxs-lookup"><span data-stu-id="58efa-201">An active-active configuration distributes requests across multiple active regions.</span></span> <span data-ttu-id="58efa-202">Una configurazione attiva-passiva mantiene le istanze a caldo nell'area secondaria, ma non invia il traffico non esiste, a meno che l'area primaria non riesce.</span><span class="sxs-lookup"><span data-stu-id="58efa-202">An active-passive configuration keeps warm instances in the secondary region, but doesn't send traffic there unless the primary region fails.</span></span> <span data-ttu-id="58efa-203">Per le distribuzioni multiarea, è consigliabile distribuire le aree abbinate, descritto in precedenza.</span><span class="sxs-lookup"><span data-stu-id="58efa-203">For multiregion deployments, we recommend deploying to paired regions, described above.</span></span> <span data-ttu-id="58efa-204">Per altre informazioni, vedere [Continuità aziendale e ripristino di emergenza (BCDR): aree geografiche abbinate di Azure](/azure/best-practices-availability-paired-regions).</span><span class="sxs-lookup"><span data-stu-id="58efa-204">For more information, see [Business continuity and disaster recovery (BCDR): Azure Paired Regions](/azure/best-practices-availability-paired-regions).</span></span>

- <span data-ttu-id="58efa-205">**Usare Gestione traffico di Microsoft Azure per eseguire il routing del traffico dell'applicazione in aree diverse.**</span><span class="sxs-lookup"><span data-stu-id="58efa-205">**Use Azure Traffic Manager to route your application's traffic to different regions.**</span></span> <span data-ttu-id="58efa-206">[Gestione traffico di Azure](/azure/traffic-manager/traffic-manager-overview/) esegue il bilanciamento del carico a livello di DNS e indirizza il traffico alle diverse aree di base di [routing del traffico](/azure/traffic-manager/traffic-manager-routing-methods/) (metodo) e l'integrità degli endpoint dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-206">[Azure Traffic Manager](/azure/traffic-manager/traffic-manager-overview/) performs load-balancing at the DNS level and routes traffic to different regions based on the [traffic routing](/azure/traffic-manager/traffic-manager-routing-methods/) method and the health of your application's endpoints.</span></span> <span data-ttu-id="58efa-207">Senza gestione traffico, si è limitati a una singola area per la distribuzione, che vincola la scala, aumenta la latenza per alcuni utenti e fa sì che i tempi di inattività dell'applicazione, nel caso di un'interruzione del servizio a livello di area.</span><span class="sxs-lookup"><span data-stu-id="58efa-207">Without Traffic Manager, you are limited to a single region for your deployment, which constrains scale, increases latency for some users, and causes application downtime, in the case of a region-wide service disruption.</span></span>

- <span data-ttu-id="58efa-208">**Configurare il Gateway applicazione di Azure per usare più istanze.**</span><span class="sxs-lookup"><span data-stu-id="58efa-208">**Configure Azure Application Gateway to use multiple instances.**</span></span> <span data-ttu-id="58efa-209">A seconda dei requisiti dell'applicazione, un [gateway applicazione di Azure](/azure/application-gateway/application-gateway-introduction/) potrebbe essere più adatto per distribuire le richieste ai servizi dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-209">Depending on your application's requirements, an [Azure Application Gateway](/azure/application-gateway/application-gateway-introduction/) may be better suited to distributing requests to your application's services.</span></span> <span data-ttu-id="58efa-210">Tuttavia, singole istanze del servizio Gateway applicazione non è garantite da un contratto di servizio, pertanto è possibile che l'applicazione potrebbe non riuscire se l'istanza del Gateway applicazione non riesce.</span><span class="sxs-lookup"><span data-stu-id="58efa-210">However, single instances of the Application Gateway service are not guaranteed by an SLA, so it's possible that your application could fail if the Application Gateway instance fails.</span></span> <span data-ttu-id="58efa-211">Effettuare il provisioning di più di un'istanza di medie o grandi dimensioni per garantire la disponibilità del servizio sotto le condizioni per il [contratto di servizio Gateway applicazione](https://azure.microsoft.com/support/legal/sla/application-gateway/).</span><span class="sxs-lookup"><span data-stu-id="58efa-211">Provision more than one medium or larger instance to guarantee availability of the service under the terms of the [Application Gateway SLA](https://azure.microsoft.com/support/legal/sla/application-gateway/).</span></span>

## <a name="design-for-scalability"></a><span data-ttu-id="58efa-212">Progettazione per la scalabilità</span><span class="sxs-lookup"><span data-stu-id="58efa-212">Design for scalability</span></span>

<span data-ttu-id="58efa-213">*Scalabilità* è la capacità di un sistema di gestire un incremento del carico ed è uno dei [concetti fondamentali della qualità del software](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="58efa-213">*Scalability* is the ability of a system to handle increased load and is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="58efa-214">Le operazioni di scalabilità durante la fase di progettazione includono:</span><span class="sxs-lookup"><span data-stu-id="58efa-214">Scalability tasks during the architecting phase include:</span></span>

- <span data-ttu-id="58efa-215">**Carichi di lavoro di partizione.**</span><span class="sxs-lookup"><span data-stu-id="58efa-215">**Partition workloads.**</span></span> <span data-ttu-id="58efa-216">Progettare le diverse parti del processo in modo che siano discrete e scomponibili.</span><span class="sxs-lookup"><span data-stu-id="58efa-216">Design parts of the process to be discrete and decomposable.</span></span> <span data-ttu-id="58efa-217">Ridurre al minimo le dimensioni di ogni parte.</span><span class="sxs-lookup"><span data-stu-id="58efa-217">Minimize the size of each part.</span></span> <span data-ttu-id="58efa-218">In questo modo le parti di componenti da distribuire in modo da Ottimizza l'uso di ogni unità di calcolo.</span><span class="sxs-lookup"><span data-stu-id="58efa-218">This allows the component parts to be distributed in a way that maximizes use of each compute unit.</span></span> <span data-ttu-id="58efa-219">Facilita anche la scalabilità dell'applicazione con l'aggiunta di altre istanze di risorse specifiche.</span><span class="sxs-lookup"><span data-stu-id="58efa-219">It also makes it easier to scale the application by adding instances of specific resources.</span></span> <span data-ttu-id="58efa-220">Per domini complessi, valutare la possibilità di adottare un'[architettura di microservizi](../guide/architecture-styles/microservices.md).</span><span class="sxs-lookup"><span data-stu-id="58efa-220">For complex domains, consider adopting a [microservices architecture](../guide/architecture-styles/microservices.md).</span></span>
- <span data-ttu-id="58efa-221">**Progettare per la scalabilità.**</span><span class="sxs-lookup"><span data-stu-id="58efa-221">**Design for scaling.**</span></span> <span data-ttu-id="58efa-222">La scalabilità consente alle applicazioni di reagire a un carico variabile aumentando e riducendo il numero di istanze di ruoli, le code e gli altri servizi.</span><span class="sxs-lookup"><span data-stu-id="58efa-222">Scaling allows applications to react to variable load by increasing and decreasing the number of instances of roles, queues, and other services.</span></span> <span data-ttu-id="58efa-223">L'applicazione deve tuttavia essere progettata tenendo presente tale necessità.</span><span class="sxs-lookup"><span data-stu-id="58efa-223">However, the application must be designed with this in mind.</span></span> <span data-ttu-id="58efa-224">Ad esempio, l'applicazione e i servizi che usa devono essere senza stati per consentire le richieste a essere indirizzate a qualsiasi istanza.</span><span class="sxs-lookup"><span data-stu-id="58efa-224">For example, the application and the services it uses must be stateless to allow requests to be routed to any instance.</span></span> <span data-ttu-id="58efa-225">Con i servizi senza stato significa anche che l'aggiunta o rimozione di un'istanza non influire negativamente sugli utenti correnti.</span><span class="sxs-lookup"><span data-stu-id="58efa-225">Having stateless services also means that adding or removing an instance does not adversely impact current users.</span></span>
- <span data-ttu-id="58efa-226">**Pianificare la crescita con unità di scala.**</span><span class="sxs-lookup"><span data-stu-id="58efa-226">**Plan for growth with scale units.**</span></span> <span data-ttu-id="58efa-227">Per ogni risorsa, conoscere i limiti massimi di scalabilità e usare partizionamento orizzontale o la scomposizione per superare tali limiti.</span><span class="sxs-lookup"><span data-stu-id="58efa-227">For each resource, know the upper scaling limits, and use sharding or decomposition to go beyond those limits.</span></span> <span data-ttu-id="58efa-228">Progettare l'applicazione in modo che possa essere ridimensionata facilmente aggiungendo una o più unità di scala.</span><span class="sxs-lookup"><span data-stu-id="58efa-228">Design the application so that it's easily scaled by adding one or more scale units.</span></span> <span data-ttu-id="58efa-229">Determinare le unità di scala per il sistema in termini di set di risorse ben definiti.</span><span class="sxs-lookup"><span data-stu-id="58efa-229">Determine the scale units for the system in terms of well-defined sets of resources.</span></span> <span data-ttu-id="58efa-230">In questo modo applicare operazioni di scalabilità semplice e meno soggetto a impatto negativo causato da mancanza di risorse in una parte dell'intero sistema.</span><span class="sxs-lookup"><span data-stu-id="58efa-230">This makes applying scale-out operations easier and less prone to negative impact caused by a lack of resources in some part of the overall system.</span></span> <span data-ttu-id="58efa-231">Ad esempio, aggiungendo *X* numero di macchine virtuali front-end potrebbe richiedere *Y* numero di code aggiuntive e *Z* numero di account di archiviazione per gestire il carico di lavoro aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="58efa-231">For example, adding *X* number of front-end VMs might require *Y* number of additional queues and *Z* number of storage accounts to handle the additional workload.</span></span> <span data-ttu-id="58efa-232">In modo che un'unità di scala può essere costituito *X* istanze di macchine Virtuali *Y* code, e *Z* gli account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-232">So a scale unit could consist of *X* VM instances, *Y* queues, and *Z* storage accounts.</span></span>
- <span data-ttu-id="58efa-233">**Evitare l'affinità del client.**</span><span class="sxs-lookup"><span data-stu-id="58efa-233">**Avoid client affinity.**</span></span> <span data-ttu-id="58efa-234">Dove possibile, assicurarsi che l'applicazione non richieda affinity.</span><span class="sxs-lookup"><span data-stu-id="58efa-234">Where possible, ensure that the application doesn't require affinity.</span></span> <span data-ttu-id="58efa-235">Le richieste possono quindi essere indirizzate a qualsiasi istanza e il numero di istanze è irrilevante.</span><span class="sxs-lookup"><span data-stu-id="58efa-235">Requests can then be routed to any instance, and the number of instances is irrelevant.</span></span> <span data-ttu-id="58efa-236">Questo inoltre evita il sovraccarico dovuto all'archiviazione, al recupero e alla gestione delle informazioni sullo stato per ogni utente.</span><span class="sxs-lookup"><span data-stu-id="58efa-236">This also avoids the overhead of storing, retrieving, and maintaining state information for each user.</span></span>
- <span data-ttu-id="58efa-237">**È possibile sfruttare le funzionalità di scalabilità automatica della piattaforma.**</span><span class="sxs-lookup"><span data-stu-id="58efa-237">**Take advantage of platform autoscaling features.**</span></span> <span data-ttu-id="58efa-238">Usare le funzionalità di scalabilità automatica predefinite quando possibile, piuttosto che meccanismi personalizzati o di terze parti.</span><span class="sxs-lookup"><span data-stu-id="58efa-238">Use built-in autoscaling features when possible, rather than custom or third-party mechanisms.</span></span> <span data-ttu-id="58efa-239">Regole di scalabilità Usa pianificata, laddove possibile, per garantire che le risorse sono disponibili senza un ritardo di avvio, ma aggiungere la scalabilità automatica reattiva alle regole, ove appropriato, per gestire variazioni impreviste della domanda.</span><span class="sxs-lookup"><span data-stu-id="58efa-239">Use scheduled scaling rules, where possible, to ensure that resources are available without a startup delay, but add reactive autoscaling to the rules, where appropriate, to cope with unexpected changes in demand.</span></span> <span data-ttu-id="58efa-240">Per altre informazioni, vedere [indicazioni sulla scalabilità automatica](../best-practices/auto-scaling.md).</span><span class="sxs-lookup"><span data-stu-id="58efa-240">For more information, see [Autoscaling guidance](../best-practices/auto-scaling.md).</span></span>  

  <span data-ttu-id="58efa-241">Se l'applicazione non è configurato per scalabilità orizzontale automatica man mano che aumenta di carico, è possibile che i servizi dell'applicazione avrà esito negativo se vengono saturati dalle richieste degli utenti.</span><span class="sxs-lookup"><span data-stu-id="58efa-241">If your application isn't configured to scale out automatically as load increases, it's possible that your application's services will fail if they become saturated with user requests.</span></span> <span data-ttu-id="58efa-242">Per altre informazioni, vedere gli articoli seguenti:</span><span class="sxs-lookup"><span data-stu-id="58efa-242">For more information, see the following articles:</span></span>

  - <span data-ttu-id="58efa-243">Generale: [Elenco di controllo per la scalabilità](../checklist/scalability.md)</span><span class="sxs-lookup"><span data-stu-id="58efa-243">General: [Scalability checklist](../checklist/scalability.md)</span></span>
  - <span data-ttu-id="58efa-244">Servizio app di Azure: [Scalare il conteggio delle istanze manualmente o automaticamente](/azure/monitoring-and-diagnostics/insights-how-to-scale/)</span><span class="sxs-lookup"><span data-stu-id="58efa-244">Azure App Service: [Scale instance count manually or automatically](/azure/monitoring-and-diagnostics/insights-how-to-scale/)</span></span>
  - <span data-ttu-id="58efa-245">Servizi cloud: [Come ridimensionare automaticamente un servizio Cloud](/azure/cloud-services/cloud-services-how-to-scale/)</span><span class="sxs-lookup"><span data-stu-id="58efa-245">Cloud Services: [How to autoscale a Cloud Service](/azure/cloud-services/cloud-services-how-to-scale/)</span></span>
  - <span data-ttu-id="58efa-246">Macchine virtuali: [Set di scalabilità di ridimensionamento automatico e macchina virtuale](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/)</span><span class="sxs-lookup"><span data-stu-id="58efa-246">Virtual machines: [Automatic scaling and virtual machine scale sets](/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview/)</span></span>

- <span data-ttu-id="58efa-247">**Eseguire l'offload di attività a elevato utilizzo di CPU/IO come attività in background.**</span><span class="sxs-lookup"><span data-stu-id="58efa-247">**Offload intensive CPU/IO tasks as background tasks.**</span></span> <span data-ttu-id="58efa-248">Se una richiesta a un servizio dovrebbe richiedere un certo periodo di tempo o potrebbe assorbire una quantità notevole di risorse, l'offload dell'elaborazione a un'attività separata.</span><span class="sxs-lookup"><span data-stu-id="58efa-248">If a request to a service is expected to take a long time to run or may absorb considerable resources, offload the processing to a separate task.</span></span> <span data-ttu-id="58efa-249">Usare i processi in background per eseguire queste attività.</span><span class="sxs-lookup"><span data-stu-id="58efa-249">Use background jobs to execute these tasks.</span></span> <span data-ttu-id="58efa-250">Questa strategia consente al servizio per continuare a ricevere altre richieste e di rimanere attivo.</span><span class="sxs-lookup"><span data-stu-id="58efa-250">This strategy enables the service to continue receiving further requests and to remain responsive.</span></span> <span data-ttu-id="58efa-251">Per altre informazioni, vedere le [indicazioni sui processi in background](../best-practices/background-jobs.md).</span><span class="sxs-lookup"><span data-stu-id="58efa-251">For more information, see [Background jobs guidance](../best-practices/background-jobs.md).</span></span>
- <span data-ttu-id="58efa-252">**Distribuire il carico di lavoro per le attività in background.**</span><span class="sxs-lookup"><span data-stu-id="58efa-252">**Distribute the workload for background tasks.**</span></span> <span data-ttu-id="58efa-253">Se sono presenti numerose attività in background o se le attività richiedono molto tempo o risorse, suddividere il lavoro tra più unità di calcolo.</span><span class="sxs-lookup"><span data-stu-id="58efa-253">If there are many background tasks or if the tasks require considerable time or resources, spread the work across multiple compute units.</span></span> <span data-ttu-id="58efa-254">Per una possibile soluzione, vedere l’articolo relativo al [modello di consumer concorrenti](../patterns/competing-consumers.md).</span><span class="sxs-lookup"><span data-stu-id="58efa-254">For one possible solution, see the [Competing Consumers pattern](../patterns/competing-consumers.md).</span></span>
- <span data-ttu-id="58efa-255">**Prendere in considerazione lo spostamento verso un *"shared-nothing"* architettura.**</span><span class="sxs-lookup"><span data-stu-id="58efa-255">**Consider moving toward a *shared-nothing* architecture.**</span></span> <span data-ttu-id="58efa-256">Questa architettura Usa nodi indipendenti e autosufficienti che non dispone di alcun singolo punto di contesa (ad esempio archiviazione o servizi condivisi).</span><span class="sxs-lookup"><span data-stu-id="58efa-256">This architecture uses independent, self-sufficient nodes that have no single point of contention (such as shared services or storage).</span></span> <span data-ttu-id="58efa-257">In teoria un sistema di questo tipo può essere scalato quasi all'infinito.</span><span class="sxs-lookup"><span data-stu-id="58efa-257">In theory, such a system can scale almost indefinitely.</span></span> <span data-ttu-id="58efa-258">Sebbene in genere un approccio completamente "shared-nothing" non è pratico, può offrire opportunità per progettare una migliore scalabilità.</span><span class="sxs-lookup"><span data-stu-id="58efa-258">Although a fully shared-nothing approach is usually not practical, it may provide opportunities to design for better scalability.</span></span> <span data-ttu-id="58efa-259">Buona lo spostamento verso un'architettura "shared-nothing" esempi di partizionamento dei dati ed evitare l'utilizzo di affinità di sessione sul lato server lo stato e il client.</span><span class="sxs-lookup"><span data-stu-id="58efa-259">Good examples of moving toward a shared-nothing architecture include partitioning data and avoiding the use of server-side session state and client affinity.</span></span>
- <span data-ttu-id="58efa-260">**Progettare i requisiti di archiviazione dell'applicazione da rientrare negli obiettivi di scalabilità e prestazioni di archiviazione di Azure.**</span><span class="sxs-lookup"><span data-stu-id="58efa-260">**Design your application's storage requirements to fall within Azure Storage scalability and performance targets.**</span></span> <span data-ttu-id="58efa-261">Archiviazione di Azure è progettato per funzionare entro obiettivi di scalabilità e prestazioni predefiniti, quindi progettare l'applicazione per usare l'archiviazione entro tali obiettivi.</span><span class="sxs-lookup"><span data-stu-id="58efa-261">Azure Storage is designed to function within predefined scalability and performance targets, so design your application to use storage within those targets.</span></span> <span data-ttu-id="58efa-262">Se si superano questi obiettivi, l'applicazione verifichi la limitazione delle richieste di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-262">If you exceed these targets, your application will experience storage throttling.</span></span> <span data-ttu-id="58efa-263">Per evitare la limitazione delle richieste, il provisioning degli account di archiviazione aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="58efa-263">To avoid throttling, provision additional storage accounts.</span></span> <span data-ttu-id="58efa-264">Se si esegue vantaggi il limite di account di archiviazione, eseguire il provisioning di altre sottoscrizioni di Azure e quindi eseguire il provisioning di account di archiviazione aggiuntivi.</span><span class="sxs-lookup"><span data-stu-id="58efa-264">If you run up against the storage account limit, provision additional Azure subscriptions and then provision additional storage accounts there.</span></span> <span data-ttu-id="58efa-265">Per altre informazioni, vedere [Obiettivi di scalabilità e prestazioni per Archiviazione di Azure](/azure/storage/storage-scalability-targets/).</span><span class="sxs-lookup"><span data-stu-id="58efa-265">For more information, see [Azure Storage scalability and performance targets](/azure/storage/storage-scalability-targets/).</span></span>
- <span data-ttu-id="58efa-266">**Selezionare le dimensioni della VM corrette per l'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="58efa-266">**Select the right VM size for your application.**</span></span> <span data-ttu-id="58efa-267">Misurare la CPU, memoria, disco e i/o delle macchine virtuali nell'ambiente di produzione effettivo e verificare che le dimensioni VM selezionate siano sufficiente.</span><span class="sxs-lookup"><span data-stu-id="58efa-267">Measure the actual CPU, memory, disk, and I/O of your VMs in production, and verify that the VM size you've selected is sufficient.</span></span> <span data-ttu-id="58efa-268">In caso contrario, l'applicazione potrebbe essere soggetta a problemi di capacità man mano che le VM si avvicinano ai propri limiti.</span><span class="sxs-lookup"><span data-stu-id="58efa-268">If not, your application may experience capacity issues as the VMs approach their limits.</span></span> <span data-ttu-id="58efa-269">Le dimensioni delle VM sono descritte in dettaglio in [Dimensioni per le macchine virtuali Windows in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span><span class="sxs-lookup"><span data-stu-id="58efa-269">VM sizes are described in detail in [Sizes for virtual machines in Azure](/azure/virtual-machines/virtual-machines-windows-sizes/?toc=%2fazure%2fvirtual-machines%2fwindows%2ftoc.json).</span></span>

## <a name="determine-subscription-and-service-requirements"></a><span data-ttu-id="58efa-270">Determinare i requisiti di sottoscrizione e del servizio</span><span class="sxs-lookup"><span data-stu-id="58efa-270">Determine subscription and service requirements</span></span>

<span data-ttu-id="58efa-271">Scegliere la sottoscrizione corretta e le funzionalità del servizio per l'app seguendo queste attività:</span><span class="sxs-lookup"><span data-stu-id="58efa-271">Choose the right subscription and service features for your app by working through these tasks:</span></span>

- <span data-ttu-id="58efa-272">**Valutare i requisiti rispetto [sottoscrizione di Azure e limiti dei servizi](/azure/azure-subscription-service-limits/).**</span><span class="sxs-lookup"><span data-stu-id="58efa-272">**Evaluate requirements against [Azure subscription and service limits](/azure/azure-subscription-service-limits/).**</span></span> <span data-ttu-id="58efa-273">*Le sottoscrizioni di Azure* hanno limiti su determinati tipi di risorse, ad esempio il numero di gruppi di risorse, i core e gli account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-273">*Azure subscriptions* have limits on certain resource types, such as number of resource groups, cores, and storage accounts.</span></span> <span data-ttu-id="58efa-274">Se i requisiti dell'applicazione superano i limiti di sottoscrizione di Azure, creare un'altra sottoscrizione di Azure ed eseguirne il provisioning con un numero sufficiente di risorse.</span><span class="sxs-lookup"><span data-stu-id="58efa-274">If your application requirements exceed Azure subscription limits, create another Azure subscription and provision sufficient resources there.</span></span> <span data-ttu-id="58efa-275">I singoli servizi di Azure hanno limiti di consumo, ad esempio i limiti per l'archiviazione, la velocità effettiva, il numero di connessioni, le richieste al secondo e altre metriche.</span><span class="sxs-lookup"><span data-stu-id="58efa-275">Individual Azure services have consumption limits &mdash; for example, limits on storage, throughput, number of connections, requests per second, and other metrics.</span></span> <span data-ttu-id="58efa-276">L'applicazione avrà esito negativo se tenta di usare le risorse oltre questi limiti, tempi di inattività del servizio di limitazione delle richieste e possibili per gli utenti interessati.</span><span class="sxs-lookup"><span data-stu-id="58efa-276">Your application will fail if it attempts to use resources beyond these limits, resulting in service throttling and possible downtime for affected users.</span></span> <span data-ttu-id="58efa-277">A seconda del servizio specifico e ai requisiti dell'applicazione, è spesso possibile evitare questi limiti mediante la scalabilità verticale (ad esempio, scegliere un altro piano tariffario) o la scalabilità orizzontale (ad esempio l'aggiunta di nuove istanze).</span><span class="sxs-lookup"><span data-stu-id="58efa-277">Depending on the specific service and your application requirements, you can often avoid these limits by scaling up (for example, choosing another pricing tier) or scaling out (such as adding new instances).</span></span>
- <span data-ttu-id="58efa-278">**Determinare il numero di account di archiviazione è necessario.**</span><span class="sxs-lookup"><span data-stu-id="58efa-278">**Determine how many storage accounts you need.**</span></span> <span data-ttu-id="58efa-279">Azure consente un numero specifico di account di archiviazione per ogni sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="58efa-279">Azure allows a specific number of storage accounts per subscription.</span></span> <span data-ttu-id="58efa-280">Per altre informazioni, vedere [Sottoscrizione di Azure e limiti, quote e vincoli dei servizi](/azure/azure-subscription-service-limits/#storage-limits).</span><span class="sxs-lookup"><span data-stu-id="58efa-280">For more information, see [Azure subscription and service limits, quotas, and constraints](/azure/azure-subscription-service-limits/#storage-limits).</span></span>
- <span data-ttu-id="58efa-281">**Selezionare il livello di servizio corretto per il database SQL di Azure.**</span><span class="sxs-lookup"><span data-stu-id="58efa-281">**Select the right service tier for Azure SQL Database.**</span></span> <span data-ttu-id="58efa-282">Se l'applicazione usa Database SQL di Azure, selezionare il livello di servizio appropriato.</span><span class="sxs-lookup"><span data-stu-id="58efa-282">If your application uses Azure SQL Database, select the appropriate service tier.</span></span> <span data-ttu-id="58efa-283">Se il livello non può gestire i requisiti dell'applicazione database transaction unit (DTU), verrà limitato l'utilizzo dei dati.</span><span class="sxs-lookup"><span data-stu-id="58efa-283">If the tier cannot handle your application's database transaction unit (DTU) requirements, your data use will be throttled.</span></span> <span data-ttu-id="58efa-284">Per ulteriori informazioni sul piano di servizio corretto, vedere [Prestazioni e opzioni del database SQL: riconoscimento delle offerte in ogni livello di servizio](/azure/sql-database/sql-database-service-tiers/).</span><span class="sxs-lookup"><span data-stu-id="58efa-284">For more information on selecting the correct service plan, see [SQL Database options and performance: Understand what's available in each service tier](/azure/sql-database/sql-database-service-tiers/).</span></span>
- <span data-ttu-id="58efa-285">**Effettuare il provisioning di unità di richiesta sufficienti (RUs) in Azure Cosmos DB**.</span><span class="sxs-lookup"><span data-stu-id="58efa-285">**Provision sufficient request units (RUs) in Azure Cosmos DB**.</span></span> <span data-ttu-id="58efa-286">Con Azure Cosmos DB, viene addebitato un costo per la velocità effettiva sottoposta a provisioning e per le risorse di archiviazione utilizzate su base oraria.</span><span class="sxs-lookup"><span data-stu-id="58efa-286">With Azure Cosmos DB, you pay for the throughput you provision and the storage you consume on an hourly basis.</span></span> <span data-ttu-id="58efa-287">Il costo di tutte le operazioni di database viene normalizzato come unità riservate, che consente di astrarre le risorse di sistema, ad esempio memoria, CPU e numero di IOPS.</span><span class="sxs-lookup"><span data-stu-id="58efa-287">The cost of all database operations is normalized as RUs, which abstracts the system resources such as CPU, IOPS, and memory.</span></span> <span data-ttu-id="58efa-288">Per altre informazioni, vedere [Unità richiesta in Azure Cosmos DB](/azure/cosmos-db/request-units).</span><span class="sxs-lookup"><span data-stu-id="58efa-288">For more information, see [Request Units in Azure Cosmos DB](/azure/cosmos-db/request-units).</span></span>

## <a name="load-balance-as-needed"></a><span data-ttu-id="58efa-289">Bilanciamento del carico in base alle esigenze</span><span class="sxs-lookup"><span data-stu-id="58efa-289">Load-balance as needed</span></span>

<span data-ttu-id="58efa-290">Corretto il bilanciamento del carico consente di soddisfare i requisiti di disponibilità e per ridurre al minimo i costi associati alla disponibilità.</span><span class="sxs-lookup"><span data-stu-id="58efa-290">Proper load-balancing allows you to meet availability requirements and to minimize costs associated with availability.</span></span>

- <span data-ttu-id="58efa-291">**Usare il bilanciamento del carico per distribuire le richieste.**</span><span class="sxs-lookup"><span data-stu-id="58efa-291">**Use load-balancing to distribute requests.**</span></span> <span data-ttu-id="58efa-292">Bilanciamento del carico distribuisce le richieste dell'applicazione alle istanze del servizio integre rimuovendo le istanze danneggiate dalla rotazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-292">Load-balancing distributes your application's requests to healthy service instances by removing unhealthy instances from rotation.</span></span> <span data-ttu-id="58efa-293">Se il servizio Usa servizio App di Azure o servizi Cloud di Azure, è già con bilanciamento del carico per l'utente.</span><span class="sxs-lookup"><span data-stu-id="58efa-293">If your service uses Azure App Service or Azure Cloud Services, it's already load-balanced for you.</span></span> <span data-ttu-id="58efa-294">Tuttavia, se l'applicazione usa macchine virtuali di Azure, è necessario eseguire il provisioning di un bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="58efa-294">However, if your application uses Azure VMs, you need to provision a load-balancer.</span></span> <span data-ttu-id="58efa-295">Per altre informazioni, vedere [che cos'è Azure Load Balancer?](/azure/load-balancer/load-balancer-overview/)</span><span class="sxs-lookup"><span data-stu-id="58efa-295">For more information, see [What is Azure Load Balancer?](/azure/load-balancer/load-balancer-overview/)</span></span>

  <span data-ttu-id="58efa-296">È possibile usare Azure Load Balancer per eseguire queste operazioni:</span><span class="sxs-lookup"><span data-stu-id="58efa-296">You can use Azure Load Balancer to:</span></span>

  - <span data-ttu-id="58efa-297">Il bilanciamento del carico Internet il traffico in ingresso alle macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="58efa-297">Load-balance incoming Internet traffic to your VMs.</span></span> <span data-ttu-id="58efa-298">Questa configurazione è nota come un [ *pubblica di Load Balancer*](/azure/load-balancer/load-balancer-overview#publicloadbalancer).</span><span class="sxs-lookup"><span data-stu-id="58efa-298">This configuration is known as a [*public Load Balancer*](/azure/load-balancer/load-balancer-overview#publicloadbalancer).</span></span>
  - <span data-ttu-id="58efa-299">Bilanciare il carico del traffico tra le VM all'interno di una rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="58efa-299">Load-balance traffic across VMs inside a virtual network.</span></span> <span data-ttu-id="58efa-300">È anche possibile raggiungere un front-end di Load Balancer da una rete locale in uno scenario ibrido.</span><span class="sxs-lookup"><span data-stu-id="58efa-300">You can also reach a Load Balancer front end from an on-premises network in a hybrid scenario.</span></span> <span data-ttu-id="58efa-301">Entrambi questi scenari usano una configurazione che è noto come un [ *bilanciamento del carico interno*](/azure/load-balancer/load-balancer-overview#internalloadbalancer).</span><span class="sxs-lookup"><span data-stu-id="58efa-301">Both scenarios use a configuration that is known as an [*internal Load Balancer*](/azure/load-balancer/load-balancer-overview#internalloadbalancer).</span></span>
  - <span data-ttu-id="58efa-302">Port forwarding del traffico a una porta di dettagliata in macchine virtuali specifiche con regole NAT in ingresso network address translation (NAT).</span><span class="sxs-lookup"><span data-stu-id="58efa-302">Port forward traffic to an itemized port on specific VMs with inbound network address translation (NAT) rules.</span></span>
  - <span data-ttu-id="58efa-303">Offrire [connettività in uscita](/azure/load-balancer/load-balancer-outbound-connections) per le macchine virtuali all'interno della rete virtuale usando un Load Balancer pubblico.</span><span class="sxs-lookup"><span data-stu-id="58efa-303">Provide [outbound connectivity](/azure/load-balancer/load-balancer-outbound-connections) for VMs inside your virtual network by using a public Load Balancer.</span></span>

- <span data-ttu-id="58efa-304">**Bilanciamento del carico tra le aree con gestione traffico, ad esempio Gestione traffico di Azure.**</span><span class="sxs-lookup"><span data-stu-id="58efa-304">**Balance loads across regions with a traffic manager, such as Azure Traffic Manager.**</span></span> <span data-ttu-id="58efa-305">Per il bilanciamento del carico di traffico tra le aree richiede una soluzione di gestione traffico e Azure offre [Traffic Manager](https://azure.microsoft.com/services/traffic-manager/).</span><span class="sxs-lookup"><span data-stu-id="58efa-305">To load-balance traffic across regions requires a traffic management solution, and Azure provides [Traffic Manager](https://azure.microsoft.com/services/traffic-manager/).</span></span> <span data-ttu-id="58efa-306">È anche possibile sfruttare i vantaggi dei servizi di terze parti che forniscono funzionalità di gestione del traffico simili.</span><span class="sxs-lookup"><span data-stu-id="58efa-306">You can also take advantage of third-party services that provide similar traffic-management capabilities.</span></span>

## <a name="implement-resiliency-strategies"></a><span data-ttu-id="58efa-307">Implementare strategie di resilienza</span><span class="sxs-lookup"><span data-stu-id="58efa-307">Implement resiliency strategies</span></span>

<span data-ttu-id="58efa-308">Questa sezione vengono descritte alcune strategie di resilienza comuni.</span><span class="sxs-lookup"><span data-stu-id="58efa-308">This section describes some common resiliency strategies.</span></span> <span data-ttu-id="58efa-309">La maggior parte delle strategie seguenti non sono limitata a una determinata tecnologia.</span><span class="sxs-lookup"><span data-stu-id="58efa-309">Most of these strategies are not limited to a particular technology.</span></span> <span data-ttu-id="58efa-310">Le descrizioni riepilogano l'idea generale alla base di ogni tecnica e includono collegamenti ad altri documenti.</span><span class="sxs-lookup"><span data-stu-id="58efa-310">The descriptions summarize the general idea behind each technique and include links to further reading.</span></span>

- <span data-ttu-id="58efa-311">**Implementare modelli di resilienza** per le operazioni remote laddove appropriato.</span><span class="sxs-lookup"><span data-stu-id="58efa-311">**Implement resiliency patterns** for remote operations, where appropriate.</span></span> <span data-ttu-id="58efa-312">Se l'applicazione dipende dalla comunicazione tra servizi remoti, seguire [schemi progettuali](../patterns/category/resiliency.md) per gestire gli errori temporanei.</span><span class="sxs-lookup"><span data-stu-id="58efa-312">If your application depends on communication between remote services, follow [design patterns](../patterns/category/resiliency.md) for dealing with transient failures.</span></span>

- <span data-ttu-id="58efa-313">**Ripetere gli errori temporanei.**</span><span class="sxs-lookup"><span data-stu-id="58efa-313">**Retry transient failures.**</span></span> <span data-ttu-id="58efa-314">Questi può essere causati da una perdita temporanea della connettività di rete, una connessione a database eliminato o da un timeout quando un servizio è occupato.</span><span class="sxs-lookup"><span data-stu-id="58efa-314">These can be caused by momentary loss of network connectivity, a dropped database connection, or a timeout when a service is busy.</span></span> <span data-ttu-id="58efa-315">Spesso, un errore temporaneo può essere risolto eseguendo nuovamente la richiesta.</span><span class="sxs-lookup"><span data-stu-id="58efa-315">Often, a transient failure can be resolved by retrying the request.</span></span>

  - <span data-ttu-id="58efa-316">Per molti servizi di Azure, il client software development kit (SDK) implementa automaticamente nuovi tentativi in modo trasparente al chiamante.</span><span class="sxs-lookup"><span data-stu-id="58efa-316">For many Azure services, the client software development kit (SDK) implements automatic retries in a way that is transparent to the caller.</span></span> <span data-ttu-id="58efa-317">Visualizzare [indicazioni per servizi specifici di ripetizione di tentativi](../best-practices/retry-service-specific.md).</span><span class="sxs-lookup"><span data-stu-id="58efa-317">See [Retry guidance for specific services](../best-practices/retry-service-specific.md).</span></span>
  - <span data-ttu-id="58efa-318">Né lo implementa il [schema Retry](../patterns/retry.md) per consentire l'applicazione di gestire in modo trasparente gli errori temporanei previsti durante il tentativo di connettersi a una risorsa servizio o di rete.</span><span class="sxs-lookup"><span data-stu-id="58efa-318">Or implement the [Retry pattern](../patterns/retry.md) to help the application handle anticipated, temporary failures transparently when it tries to connect to a service or network resource.</span></span>

- <span data-ttu-id="58efa-319">**Usare un interruttore di circuito** per gestire gli errori che potrebbero richiedere una quantità variabile di tempo a correggere.</span><span class="sxs-lookup"><span data-stu-id="58efa-319">**Use a circuit breaker** to handle faults that might take a variable amount of time to fix.</span></span> <span data-ttu-id="58efa-320">Il [schema Circuit Breaker](../patterns/circuit-breaker.md) può impedire a un'applicazione di tentare ripetutamente un'operazione che potrebbe non riuscire.</span><span class="sxs-lookup"><span data-stu-id="58efa-320">The [Circuit Breaker pattern](../patterns/circuit-breaker.md) can prevent an application from repeatedly trying an operation that is likely to fail.</span></span> <span data-ttu-id="58efa-321">L'interruttore esegue il wrapping delle chiamate a un servizio e tiene traccia del numero di errori recenti.</span><span class="sxs-lookup"><span data-stu-id="58efa-321">The circuit breaker wraps calls to a service and tracks the number of recent failures.</span></span> <span data-ttu-id="58efa-322">Se il conteggio degli errori supera una soglia, l'interruttore inizia a restituire un codice di errore senza chiamare il servizio.</span><span class="sxs-lookup"><span data-stu-id="58efa-322">If the failure count exceeds a threshold, the circuit breaker starts returning an error code without calling the service.</span></span> <span data-ttu-id="58efa-323">In questo modo il tempo di servizio per il ripristino e consente di evitare errori a catena.</span><span class="sxs-lookup"><span data-stu-id="58efa-323">This gives the service time to recover and helps avoid cascading failures.</span></span>
- <span data-ttu-id="58efa-324">**Isolare le risorse critiche.**</span><span class="sxs-lookup"><span data-stu-id="58efa-324">**Isolate critical resources.**</span></span> <span data-ttu-id="58efa-325">Gli errori in un sottosistema possono propagarsi, causando errori in altre parti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-325">Failures in one subsystem can sometimes cascade, resulting in failures in other parts of the application.</span></span> <span data-ttu-id="58efa-326">Questa situazione può verificarsi se un errore impedisce che le risorse come i thread o socket viene liberato, causandone l'esaurimento.</span><span class="sxs-lookup"><span data-stu-id="58efa-326">This can happen if a failure prevents resources such as threads or sockets from being freed, leading to resource exhaustion.</span></span> <span data-ttu-id="58efa-327">Per evitare questo problema, è possibile partizionare un sistema in gruppi isolati, in modo che un errore in una partizione non causi l'arresto dell'intero sistema.</span><span class="sxs-lookup"><span data-stu-id="58efa-327">To avoid this, you can partition a system into isolated groups so that a failure in one partition does not bring down the entire system.</span></span>

    <span data-ttu-id="58efa-328">Di seguito sono riportati alcuni esempi di questa tecnica, che talvolta viene denominato il [modello a scomparti](../patterns/bulkhead.md):</span><span class="sxs-lookup"><span data-stu-id="58efa-328">Here are some examples of this technique, which is sometimes called the [Bulkhead pattern](../patterns/bulkhead.md):</span></span>

  - <span data-ttu-id="58efa-329">Partizionare un database (ad esempio, dal tenant) e assegnare a un pool separato di istanze del server web per ogni partizione.</span><span class="sxs-lookup"><span data-stu-id="58efa-329">Partition a database (for example, by tenant), and assign a separate pool of web server instances for each partition.</span></span>
  - <span data-ttu-id="58efa-330">Usare pool di thread distinti per isolare le chiamate a servizi diversi:</span><span class="sxs-lookup"><span data-stu-id="58efa-330">Use separate thread pools to isolate calls to different services.</span></span> <span data-ttu-id="58efa-331">questo consente di evitare errori a catena in caso di errore di uno dei servizi.</span><span class="sxs-lookup"><span data-stu-id="58efa-331">This helps to prevent cascading failures if one of the services fails.</span></span> <span data-ttu-id="58efa-332">Per un esempio, vedere Netflix [Hystrix library](https://medium.com/netflix-techblog/introducing-hystrix-for-resiliency-engineering-13531c1ab362).</span><span class="sxs-lookup"><span data-stu-id="58efa-332">For an example, see the Netflix [Hystrix library](https://medium.com/netflix-techblog/introducing-hystrix-for-resiliency-engineering-13531c1ab362).</span></span>
  - <span data-ttu-id="58efa-333">Uso [contenitori](https://en.wikipedia.org/wiki/Operating-system-level_virtualization) per limitare le risorse disponibili per un sottosistema specifico.</span><span class="sxs-lookup"><span data-stu-id="58efa-333">Use [containers](https://en.wikipedia.org/wiki/Operating-system-level_virtualization) to limit the resources available to a particular subsystem.</span></span>

      ![Diagramma del modello A scomparti](_images/bulkhead.png)

- <span data-ttu-id="58efa-335">**Si applicano [ *transazioni di compensazione*](../patterns/compensating-transaction.md)**.</span><span class="sxs-lookup"><span data-stu-id="58efa-335">**Apply [*compensating transactions*](../patterns/compensating-transaction.md)**.</span></span> <span data-ttu-id="58efa-336">Una transazione di compensazione è una transazione che annulla gli effetti di un'altra transazione completata.</span><span class="sxs-lookup"><span data-stu-id="58efa-336">A compensating transaction is a transaction that undoes the effects of another completed transaction.</span></span> <span data-ttu-id="58efa-337">In un sistema distribuito, può essere difficile da ottenere coerenza transazionale assoluta.</span><span class="sxs-lookup"><span data-stu-id="58efa-337">In a distributed system, it can be difficult to achieve strong transactional consistency.</span></span> <span data-ttu-id="58efa-338">Le transazioni di compensazione consentono di ottenere la coerenza tramite una serie di transazioni di dimensioni inferiori che possono essere annullate a ogni passaggio.</span><span class="sxs-lookup"><span data-stu-id="58efa-338">Compensating transactions help to achieve consistency by using a series of smaller, individual transactions that can be undone at each step.</span></span> <span data-ttu-id="58efa-339">Per organizzare un viaggio, ad esempio, un cliente potrebbe prenotare un'automobile, una camera di albergo e un volo.</span><span class="sxs-lookup"><span data-stu-id="58efa-339">For example, to book a trip, a customer might reserve a car, a hotel room, and a flight.</span></span> <span data-ttu-id="58efa-340">Se uno di questi passaggi non riesce, l'intera operazione ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="58efa-340">If one of these steps fails, the entire operation fails.</span></span> <span data-ttu-id="58efa-341">Anziché tentare di usare una singola transazione distribuita per l'intera operazione, è possibile definire una transazione di compensazione per ogni passaggio.</span><span class="sxs-lookup"><span data-stu-id="58efa-341">Instead of trying to use a single distributed transaction for the entire operation, you can define a compensating transaction for each step.</span></span>
- <span data-ttu-id="58efa-342">**Implementare operazioni asincrone, laddove possibile.**</span><span class="sxs-lookup"><span data-stu-id="58efa-342">**Implement asynchronous operations, whenever possible.**</span></span> <span data-ttu-id="58efa-343">Le operazioni sincrone possono monopolizzare le risorse e bloccare altre operazioni mentre il chiamante attende il completamento del processo.</span><span class="sxs-lookup"><span data-stu-id="58efa-343">Synchronous operations can monopolize resources and block other operations while the caller waits for the process to complete.</span></span> <span data-ttu-id="58efa-344">Progettare ogni parte dell'applicazione per consentire operazioni asincrone, laddove possibile.</span><span class="sxs-lookup"><span data-stu-id="58efa-344">Design each part of your application to allow for asynchronous operations, whenever possible.</span></span> <span data-ttu-id="58efa-345">Per altre informazioni su come implementare la programmazione asincrona in C\#, vedere [programmazione asincrona](/dotnet/articles/csharp/async).</span><span class="sxs-lookup"><span data-stu-id="58efa-345">For more information on how to implement asynchronous programming in C\#, see [Asynchronous Programming](/dotnet/articles/csharp/async).</span></span>

## <a name="ensure-that-availability-meets-slas"></a><span data-ttu-id="58efa-346">Assicurarsi che la disponibilità soddisfi i contratti di servizio</span><span class="sxs-lookup"><span data-stu-id="58efa-346">Ensure that availability meets SLAs</span></span>

<span data-ttu-id="58efa-347">*Disponibilità* è la percentuale di tempo per cui il sistema funziona ed è ed è uno dei [concetti fondamentali della qualità del software](../guide/pillars.md).</span><span class="sxs-lookup"><span data-stu-id="58efa-347">*Availability* is the proportion of time that a system is functional and working, and it is one of the [pillars of software quality](../guide/pillars.md).</span></span> <span data-ttu-id="58efa-348">Utilizzare le attività in questa sezione per esaminare l'architettura dell'applicazione da un punto di vista della disponibilità per assicurarsi che la propria disponibilità soddisfi i contratti di servizio.</span><span class="sxs-lookup"><span data-stu-id="58efa-348">Use the tasks in this section to review your application architecture from an availability standpoint to make sure that your availability meets your SLAs.</span></span>

- <span data-ttu-id="58efa-349">**Evitare i singoli punti di errore.**</span><span class="sxs-lookup"><span data-stu-id="58efa-349">**Avoid any single point of failure.**</span></span> <span data-ttu-id="58efa-350"> Tutti i componenti, i servizi, le risorse e le istanze di calcolo devono essere distribuiti come istanze multiple, per impedire che un singolo punto di errore influisca sulla disponibilità.</span><span class="sxs-lookup"><span data-stu-id="58efa-350">All components, services, resources, and compute instances should be deployed as multiple instances to prevent a single point of failure from affecting availability.</span></span> <span data-ttu-id="58efa-351">Meccanismi di autenticazione possono anche essere un singolo punto di guasto.</span><span class="sxs-lookup"><span data-stu-id="58efa-351">Authentication mechanisms can also be a single point of failure.</span></span> <span data-ttu-id="58efa-352">Progettare l'applicazione per cui può essere configurato per usare più istanze e per rilevare gli errori e reindirizzare le richieste a istanze senza errori, automaticamente se la piattaforma non esegue questa operazione automaticamente.</span><span class="sxs-lookup"><span data-stu-id="58efa-352">Design the application to be configurable to use multiple instances and to automatically detect failures and redirect requests to non-failed instances, if the platform doesn't do this automatically.</span></span>
- <span data-ttu-id="58efa-353">**Scomporre i carichi di lavoro in base all'obiettivo a livello di servizio.**</span><span class="sxs-lookup"><span data-stu-id="58efa-353">**Decompose workloads by service-level objective.**</span></span> <span data-ttu-id="58efa-354"> Se un servizio è composto da carichi di lavoro critici e meno critici, gestirli in modo diverso e specificare le funzionalità del servizio e il numero di istanze per soddisfare i rispettivi requisiti di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="58efa-354">If a service is composed of critical and less-critical workloads, manage them differently and specify the service features and number of instances to meet their availability requirements.</span></span>
- <span data-ttu-id="58efa-355">**Ridurre al minimo e comprendere le dipendenze del servizio.**</span><span class="sxs-lookup"><span data-stu-id="58efa-355">**Minimize and understand service dependencies.**</span></span> <span data-ttu-id="58efa-356">Ridurre al minimo il numero di diversi servizi utilizzati, laddove possibile.</span><span class="sxs-lookup"><span data-stu-id="58efa-356">Minimize the number of different services used, where possible.</span></span> <span data-ttu-id="58efa-357">Assicurarsi di aver compreso tutte le funzionalità e servizio dipendenze esistenti nel sistema.</span><span class="sxs-lookup"><span data-stu-id="58efa-357">Ensure that you understand all the feature and service dependencies that exist in the system.</span></span> <span data-ttu-id="58efa-358">In particolare, esaminare l'impatto complessivo di errore o una riduzione delle prestazioni in ogni dipendenza.</span><span class="sxs-lookup"><span data-stu-id="58efa-358">In particular, understand the overall impact of failure or reduced performance in each dependency.</span></span>
- <span data-ttu-id="58efa-359">**Progettare attività e i messaggi vengano *idempotente*, laddove possibile.**</span><span class="sxs-lookup"><span data-stu-id="58efa-359">**Design tasks and messages to be *idempotent*, where possible.**</span></span> <span data-ttu-id="58efa-360">Un'operazione è idempotente se può essere ripetuta più volte producendo lo stesso risultato.</span><span class="sxs-lookup"><span data-stu-id="58efa-360">An operation is idempotent if it can be repeated multiple times and produce the same result.</span></span> <span data-ttu-id="58efa-361">Questo può garantire che richieste duplicate non causino problemi.</span><span class="sxs-lookup"><span data-stu-id="58efa-361">This can ensure that duplicated requests don't cause problems.</span></span> <span data-ttu-id="58efa-362">I consumer di messaggi e le operazioni da essi effettuate devono essere idempotenti, affinché la ripetizione di un'operazione eseguita in precedenza non invalidi i risultati.</span><span class="sxs-lookup"><span data-stu-id="58efa-362">Message consumers and the operations they carry out should be idempotent so that repeating a previously executed operation does not render the results invalid.</span></span> <span data-ttu-id="58efa-363">Questo può significare rilevamento di messaggi duplicati o verifica della coerenza usando un approccio ottimistico alla gestione dei conflitti.</span><span class="sxs-lookup"><span data-stu-id="58efa-363">This may mean detecting duplicated messages or ensuring consistency by using an optimistic approach to handling conflicts.</span></span>
- <span data-ttu-id="58efa-364">**Configurare i timeout delle richieste.**</span><span class="sxs-lookup"><span data-stu-id="58efa-364">**Configure request timeouts.**</span></span> <span data-ttu-id="58efa-365"> Servizi e risorse possono diventare non disponibili, causando la mancata riuscita delle richieste.</span><span class="sxs-lookup"><span data-stu-id="58efa-365">Services and resources may become unavailable, causing requests to fail.</span></span> <span data-ttu-id="58efa-366">Assicurarsi che i timeout applicati siano appropriati per ogni servizio o risorsa e per il client che vi accede.</span><span class="sxs-lookup"><span data-stu-id="58efa-366">Ensure that the timeouts you apply are appropriate for each service or resource and for the client that is accessing them.</span></span> <span data-ttu-id="58efa-367">In alcuni casi si potrebbe consentire un timeout più lungo per una determinata istanza di un client, in base al contesto e alle altre azioni eseguite dal client.</span><span class="sxs-lookup"><span data-stu-id="58efa-367">In some cases, you might allow a longer timeout for a particular instance of a client, depending on the context and other actions that the client is performing.</span></span> <span data-ttu-id="58efa-368">I timeout breve possono causare un numero eccessivo di tentativi per i servizi e le risorse con latenza notevole.</span><span class="sxs-lookup"><span data-stu-id="58efa-368">Short timeouts may cause excessive retry operations for services and resources that have considerable latency.</span></span> <span data-ttu-id="58efa-369">I timeout lungo possono causare il blocco, se un numero elevato di richieste viene accodato, in attesa di un servizio o una risorsa di rispondere.</span><span class="sxs-lookup"><span data-stu-id="58efa-369">Long timeouts can cause blocking, if a large number of requests are queued, waiting for a service or resource to respond.</span></span>
- <span data-ttu-id="58efa-370">**Utilizzare un gestore dei messaggi che implementa l’elevata disponibilità per le transazioni critiche.**</span><span class="sxs-lookup"><span data-stu-id="58efa-370">**Use a message broker that implements high availability for critical transactions.**</span></span> <span data-ttu-id="58efa-371">Molte applicazioni cloud usano la messaggistica per attivare le attività asincrone.</span><span class="sxs-lookup"><span data-stu-id="58efa-371">Many cloud applications use messaging to trigger asynchronous tasks.</span></span> <span data-ttu-id="58efa-372">Per garantire il recapito dei messaggi, il sistema di messaggistica deve garantire un'elevata disponibilità.</span><span class="sxs-lookup"><span data-stu-id="58efa-372">To guarantee delivery of messages, the messaging system should provide high availability.</span></span> <span data-ttu-id="58efa-373">[Messaggistica del Bus di servizio di Azure](/azure/service-bus-messaging) implementi *almeno una volta* semantica, che significa che un messaggio è garantito a essere recapitato almeno una volta.</span><span class="sxs-lookup"><span data-stu-id="58efa-373">[Azure Service Bus messaging](/azure/service-bus-messaging) implements *at least once* semantics, which means that a message is guaranteed to be delivered at least once.</span></span> <span data-ttu-id="58efa-374">In determinate circostanze possono recapitare i messaggi duplicati.</span><span class="sxs-lookup"><span data-stu-id="58efa-374">Duplicate messages may be delivered under certain circumstances.</span></span> <span data-ttu-id="58efa-375">Se l'elaborazione dei messaggi è idempotente (vedere la voce precedente), il recapito ripetuto non dovrebbe essere un problema.</span><span class="sxs-lookup"><span data-stu-id="58efa-375">If message processing is idempotent (see the previous item), repeated delivery should not be a problem.</span></span>
- <span data-ttu-id="58efa-376">**Gli utenti con volumi elevati. limitazione totale.**</span><span class="sxs-lookup"><span data-stu-id="58efa-376">**Throttle high-volume users.**</span></span> <span data-ttu-id="58efa-377">In alcuni casi, un numero ridotto di utenti crea un carico eccessivo.</span><span class="sxs-lookup"><span data-stu-id="58efa-377">Sometimes, a small number of users creates excessive load.</span></span> <span data-ttu-id="58efa-378">Ciò può avere un impatto sugli altri utenti e può ridurre la disponibilità complessiva dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-378">This can have an impact on other users and can reduce the overall availability of your application.</span></span> <span data-ttu-id="58efa-379">Quando un singolo client esegue un numero eccessivo di richieste, l'applicazione può limitare il client per un determinato periodo.</span><span class="sxs-lookup"><span data-stu-id="58efa-379">When a single client makes an excessive number of requests, the application might throttle the client for a certain period.</span></span> <span data-ttu-id="58efa-380">Durante il periodo di limitazione delle richieste, l'applicazione Rifiuta alcune o tutte le richieste da quel client.</span><span class="sxs-lookup"><span data-stu-id="58efa-380">During the throttling period, the application refuses some or all of the requests from that client.</span></span> <span data-ttu-id="58efa-381">La soglia per la limitazione delle richieste spesso dipende dal livello di servizio del cliente.</span><span class="sxs-lookup"><span data-stu-id="58efa-381">The threshold for throttling often depends on the customer's service tier.</span></span> <span data-ttu-id="58efa-382">Per altre informazioni, vedere [modello di limitazione delle richieste](../patterns/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="58efa-382">For more information, see [Throttling pattern](../patterns/throttling.md).</span></span>

    <span data-ttu-id="58efa-383">La limitazione delle richieste non implica che il client è stato necessariamente che agisce da utenti malintenzionati &mdash; solo che venga superata la quota del servizio.</span><span class="sxs-lookup"><span data-stu-id="58efa-383">Throttling does not imply that the client was necessarily acting maliciously &mdash; only that it exceeded its service quota.</span></span> <span data-ttu-id="58efa-384">In alcuni casi, un consumer potrebbe superare di molto la quota o, altrimenti, potrebbe comportarsi in modo errato.</span><span class="sxs-lookup"><span data-stu-id="58efa-384">In some cases, a consumer might consistently exceed their quota or otherwise behave badly.</span></span> <span data-ttu-id="58efa-385">In tal caso, si potrebbe andare avanti e bloccare l'utente.</span><span class="sxs-lookup"><span data-stu-id="58efa-385">In that case, you might go further and block the user.</span></span> <span data-ttu-id="58efa-386">In genere questo avviene bloccando una chiave API o un intervallo di indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="58efa-386">Typically, this is done by blocking an API key or an IP address range.</span></span>
- <span data-ttu-id="58efa-387">**Progettare le applicazioni in modo che le prestazioni si riducano in modo non drastico.**</span><span class="sxs-lookup"><span data-stu-id="58efa-387">**Design applications to gracefully degrade.**</span></span> <span data-ttu-id="58efa-388">Il carico su un'applicazione può superare la capacità di una o più parti e causare così una riduzione della disponibilità ed errori di connessione.</span><span class="sxs-lookup"><span data-stu-id="58efa-388">The load on an application may exceed the capacity of one or more parts, causing reduced availability and failed connections.</span></span> <span data-ttu-id="58efa-389">La scalabilità è possibile attenuare questo problema, ma può raggiungere un limite imposto da altri fattori, ad esempio la disponibilità di risorse o costi.</span><span class="sxs-lookup"><span data-stu-id="58efa-389">Scaling can mitigate this problem, but it may reach a limit imposed by other factors, such as resource availability or cost.</span></span> <span data-ttu-id="58efa-390">Quando un'applicazione raggiunge il limite di una risorsa, deve eseguire le operazioni necessarie per ridurre al minimo l'impatto per l'utente.</span><span class="sxs-lookup"><span data-stu-id="58efa-390">When an application reaches a resource limit, it should take appropriate action to minimize the impact for the user.</span></span> <span data-ttu-id="58efa-391">Ad esempio, in un sistema di e-commerce, se il sottosistema di elaborazione degli ordini è sotto pressione o ha esito negativo, si può essere disabilitato temporaneamente, consentendo ad altre funzionalità, come l'esplorazione del catalogo prodotti.</span><span class="sxs-lookup"><span data-stu-id="58efa-391">For example, in an e-commerce system, if the order-processing subsystem is under strain or fails, it can be temporarily disabled while allowing other functionality, such as browsing the product catalog.</span></span> <span data-ttu-id="58efa-392">Potrebbe essere opportuno posticipare le richieste a un sottosistema in errore &mdash; , ad esempio, continuando a permettere ai clienti di inviare ordini ma salvandoli per l'elaborazione successiva quando il sottosistema di ordini è nuovamente disponibile.</span><span class="sxs-lookup"><span data-stu-id="58efa-392">It might be appropriate to postpone requests to a failing subsystem &mdash; for example, still enabling customers to submit orders but saving them for later processing, when the orders subsystem is available again.</span></span>
- <span data-ttu-id="58efa-393">**Gestire correttamente gli eventi burst rapidi.**</span><span class="sxs-lookup"><span data-stu-id="58efa-393">**Gracefully handle rapid burst events.**</span></span> <span data-ttu-id="58efa-394">La maggior parte delle applicazioni deve gestire carichi di lavoro variabili nel tempo.</span><span class="sxs-lookup"><span data-stu-id="58efa-394">Most applications need to handle varying workloads over time.</span></span> <span data-ttu-id="58efa-395">La scalabilità automatica consente di gestire il carico, ma potrebbe richiedere qualche minuto per le istanze aggiuntive a portare in linea e gestire le richieste.</span><span class="sxs-lookup"><span data-stu-id="58efa-395">Autoscaling can help to handle the load, but it may take some time for additional instances to come online and handle requests.</span></span> <span data-ttu-id="58efa-396">Per evitare che picchi di attività sovraccaricare l'applicazione, progettarlo accodi le richieste ai servizi che utilizza e ridurre le prestazioni gradualmente quando code si avvicinano alla capacità.</span><span class="sxs-lookup"><span data-stu-id="58efa-396">To prevent bursts of activity from overwhelming the application, design it to queue requests to the services it uses and to degrade gracefully when queues are near capacity.</span></span> <span data-ttu-id="58efa-397">Verificare le prestazioni e capacità sufficienti disponibile sia nelle condizioni di non burst a svuotare le code e gestire le richieste in sospeso.</span><span class="sxs-lookup"><span data-stu-id="58efa-397">Ensure there is sufficient performance and capacity available under non-burst conditions to drain the queues and handle outstanding requests.</span></span> <span data-ttu-id="58efa-398">Per ulteriori informazioni, vedere il [modello di livellamento dei carichi basato sulle code](../patterns/queue-based-load-leveling.md).</span><span class="sxs-lookup"><span data-stu-id="58efa-398">For more information, see the [Queue-Based Load Leveling pattern](../patterns/queue-based-load-leveling.md).</span></span>
- <span data-ttu-id="58efa-399">**Comporre o eseguire il failback da più componenti.**</span><span class="sxs-lookup"><span data-stu-id="58efa-399">**Compose or fail back to multiple components.**</span></span> <span data-ttu-id="58efa-400">Progettazione di applicazioni da usare più istanze senza impatto sul funzionamento e le connessioni esistenti, laddove possibile.</span><span class="sxs-lookup"><span data-stu-id="58efa-400">Design applications to use multiple instances without affecting operation and existing connections, where possible.</span></span> <span data-ttu-id="58efa-401">Per ottimizzare la disponibilità, usare più istanze e distribuire le richieste tra di essi e rilevare ed evitare l'invio di richieste a istanze non riuscite.</span><span class="sxs-lookup"><span data-stu-id="58efa-401">To maximize availability, use multiple instances and distribute requests between them, and detect and avoid sending requests to failed instances.</span></span>
- <span data-ttu-id="58efa-402">**Eseguire il failback un altro servizio o del flusso di lavoro.**</span><span class="sxs-lookup"><span data-stu-id="58efa-402">**Fail back to a different service or workflow.**</span></span> <span data-ttu-id="58efa-403">Ad esempio, se si verifica un errore di scrittura al Database SQL, archiviare temporaneamente i dati nell'archivio Blob o della Cache Redis.</span><span class="sxs-lookup"><span data-stu-id="58efa-403">For example, if writing to SQL Database fails, temporarily store data in Blob storage or Redis Cache.</span></span> <span data-ttu-id="58efa-404">Fornire un modo per ripetere le scritture nel database SQL quando il servizio risulta disponibile.</span><span class="sxs-lookup"><span data-stu-id="58efa-404">Provide a way to replay the writes to SQL Database when the service becomes available.</span></span> <span data-ttu-id="58efa-405">In alcuni casi, un'operazione non riuscita potrebbe essere un'azione alternativa che consente all'applicazione di continuare a funzionare, anche quando un componente o servizio non riesce.</span><span class="sxs-lookup"><span data-stu-id="58efa-405">In some cases, a failed operation may have an alternative action that allows the application to continue to work, even when a component or service fails.</span></span> <span data-ttu-id="58efa-406">Se possibile, rilevare gli errori e reindirizzare le richieste ad altri servizi, mentre il servizio primario è offline.</span><span class="sxs-lookup"><span data-stu-id="58efa-406">If possible, detect failures and redirect requests to other services while the primary service is offline.</span></span>
- <span data-ttu-id="58efa-407">**Usare il livellamento del carico per contenere i picchi di traffico.**</span><span class="sxs-lookup"><span data-stu-id="58efa-407">**Use load leveling to smooth out spikes in traffic.**</span></span> <span data-ttu-id="58efa-408">Le applicazioni possono verificarsi picchi improvvisi di traffico, che possono sovraccaricare i servizi back-end.</span><span class="sxs-lookup"><span data-stu-id="58efa-408">Applications may experience sudden spikes in traffic, which can overwhelm services on the back end.</span></span> <span data-ttu-id="58efa-409">Se un servizio back-end non può rispondere alle richieste in modo sufficientemente rapido, possono accumulare le richieste in sospeso o il servizio può limitare l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-409">If a back-end service cannot respond to requests quickly enough, the pending requests may accumulate or the service may throttle the application.</span></span> <span data-ttu-id="58efa-410">Per evitare questo problema, è possibile usare una coda come un buffer.</span><span class="sxs-lookup"><span data-stu-id="58efa-410">To avoid this, you can use a queue as a buffer.</span></span> <span data-ttu-id="58efa-411">Quando è presente un nuovo elemento di lavoro, anziché chiamare immediatamente, il servizio back-end dell'applicazione Accoda un elemento di lavoro per eseguire in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="58efa-411">When there is a new work item, instead of calling the back-end service immediately, the application queues a work item to run asynchronously.</span></span> <span data-ttu-id="58efa-412">La coda si comporta come un buffer che contiene i picchi di carico.</span><span class="sxs-lookup"><span data-stu-id="58efa-412">The queue acts as a buffer that smooths out peaks in the load.</span></span> <span data-ttu-id="58efa-413">Per altre informazioni, vedere [modello di livellamento carico basata su coda](../patterns/queue-based-load-leveling.md).</span><span class="sxs-lookup"><span data-stu-id="58efa-413">For more information, see [Queue-Based Load Leveling pattern](../patterns/queue-based-load-leveling.md).</span></span>

## <a name="manage-your-data"></a><span data-ttu-id="58efa-414">Gestione dei dati</span><span class="sxs-lookup"><span data-stu-id="58efa-414">Manage your data</span></span>

<span data-ttu-id="58efa-415">Modalità di gestione dei dati viene riprodotto direttamente nella disponibilità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-415">How you manage your data plays directly into the availability of your application.</span></span> <span data-ttu-id="58efa-416">L'attività in questa sezione consentono di creare un piano di gestione per assicurare la disponibilità.</span><span class="sxs-lookup"><span data-stu-id="58efa-416">The tasks in this section can help you create a management plan to help ensure availability.</span></span>

- <span data-ttu-id="58efa-417">**La replica dei dati e comprendere i metodi di replica per gli archivi di dati dell'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="58efa-417">**Replicate data and understand the replication methods for your application's data stores.**</span></span> <span data-ttu-id="58efa-418">La replica dei dati è una strategia generale per la gestione degli errori non temporanei in un archivio dati.</span><span class="sxs-lookup"><span data-stu-id="58efa-418">Replicating data is a general strategy for handling non-transient failures in a data store.</span></span> <span data-ttu-id="58efa-419">Prendere in considerazione entrambi i percorsi di lettura e scrittura.</span><span class="sxs-lookup"><span data-stu-id="58efa-419">Consider both the read and write paths.</span></span> <span data-ttu-id="58efa-420">A seconda della tecnologia di archiviazione, è possibile avere più repliche scrivibili o potrebbe essere una singola replica scrivibile e più repliche di sola lettura.</span><span class="sxs-lookup"><span data-stu-id="58efa-420">Depending on the storage technology, you might have multiple writable replicas or you might have a single writable replica and multiple read-only replicas.</span></span> <span data-ttu-id="58efa-421">Per ottimizzare la disponibilità, è possibile posizionare le repliche in più aree.</span><span class="sxs-lookup"><span data-stu-id="58efa-421">To maximize availability, replicas can be placed in multiple regions.</span></span> <span data-ttu-id="58efa-422">Tuttavia, questo approccio aumenta la latenza quando si replicano i dati.</span><span class="sxs-lookup"><span data-stu-id="58efa-422">However, this approach increases the latency when replicating the data.</span></span> <span data-ttu-id="58efa-423">In genere, la replica tra aree viene eseguita in modo asincrono e ciò implica un modello di coerenza finale e la potenziale perdita di dati se una replica ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="58efa-423">Typically, replicating across regions is done asynchronously, which implies an eventual consistency model and potential data loss if a replica fails.</span></span>  

  <span data-ttu-id="58efa-424">È possibile usare [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) replicare le macchine virtuali di Azure da un'area a altra.</span><span class="sxs-lookup"><span data-stu-id="58efa-424">You can use [Azure Site Recovery](/azure/site-recovery/azure-to-azure-quickstart/) to replicate Azure Virtual Machines from one region to another.</span></span> <span data-ttu-id="58efa-425">Site Recovery replica i dati in modo continuo nell'area di destinazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-425">Site Recovery replicates data continuously to the target region.</span></span> <span data-ttu-id="58efa-426">Quando si verifica un'interruzione nel sito primario, eseguire il failover in una posizione secondaria.</span><span class="sxs-lookup"><span data-stu-id="58efa-426">When an outage occurs at your primary site, you fail over to a secondary location.</span></span>

- <span data-ttu-id="58efa-427">**Assicurarsi che nessun account utente singolo disponga dell'accesso sia ai dati di produzione che a quelli di backup.**</span><span class="sxs-lookup"><span data-stu-id="58efa-427">**Ensure that no single user account has access to both production and backup data.**</span></span> <span data-ttu-id="58efa-428">Se un singolo account utente dispone dell'autorizzazione di scrittura sia nelle origini dati di backup che nelle origini dati di produzione, i backup dei dati risultano compromessi.</span><span class="sxs-lookup"><span data-stu-id="58efa-428">Your data backups are compromised if one single user account has permission to write to both production and backup sources.</span></span> <span data-ttu-id="58efa-429">Un utente malintenzionato potrebbe eliminare intenzionalmente tutti i tuoi dati e un utente normale potrebbe eliminarli accidentalmente.</span><span class="sxs-lookup"><span data-stu-id="58efa-429">A malicious user could purposely delete all your data, and a regular user could accidentally delete it.</span></span> <span data-ttu-id="58efa-430">Progettare l'applicazione per limitare le autorizzazioni di ogni account utente.</span><span class="sxs-lookup"><span data-stu-id="58efa-430">Design your application to limit the permissions of each user account.</span></span> <span data-ttu-id="58efa-431">Solo accesso in scrittura agli utenti che lo richiedono e concedere l'accesso per la produzione o backup, ma non entrambi.</span><span class="sxs-lookup"><span data-stu-id="58efa-431">Only grant write access to users who require it, and grant access to either production or backup, but not both.</span></span>
- <span data-ttu-id="58efa-432">**Documentare e testare il processo di failover e failback di archivio dati.**</span><span class="sxs-lookup"><span data-stu-id="58efa-432">**Document and test your data store failover and failback process.**</span></span> <span data-ttu-id="58efa-433">Se un archivio dati catastrofico, un operatore umano deve seguire un set di istruzioni documentate per eseguire il failover in un nuovo archivio dati.</span><span class="sxs-lookup"><span data-stu-id="58efa-433">If a data store fails catastrophically, a human operator must follow a set of documented instructions to fail over to a new data store.</span></span> <span data-ttu-id="58efa-434">Se le procedure documentate sono errori, un operatore sarà in grado di seguirle correttamente e per eseguire il failover della risorsa.</span><span class="sxs-lookup"><span data-stu-id="58efa-434">If the documented steps have errors, an operator won't be able to successfully follow them and to fail over the resource.</span></span> <span data-ttu-id="58efa-435">Testare regolarmente le istruzioni delle procedure per verificare che l'operatore che segue la documentazione può correttamente il failover e failback.</span><span class="sxs-lookup"><span data-stu-id="58efa-435">Regularly test the instruction steps to verify that an operator who follows the documentation can successfully fail over and fail back.</span></span>
- <span data-ttu-id="58efa-436">**Eseguire il backup dei dati e convalidare i backup dei dati.**</span><span class="sxs-lookup"><span data-stu-id="58efa-436">**Back up your data and validate your data backups.**</span></span> <span data-ttu-id="58efa-437">Eseguire periodicamente uno script per convalidare l'integrità dei dati, dello schema e le query per garantire che i dati di backup siano quelli previsti.</span><span class="sxs-lookup"><span data-stu-id="58efa-437">Regularly run a script to validate data integrity, schema, and queries to ensure that backup data is what you expect.</span></span> <span data-ttu-id="58efa-438">Accedere e segnalare eventuali incoerenze in modo che il servizio di backup possa essere riparato.</span><span class="sxs-lookup"><span data-stu-id="58efa-438">Log and report any inconsistencies so the backup service can be repaired.</span></span>
- <span data-ttu-id="58efa-439">**Usare backup e ripristino temporizzato in periodici.**</span><span class="sxs-lookup"><span data-stu-id="58efa-439">**Use periodic backup and point-in-time restore.**</span></span> <span data-ttu-id="58efa-440">Regolarmente e automaticamente il backup dei dati che non vengono mantenuti in un' posizione.</span><span class="sxs-lookup"><span data-stu-id="58efa-440">Regularly and automatically back up data that is not preserved elsewhere.</span></span> <span data-ttu-id="58efa-441">Verificare che sia possibile in modo affidabile ripristinare i dati e l'applicazione stessa in caso di errore.</span><span class="sxs-lookup"><span data-stu-id="58efa-441">Verify that you can reliably restore both the data and the application itself if failure occurs.</span></span> <span data-ttu-id="58efa-442">Assicurarsi che i backup soddisfino l'obiettivo RPO.</span><span class="sxs-lookup"><span data-stu-id="58efa-442">Ensure that backups meet your RPO.</span></span> <span data-ttu-id="58efa-443">La replica dei dati non è una funzionalità di backup, perché operazioni dannose o errori umani possono danneggiare i dati in tutte le repliche.</span><span class="sxs-lookup"><span data-stu-id="58efa-443">Data replication isn't a backup feature, because human error or malicious operations can corrupt data across all the replicas.</span></span> <span data-ttu-id="58efa-444">Il processo di backup deve essere sicuro, per proteggere i dati in transito e nel servizio di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-444">The backup process must be secure to protect the data in transit and in storage.</span></span> <span data-ttu-id="58efa-445">I database possono essere ripristinati in genere a un momento precedente in fase di usando i log delle transazioni.</span><span class="sxs-lookup"><span data-stu-id="58efa-445">Databases can usually be recovered to a previous point in time by using transaction logs.</span></span> <span data-ttu-id="58efa-446">Per altre informazioni, vedere [ripristino dal danneggiamento dei dati o dall'eliminazione accidentale](../resiliency/recovery-data-corruption.md).</span><span class="sxs-lookup"><span data-stu-id="58efa-446">For more information, see [Recover from data corruption or accidental deletion](../resiliency/recovery-data-corruption.md).</span></span>
- <span data-ttu-id="58efa-447">**È consigliabile usare un account di archiviazione con ridondanza geografica.**</span><span class="sxs-lookup"><span data-stu-id="58efa-447">**Consider using a geo-redundant storage account.**</span></span> <span data-ttu-id="58efa-448">I dati archiviati in un account di archiviazione di Azure vengono sempre replicati in locale.</span><span class="sxs-lookup"><span data-stu-id="58efa-448">Data stored in an Azure Storage account is always replicated locally.</span></span> <span data-ttu-id="58efa-449">Tuttavia, esistono più strategie di replica quando viene eseguito il provisioning di un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-449">However, there are multiple replication strategies to choose from when a storage account is provisioned.</span></span> <span data-ttu-id="58efa-450">Per proteggere i dati delle applicazioni nel caso raro quando un'intera area diventi non disponibile, selezionare [archiviazione con ridondanza geografica di Azure e accesso in lettura (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage).</span><span class="sxs-lookup"><span data-stu-id="58efa-450">To protect your application data against the rare case when an entire region becomes unavailable, select [Azure Read-Access Geo-Redundant Storage (RA-GRS)](/azure/storage/storage-redundancy/#read-access-geo-redundant-storage).</span></span>  

    > [!NOTE]
    > <span data-ttu-id="58efa-451">Per le macchine virtuali, non affidarsi alla replica RA-GRS per ripristinare i dischi di macchina virtuale (file VHD).</span><span class="sxs-lookup"><span data-stu-id="58efa-451">For VMs, do not rely on RA-GRS replication to restore the VM disks (VHD files).</span></span> <span data-ttu-id="58efa-452">Usare invece [Backup di Azure](/azure/backup).</span><span class="sxs-lookup"><span data-stu-id="58efa-452">Instead, use [Azure Backup](/azure/backup).</span></span>

- <span data-ttu-id="58efa-453">**È consigliabile distribuire i dati di riferimento in più aree.**</span><span class="sxs-lookup"><span data-stu-id="58efa-453">**Consider deploying reference data to multiple regions.**</span></span> <span data-ttu-id="58efa-454">I dati di riferimento sono dati di sola lettura che supportano le funzionalità di un'applicazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-454">Reference data is read-only data that supports application functionality.</span></span> <span data-ttu-id="58efa-455">In genere non vengono modificati spesso.</span><span class="sxs-lookup"><span data-stu-id="58efa-455">It typically doesn't change often.</span></span> <span data-ttu-id="58efa-456">Anche se il ripristino da backup è un modo per gestire le interruzioni del servizio a livello di area, l'obiettivo RTO è relativamente lungo.</span><span class="sxs-lookup"><span data-stu-id="58efa-456">Although restoring from backup is one way to handle region-wide service disruptions, the RTO is relatively long.</span></span> <span data-ttu-id="58efa-457">Quando si distribuisce l'applicazione in un'area secondaria, è possibile adottare alcune strategie che migliorano l'RTO per i dati di riferimento.</span><span class="sxs-lookup"><span data-stu-id="58efa-457">When you deploy the application to a secondary region, some strategies can improve the RTO for reference data.</span></span>

    <span data-ttu-id="58efa-458">Poiché le modifiche ai dati di riferimento raramente, è possibile migliorare l'obiettivo RTO mantenendo una copia permanente nell'area secondaria.</span><span class="sxs-lookup"><span data-stu-id="58efa-458">Because reference data changes infrequently, you can improve the RTO by maintaining a permanent copy in the secondary region.</span></span> <span data-ttu-id="58efa-459">Ciò consente di eliminare il tempo necessario per ripristinare i backup dopo un'emergenza.</span><span class="sxs-lookup"><span data-stu-id="58efa-459">This eliminates the time required to restore backups after a disaster.</span></span> <span data-ttu-id="58efa-460">Per soddisfare i requisiti di ripristino di emergenza in più aree, è necessario distribuire insieme l'applicazione e i dati di riferimento in più aree.</span><span class="sxs-lookup"><span data-stu-id="58efa-460">To meet the multiple-region disaster recovery requirements, you must deploy the application and the reference data together in multiple regions.</span></span>

- <span data-ttu-id="58efa-461">**Usare la concorrenza ottimistica e la coerenza finale.**</span><span class="sxs-lookup"><span data-stu-id="58efa-461">**Use optimistic concurrency and eventual consistency.**</span></span> <span data-ttu-id="58efa-462">Le transazioni che bloccano l'accesso alle risorse tramite il blocco (*concorrenza pessimistica*) può provocare una riduzione delle prestazioni e ridurre la disponibilità.</span><span class="sxs-lookup"><span data-stu-id="58efa-462">Transactions that block access to resources through locking (*pessimistic concurrency*) can cause poor performance and reduce availability.</span></span> <span data-ttu-id="58efa-463">Questi problemi possono diventare particolarmente gravi nei sistemi distribuiti.</span><span class="sxs-lookup"><span data-stu-id="58efa-463">These problems can become especially acute in distributed systems.</span></span> <span data-ttu-id="58efa-464">In molti casi, un'attenta progettazione e tecniche, ad esempio il partizionamento, possono ridurre al minimo le probabilità di conflitti tra gli aggiornamenti in corso.</span><span class="sxs-lookup"><span data-stu-id="58efa-464">In many cases, careful design and techniques, such as partitioning, can minimize the chances of conflicting updates occurring.</span></span> <span data-ttu-id="58efa-465">Se i dati vengono replicati o leggere da un archivio aggiornato separatamente, i dati saranno solo con coerenza finale.</span><span class="sxs-lookup"><span data-stu-id="58efa-465">If data is replicated or read from a separately updated store, the data will only be eventually consistent.</span></span> <span data-ttu-id="58efa-466">Ma i vantaggi superano in genere l'impatto sulla disponibilità dell'utilizzo di transazioni per assicurare la coerenza immediata.</span><span class="sxs-lookup"><span data-stu-id="58efa-466">But the advantages usually outweigh the impact on availability of using transactions to ensure immediate consistency.</span></span>
- <span data-ttu-id="58efa-467">**Usare la replica geografica attiva per il Database SQL per replicare le modifiche a un database secondario.**</span><span class="sxs-lookup"><span data-stu-id="58efa-467">**Use active geo-replication for SQL Database to replicate changes to a secondary database.**</span></span> <span data-ttu-id="58efa-468">La replica geografica attiva per il Database SQL esegue automaticamente la replica modifiche del database a database secondari nella stessa area o un'area diversa.</span><span class="sxs-lookup"><span data-stu-id="58efa-468">Active geo-replication for SQL Database automatically replicates database changes to secondary databases in the same region or a different region.</span></span> <span data-ttu-id="58efa-469">Per altre informazioni, vedere [creazione e uso di replica geografica attiva](/azure/sql-database/sql-database-active-geo-replication).</span><span class="sxs-lookup"><span data-stu-id="58efa-469">For more information, see [Creating and using active geo-replication](/azure/sql-database/sql-database-active-geo-replication).</span></span>

  <span data-ttu-id="58efa-470">In alternativa, è possibile adottare un approccio più manuale tramite il **copia del DATABASE** comando per creare una copia di backup del database con coerenza transazionale.</span><span class="sxs-lookup"><span data-stu-id="58efa-470">Alternatively, you can take a more manual approach by using the **DATABASE COPY** command to create a backup copy of the database with transactional consistency.</span></span> <span data-ttu-id="58efa-471">È inoltre possibile usare il servizio di importazione/esportazione di Database di SQL Azure, che supporta l'esportazione dei database nei file BACPAC (file compressi contenenti lo schema del database e i dati associati) che vengono archiviati nella risorsa di archiviazione BLOB di Azure.</span><span class="sxs-lookup"><span data-stu-id="58efa-471">You can also use the import/export service of Azure SQL Database, which supports exporting databases to BACPAC files (compressed files containing your database schema and associated data) that are stored in Azure Blob storage.</span></span> <span data-ttu-id="58efa-472">Archiviazione di Azure crea due repliche del file di backup nella stessa area.</span><span class="sxs-lookup"><span data-stu-id="58efa-472">Azure Storage creates two replicas of the backup file in the same region.</span></span> <span data-ttu-id="58efa-473">Tuttavia, la frequenza del processo di backup determina il valore RPO, ovvero la quantità di dati che potrebbero andare persi negli scenari di emergenza.</span><span class="sxs-lookup"><span data-stu-id="58efa-473">However, the frequency of the backup process determines your RPO, which is the amount of data you might lose in disaster scenarios.</span></span> <span data-ttu-id="58efa-474">Ad esempio, se il backup dei dati ogni ora e una situazione di emergenza si verifica due minuti prima del backup, si perderanno 58 minuti di dati.</span><span class="sxs-lookup"><span data-stu-id="58efa-474">For example, if you back up data every hour, and a disaster occurs two minutes before the backup, you will lose 58 minutes of data.</span></span> <span data-ttu-id="58efa-475">Inoltre, per tutelarsi da un'eventuale interruzione a livello di un'area, è consigliabile copiare i file BACPAC in un'area alternativa.</span><span class="sxs-lookup"><span data-stu-id="58efa-475">Also, to protect against a region-wide service disruption, you should copy the BACPAC files to an alternate region.</span></span> <span data-ttu-id="58efa-476">Per altre informazioni, vedere [Panoramica della continuità aziendale con Database SQL di Azure](/azure/sql-database/sql-database-business-continuity).</span><span class="sxs-lookup"><span data-stu-id="58efa-476">For more information, see [Overview of business continuity with Azure SQL Database](/azure/sql-database/sql-database-business-continuity).</span></span>

- <span data-ttu-id="58efa-477">**Usare i backup geografici per SQL Data Warehouse.**</span><span class="sxs-lookup"><span data-stu-id="58efa-477">**Use geo-backups for SQL Data Warehouse.**</span></span> <span data-ttu-id="58efa-478">Per SQL Data Warehouse, usare [i backup geografici](/azure/sql-data-warehouse/backup-and-restore) per eseguire il ripristino a un'area geografica abbinata per il ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="58efa-478">For SQL Data Warehouse, use [geo-backups](/azure/sql-data-warehouse/backup-and-restore) to restore to a paired region for disaster recovery.</span></span> <span data-ttu-id="58efa-479">Questi backup vengono eseguiti ogni 24 ore e possono essere ripristinati entro 20 minuti nell'area abbinata.</span><span class="sxs-lookup"><span data-stu-id="58efa-479">These backups are taken every 24 hours and can be restored within 20 minutes in the paired region.</span></span> <span data-ttu-id="58efa-480">Questa funzionalità è attivata per impostazione predefinita per tutte le istanze di SQL Data Warehouse.</span><span class="sxs-lookup"><span data-stu-id="58efa-480">This feature is on by default for all SQL Data Warehouse instances.</span></span> <span data-ttu-id="58efa-481">Per altre informazioni su come ripristinare il data warehouse, vedere [eseguire il ripristino da un'area geografica di Azure usando PowerShell.](/azure/sql-data-warehouse/sql-data-warehouse-restore)</span><span class="sxs-lookup"><span data-stu-id="58efa-481">For more information on how to restore your data warehouse, see [Restore from an Azure geographical region using PowerShell.](/azure/sql-data-warehouse/sql-data-warehouse-restore)</span></span>

- <span data-ttu-id="58efa-482">**Replicare i dischi della macchina virtuale con Azure Site Recovery.**</span><span class="sxs-lookup"><span data-stu-id="58efa-482">**Replicate VM disks using Azure Site Recovery.**</span></span> <span data-ttu-id="58efa-483">Quando si esegue la replica di macchine virtuali di Azure usando [Site Recovery](/azure/site-recovery/), tutti i dischi delle macchine Virtuali vengono replicati in modo continuo all'area di destinazione in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="58efa-483">When you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="58efa-484">I punti di ripristino vengono creati a intervalli di pochi minuti.</span><span class="sxs-lookup"><span data-stu-id="58efa-484">The recovery points are created every few minutes.</span></span> <span data-ttu-id="58efa-485">In questo modo è un valore RPO nell'ordine di minuti.</span><span class="sxs-lookup"><span data-stu-id="58efa-485">This gives you an RPO on the order of minutes.</span></span>
- <span data-ttu-id="58efa-486">**Eseguire il backup di SQL Server in esecuzione nelle VM o configurare una sessione di log shipping.**</span><span class="sxs-lookup"><span data-stu-id="58efa-486">**Back up SQL Server running on VMs or configure a log-shipping session.**</span></span> <span data-ttu-id="58efa-487">In caso di esecuzione di SQL Server in VM, sono disponibili due opzioni: backup tradizionali e log shipping.</span><span class="sxs-lookup"><span data-stu-id="58efa-487">For SQL Server running on VMs, there are two options: traditional backups and log shipping.</span></span> <span data-ttu-id="58efa-488">I backup tradizionali consentono di ripristinare a uno specifico punto nel tempo, ma il processo di recupero è lento.</span><span class="sxs-lookup"><span data-stu-id="58efa-488">Traditional backups enable you to restore to a specific point in time, but the recovery process is slow.</span></span> <span data-ttu-id="58efa-489">Il ripristino dei backup tradizionali, è necessario iniziare con un backup completo iniziale e quindi applicare i backup eseguiti successivamente.</span><span class="sxs-lookup"><span data-stu-id="58efa-489">Restoring traditional backups requires that you start with an initial full backup and then apply any backups taken after that.</span></span> <span data-ttu-id="58efa-490">La seconda opzione consiste nel configurare una sessione di log shipping per ritardare il ripristino dei backup del log (ad esempio, di due ore).</span><span class="sxs-lookup"><span data-stu-id="58efa-490">The second option is to configure a log-shipping session to delay the restore of log backups (for example, by two hours).</span></span> <span data-ttu-id="58efa-491">in modo da disporre di una finestra per il ripristino da errori nel server primario.</span><span class="sxs-lookup"><span data-stu-id="58efa-491">This provides a window to recover from errors made on the primary.</span></span>
- <span data-ttu-id="58efa-492">**Usare un processo personalizzato o uno strumento di terze parti per il backup di archiviazione di Azure.**</span><span class="sxs-lookup"><span data-stu-id="58efa-492">**Use a custom process or third-party tool for Azure Storage backup.**</span></span> <span data-ttu-id="58efa-493">Archiviazione di Azure, è possibile sviluppare un processo di backup personalizzato o usare uno strumento di backup di terze parti.</span><span class="sxs-lookup"><span data-stu-id="58efa-493">For Azure Storage, you can develop a custom backup process or use a third-party backup tool.</span></span> <span data-ttu-id="58efa-494">La maggior parte delle progettazioni di applicazioni hanno complessità aggiuntive, in cui archiviazione di risorse fanno riferimento a altro.</span><span class="sxs-lookup"><span data-stu-id="58efa-494">Most application designs have additional complexities, in which storage resources reference each other.</span></span> <span data-ttu-id="58efa-495">Si consideri ad esempio un database SQL con una colonna che si collega a un blob in archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="58efa-495">For example, consider a SQL database with a column that links to a blob in Azure Storage.</span></span> <span data-ttu-id="58efa-496">Se i backup non vengono eseguiti contemporaneamente, è possibile che il database contenga il puntatore a un BLOB di cui non è stato eseguito il backup prima dell'errore.</span><span class="sxs-lookup"><span data-stu-id="58efa-496">If the backups do not happen simultaneously, the database might have a pointer to a blob that was not backed up before the failure.</span></span> <span data-ttu-id="58efa-497">L'applicazione o il piano di ripristino di emergenza devono implementare i processi per la gestione di questa incoerenza dopo un ripristino.</span><span class="sxs-lookup"><span data-stu-id="58efa-497">The application or disaster recovery plan must implement processes to handle this inconsistency after a recovery.</span></span>
- <span data-ttu-id="58efa-498">**Per altre piattaforme di dati ospitati nelle macchine virtuali, usare la replica nativa o le funzionalità di snapshot.**</span><span class="sxs-lookup"><span data-stu-id="58efa-498">**Use the native replication or snapshot capabilities for other data platforms hosted on VMs.**</span></span> <span data-ttu-id="58efa-499">Altre piattaforme di dati, ad esempio Elasticsearch o MongoDB, hanno le proprie funzionalità e considerazioni durante la creazione di un backup integrato e processo di ripristino.</span><span class="sxs-lookup"><span data-stu-id="58efa-499">Other data platforms, such as Elasticsearch or MongoDB, have their own capabilities and considerations when creating an integrated backup and restore process.</span></span> <span data-ttu-id="58efa-500">Per queste piattaforme di dati, la raccomandazione generale consiste nell'usare qualsiasi replica nativa o disponibile basata sull'integrazione o funzionalità di snapshot.</span><span class="sxs-lookup"><span data-stu-id="58efa-500">For these data platforms, the general recommendation is to use any native or available integration-based replication or snapshot capabilities.</span></span> <span data-ttu-id="58efa-501">Se tali funzionalità non esistono o non sono adatti, considerare l'utilizzo degli snapshot di Backup di Azure o del disco per creare una copia di point-in-time di dati dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="58efa-501">If those capabilities don't exist or aren't suitable, consider using Azure Backup or disk snapshots to create a point-in-time copy of application data.</span></span> <span data-ttu-id="58efa-502">In tutti i casi, è importante determinare come eseguire backup coerenti, soprattutto quando i dati dell'applicazione si estende su più sistemi di file o più unità sono combinate in un singolo file system.</span><span class="sxs-lookup"><span data-stu-id="58efa-502">In all cases, it's important to determine how to achieve consistent backups, especially when application data spans multiple files systems or multiple drives are combined into a single file system.</span></span>
- <span data-ttu-id="58efa-503">**Comprendere i metodi di replica per le origini dati dell'applicazione.**</span><span class="sxs-lookup"><span data-stu-id="58efa-503">**Understand the replication methods for your application's data sources.**</span></span> <span data-ttu-id="58efa-504">I dati dell'applicazione verranno archiviati in origini dati diverse e verranno hanno diversi requisiti di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="58efa-504">Your application data will be stored in different data sources and will have varied availability requirements.</span></span> <span data-ttu-id="58efa-505">Valutare i metodi di replica per ogni tipo di archiviazione dei dati in Azure, tra cui [ridondanza di archiviazione di Azure](/azure/storage/storage-redundancy/) e [Database SQL la replica geografica attiva](/azure/sql-database/sql-database-geo-replication-overview/) per assicurarsi che l'applicazione dei dati i requisiti sono soddisfatti.</span><span class="sxs-lookup"><span data-stu-id="58efa-505">Evaluate the replication methods for each type of data storage in Azure, including [Azure Storage redundancy](/azure/storage/storage-redundancy/) and [SQL Database active geo-replication](/azure/sql-database/sql-database-geo-replication-overview/) to ensure that your application's data requirements are satisfied.</span></span> <span data-ttu-id="58efa-506">Se si replicano macchine virtuali di Azure usando [Site Recovery](/azure/site-recovery/), tutti i dischi delle macchine Virtuali vengono replicati in modo continuo all'area di destinazione in modo asincrono.</span><span class="sxs-lookup"><span data-stu-id="58efa-506">If you replicate Azure VMs using [Site Recovery](/azure/site-recovery/), all the VM disks are continuously replicated to the target region asynchronously.</span></span> <span data-ttu-id="58efa-507">I punti di ripristino vengono creati a intervalli di pochi minuti.</span><span class="sxs-lookup"><span data-stu-id="58efa-507">The recovery points are created every few minutes.</span></span>
- <span data-ttu-id="58efa-508">**Stabilire strategie dei dati per il ripristino di emergenza.**</span><span class="sxs-lookup"><span data-stu-id="58efa-508">**Establish data strategies for disaster recovery.**</span></span> <span data-ttu-id="58efa-509">Gestione corretta dei dati è un aspetto complesso di qualsiasi piano di ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="58efa-509">Proper data handling is a challenging aspect of any disaster recovery plan.</span></span> <span data-ttu-id="58efa-510">Durante il processo di ripristino, il recupero dei dati richiede in genere più tempo.</span><span class="sxs-lookup"><span data-stu-id="58efa-510">During the recovery process, data restoration typically takes the most time.</span></span> <span data-ttu-id="58efa-511">Opzioni diverse per la modalità con funzionalità ridotte implicano sfide complesse per il recupero dei dati e coerenza.</span><span class="sxs-lookup"><span data-stu-id="58efa-511">Different choices for reducing functionality result in difficult challenges for data recovery and consistency.</span></span>

## <a name="next-steps"></a><span data-ttu-id="58efa-512">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="58efa-512">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="58efa-513">Test per la resilienza e disponibilità</span><span class="sxs-lookup"><span data-stu-id="58efa-513">Test for resiliency and availability</span></span>](./testing.md)
