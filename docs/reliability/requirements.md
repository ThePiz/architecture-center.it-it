---
title: Definizione dei requisiti per applicazioni Azure resilienti
description: Panoramica della raccolta dei requisiti di disponibilità e resilienza per le applicazioni Azure
author: MikeWasson
ms.date: 04/10/2019
ms.topic: article
ms.service: architecture-center
ms.subservice: cloud-design-principles
ms.openlocfilehash: 2af2ce4200c285abfda1395862d21efc3c17e577
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/17/2019
ms.locfileid: "59646629"
---
# <a name="developing-requirements-for-resilient-azure-applications"></a><span data-ttu-id="65b59-103">Sviluppo di requisiti per applicazioni Azure resilienti</span><span class="sxs-lookup"><span data-stu-id="65b59-103">Developing requirements for resilient Azure applications</span></span>

<span data-ttu-id="65b59-104">Creazione *resilienza* (ripristino da errori) e *disponibilità* (in esecuzione in uno stato integro senza tempi di inattività significativi) nelle tue App inizia con la raccolta di requisiti.</span><span class="sxs-lookup"><span data-stu-id="65b59-104">Building *resiliency* (recovering from failures) and *availability* (running in a healthy state without significant downtime) into your apps begins with gathering requirements.</span></span> <span data-ttu-id="65b59-105">Ad esempio, quanto tempo di inattività è accettabile?</span><span class="sxs-lookup"><span data-stu-id="65b59-105">For example, how much downtime is acceptable?</span></span> <span data-ttu-id="65b59-106">Quanto costa potenziali tempi di inattività sul tuo business?</span><span class="sxs-lookup"><span data-stu-id="65b59-106">How much does potential downtime cost your business?</span></span> <span data-ttu-id="65b59-107">Quali sono i requisiti di disponibilità del tuo cliente?</span><span class="sxs-lookup"><span data-stu-id="65b59-107">What are your customer's availability requirements?</span></span> <span data-ttu-id="65b59-108">Quanto investire per rendere l'applicazione a disponibilità elevata?</span><span class="sxs-lookup"><span data-stu-id="65b59-108">How much do you invest in making your application highly available?</span></span> <span data-ttu-id="65b59-109">Che cos'è il rischio e il costo?</span><span class="sxs-lookup"><span data-stu-id="65b59-109">What is the risk versus the cost?</span></span>

## <a name="identify-distinct-workloads"></a><span data-ttu-id="65b59-110">Identificare i carichi di lavoro distinti</span><span class="sxs-lookup"><span data-stu-id="65b59-110">Identify distinct workloads</span></span>

<span data-ttu-id="65b59-111">Soluzioni cloud in genere costituiti da più applicazioni *carichi di lavoro*.</span><span class="sxs-lookup"><span data-stu-id="65b59-111">Cloud solutions typically consist of multiple application *workloads*.</span></span> <span data-ttu-id="65b59-112">Un carico di lavoro è una funzionalità distinte o attività che è logicamente separata da altre attività in termini di requisiti di archiviazione per la logica e i dati aziendali.</span><span class="sxs-lookup"><span data-stu-id="65b59-112">A workload is a distinct capability or task that is logically separated from other tasks in terms of business logic and data storage requirements.</span></span> <span data-ttu-id="65b59-113">Un'applicazione di e-commerce, ad esempio, potrebbe essere carichi di lavoro seguenti:</span><span class="sxs-lookup"><span data-stu-id="65b59-113">For example, an e-commerce app might have the following workloads:</span></span>

- <span data-ttu-id="65b59-114">Esplorare e cercare un catalogo di prodotti.</span><span class="sxs-lookup"><span data-stu-id="65b59-114">Browse and search a product catalog.</span></span>
- <span data-ttu-id="65b59-115">Creare e tenere traccia degli ordini.</span><span class="sxs-lookup"><span data-stu-id="65b59-115">Create and track orders.</span></span>
- <span data-ttu-id="65b59-116">Visualizzare le raccomandazioni.</span><span class="sxs-lookup"><span data-stu-id="65b59-116">View recommendations.</span></span>

<span data-ttu-id="65b59-117">Ogni carico di lavoro ha requisiti diversi per la disponibilità, scalabilità, coerenza dei dati e il ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="65b59-117">Each workload has different requirements for availability, scalability, data consistency, and disaster recovery.</span></span> <span data-ttu-id="65b59-118">Prendere le decisioni aziendali mediante il bilanciamento tra costi e rischi per ogni carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="65b59-118">Make your business decisions by balancing cost versus risk for each workload.</span></span>

<span data-ttu-id="65b59-119">Anche scomporre i carichi di lavoro da obiettivo del livello di servizio.</span><span class="sxs-lookup"><span data-stu-id="65b59-119">Also decompose workloads by service-level objective.</span></span> <span data-ttu-id="65b59-120">Se un servizio è composto da carichi di lavoro critici e meno critici, gestirli in modo diverso e specificare le funzionalità del servizio e il numero di istanze necessarie per soddisfare i requisiti di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="65b59-120">If a service is composed of critical and less-critical workloads, manage them differently and specify the service features and number of instances needed to meet their availability requirements.</span></span>

## <a name="plan-for-usage-patterns"></a><span data-ttu-id="65b59-121">Piano per i modelli di utilizzo</span><span class="sxs-lookup"><span data-stu-id="65b59-121">Plan for usage patterns</span></span>

<span data-ttu-id="65b59-122">Identificare le differenze nei requisiti durante i periodi critici e non critici.</span><span class="sxs-lookup"><span data-stu-id="65b59-122">Identify differences in requirements during critical and non-critical periods.</span></span> <span data-ttu-id="65b59-123">esistono determinati periodi critici in cui il sistema deve essere disponibile?</span><span class="sxs-lookup"><span data-stu-id="65b59-123">Are there certain critical periods when the system must be available?</span></span> <span data-ttu-id="65b59-124">Ad esempio, un'applicazione di redditi non può non riuscire durante un'entro la scadenza e un servizio di streaming di video non deve rimanere durante un evento live.</span><span class="sxs-lookup"><span data-stu-id="65b59-124">For example, a tax-filing application can't fail during a filing deadline and a video streaming service shouldn't lag during a live event.</span></span> <span data-ttu-id="65b59-125">In queste situazioni, valutare il costo contro il rischio.</span><span class="sxs-lookup"><span data-stu-id="65b59-125">In these situations, weigh the cost against the risk.</span></span>

- <span data-ttu-id="65b59-126">Per garantire tempi di attività e soddisfare i contratti di servizio (SLA) in periodi critici, pianificare la ridondanza tra aree diverse nel caso in cui uno ha esito negativo, anche se ha un costo maggiore.</span><span class="sxs-lookup"><span data-stu-id="65b59-126">To ensure uptime and meet service-level agreements (SLAs) in critical periods, plan redundancy across several regions in case one fails, even if it costs more.</span></span>
- <span data-ttu-id="65b59-127">Viceversa, durante i periodi non critico, eseguire l'applicazione in un'unica area per ridurre al minimo i costi.</span><span class="sxs-lookup"><span data-stu-id="65b59-127">Conversely, during non-critical periods, run your application in a single region to minimize costs.</span></span>
- <span data-ttu-id="65b59-128">In alcuni casi, è possibile ridurre le spese aggiuntive usando tecniche senza server moderne con fatturazione in base al consumo.</span><span class="sxs-lookup"><span data-stu-id="65b59-128">In some cases, you can mitigate additional expenses by using modern serverless techniques that have consumption-based billing.</span></span>

## <a name="establish-availability-and-recovery-metrics"></a><span data-ttu-id="65b59-129">Stabilire le metriche di disponibilità e ripristino</span><span class="sxs-lookup"><span data-stu-id="65b59-129">Establish availability and recovery metrics</span></span>

<span data-ttu-id="65b59-130">Creare i numeri di riferimento per i due set di metriche nel quadro del processo di requisiti.</span><span class="sxs-lookup"><span data-stu-id="65b59-130">Create baseline numbers for two sets of metrics as part of the requirements process.</span></span> <span data-ttu-id="65b59-131">Il primo set aiuta a determinare la posizione in cui aggiungere ridondanza a servizi cloud e che i contratti di servizio per offrire ai clienti.</span><span class="sxs-lookup"><span data-stu-id="65b59-131">The first set helps you determine where to add redundancy to cloud services and which SLAs to provide to customers.</span></span> <span data-ttu-id="65b59-132">Il secondo set aiuta a che pianificare il ripristino di emergenza.</span><span class="sxs-lookup"><span data-stu-id="65b59-132">The second set helps you plan your disaster recovery.</span></span>

### <a name="availability-metrics"></a><span data-ttu-id="65b59-133">Metriche di disponibilità</span><span class="sxs-lookup"><span data-stu-id="65b59-133">Availability metrics</span></span>

<span data-ttu-id="65b59-134">Utilizzare queste misure per pianificare la ridondanza e determinare i contratti di servizio clienti.</span><span class="sxs-lookup"><span data-stu-id="65b59-134">Use these measures to plan for redundancy and determine customer SLAs.</span></span>

- <span data-ttu-id="65b59-135">**Tempo medio di recupero (MTTR)** è il tempo medio impiegato per ripristinare un componente dopo un errore.</span><span class="sxs-lookup"><span data-stu-id="65b59-135">**Mean time to recover (MTTR)** is the average time it takes to restore a component after a failure.</span></span>
- <span data-ttu-id="65b59-136">**Tempo medio tra errori (MTBF)** è come lungo un componente ragionevolmente possibile prevedere per ultimi tra interruzioni.</span><span class="sxs-lookup"><span data-stu-id="65b59-136">**Mean time between failures (MTBF)** is the how long a component can reasonably expect to last between outages.</span></span>

### <a name="recovery-metrics"></a><span data-ttu-id="65b59-137">Metriche di ripristino</span><span class="sxs-lookup"><span data-stu-id="65b59-137">Recovery metrics</span></span>

<span data-ttu-id="65b59-138">Tali valori derivano da condurre una valutazione dei rischi e assicurarsi di che comprendere il costo e rischio di tempi di inattività e perdita di dati.</span><span class="sxs-lookup"><span data-stu-id="65b59-138">Derive these values by conducting a risk assessment, and make sure you understand the cost and risk of downtime and data loss.</span></span> <span data-ttu-id="65b59-139">Questi sono i requisiti non funzionali di un sistema e dipende dai requisiti aziendali.</span><span class="sxs-lookup"><span data-stu-id="65b59-139">These are nonfunctional requirements of a system and should be dictated by business requirements.</span></span>

- <span data-ttu-id="65b59-140">**Obiettivo tempo di ripristino (RTO)** è il tempo massimo accettabile un'applicazione non è disponibile dopo un evento imprevisto.</span><span class="sxs-lookup"><span data-stu-id="65b59-140">**Recovery time objective (RTO)** is the maximum acceptable time an application is unavailable after an incident.</span></span>
- <span data-ttu-id="65b59-141">**Obiettivo del punto di ripristino (RPO)** è la durata massima di perdita di dati che è accettabile durante un'emergenza.</span><span class="sxs-lookup"><span data-stu-id="65b59-141">**Recovery point objective (RPO)** is the maximum duration of data loss that's acceptable during a disaster.</span></span>

<span data-ttu-id="65b59-142">Se il valore MTTR *qualsiasi* componente fondamentale in una configurazione a disponibilità elevata supera l'obiettivo RTO di sistema, un errore di sistema può causare un'interruzione delle attività inaccettabile.</span><span class="sxs-lookup"><span data-stu-id="65b59-142">If the MTTR value of *any* critical component in a highly available setup exceeds the system RTO, a failure in the system might cause an unacceptable business disruption.</span></span> <span data-ttu-id="65b59-143">Vale a dire, è possibile ripristinare il sistema entro l'obiettivo RTO definito.</span><span class="sxs-lookup"><span data-stu-id="65b59-143">That is, you can't restore the system within the defined RTO.</span></span>

## <a name="determine-workload-availability-targets"></a><span data-ttu-id="65b59-144">Determinare obiettivi di disponibilità del carico di lavoro</span><span class="sxs-lookup"><span data-stu-id="65b59-144">Determine workload availability targets</span></span>

<span data-ttu-id="65b59-145">Definire la propria destinazione i contratti di servizio per ogni carico di lavoro nella soluzione in modo che è possibile determinare se l'architettura soddisfi i requisiti aziendali.</span><span class="sxs-lookup"><span data-stu-id="65b59-145">Define your own target SLAs for each workload in your solution so you can determine whether the architecture meets the business requirements.</span></span>

### <a name="consider-cost-and-complexity"></a><span data-ttu-id="65b59-146">Prendere in considerazione la complessità e costi</span><span class="sxs-lookup"><span data-stu-id="65b59-146">Consider cost and complexity</span></span>

<span data-ttu-id="65b59-147">Tutti gli elementi parità, una disponibilità più elevata è migliore.</span><span class="sxs-lookup"><span data-stu-id="65b59-147">Everything else being equal, higher availability is better.</span></span> <span data-ttu-id="65b59-148">Tuttavia, quando si cercano altre nove, aumentare i costi e complessità.</span><span class="sxs-lookup"><span data-stu-id="65b59-148">But as you strive for more nines, the cost and complexity grow.</span></span> <span data-ttu-id="65b59-149">Un tempo di attività pari al 99,99% si traduce in circa cinque minuti di inattività totale al mese.</span><span class="sxs-lookup"><span data-stu-id="65b59-149">An uptime of 99.99% translates to about five minutes of total downtime per month.</span></span> <span data-ttu-id="65b59-150">Vale la pena la maggiore complessità e costi per raggiungere cinque nove?</span><span class="sxs-lookup"><span data-stu-id="65b59-150">Is it worth the additional complexity and cost to reach five nines?</span></span> <span data-ttu-id="65b59-151">La risposta dipende dai requisiti aziendali.</span><span class="sxs-lookup"><span data-stu-id="65b59-151">The answer depends on the business requirements.</span></span>

<span data-ttu-id="65b59-152">Di seguito sono riportate alcune altre considerazioni che emergono quando si definisce un contratto di servizio:</span><span class="sxs-lookup"><span data-stu-id="65b59-152">Here are some other considerations when defining an SLA:</span></span>

- <span data-ttu-id="65b59-153">Per ottenere una disponibilità del 99,99 (pari al 99,99%), è possibile basarsi sull'intervento manuale per correggere gli errori.</span><span class="sxs-lookup"><span data-stu-id="65b59-153">To achieve four nines (99.99%), you can't rely on manual intervention to recover from failures.</span></span> <span data-ttu-id="65b59-154">L'applicazione, infatti, deve essere in grado di eseguire automaticamente la diagnosi e la riparazione.</span><span class="sxs-lookup"><span data-stu-id="65b59-154">The application must be self-diagnosing and self-healing.</span></span>
- <span data-ttu-id="65b59-155">Oltre quattro nove, è difficile rilevare le interruzioni in modo sufficientemente rapido per soddisfare il contratto di servizio.</span><span class="sxs-lookup"><span data-stu-id="65b59-155">Beyond four nines, it's challenging to detect outages quickly enough to meet the SLA.</span></span>
- <span data-ttu-id="65b59-156">Si pensi all'intervallo di tempo rispetto al quale viene misurato il contratto di servizio:</span><span class="sxs-lookup"><span data-stu-id="65b59-156">Think about the time window that your SLA is measured against.</span></span> <span data-ttu-id="65b59-157">minore è la finestra, più ristretto sarà il livello di tolleranza.</span><span class="sxs-lookup"><span data-stu-id="65b59-157">The smaller the window, the tighter the tolerances.</span></span> <span data-ttu-id="65b59-158">Non ha senso definire il contratto di servizio in termini di tempo di attività oraria o giornaliera.</span><span class="sxs-lookup"><span data-stu-id="65b59-158">It doesn't make sense to define your SLA in terms of hourly or daily uptime.</span></span>
- <span data-ttu-id="65b59-159">Prendere in considerazione le misurazioni MTBF e MTTR.</span><span class="sxs-lookup"><span data-stu-id="65b59-159">Consider the MTBF and MTTR measurements.</span></span> <span data-ttu-id="65b59-160">Maggiore sarà il contratto di servizio, meno spesso il servizio può scendere e in termini economici necessario ripristinare il servizio.</span><span class="sxs-lookup"><span data-stu-id="65b59-160">The higher your SLA, the less frequently the service can go down and the quicker the service must recover.</span></span>
- <span data-ttu-id="65b59-161">Ottieni contratto dai tuoi clienti gli obiettivi di disponibilità di tutti i dati dell'applicazione e la documentazione.</span><span class="sxs-lookup"><span data-stu-id="65b59-161">Get agreement from your customers for the availability targets of each piece of your application, and document it.</span></span> <span data-ttu-id="65b59-162">In caso contrario, la progettazione potrebbe non soddisfare le aspettative dei clienti.</span><span class="sxs-lookup"><span data-stu-id="65b59-162">Otherwise, your design may not meet the customers' expectations.</span></span>

### <a name="identify-dependencies"></a><span data-ttu-id="65b59-163">Identificare le dipendenze</span><span class="sxs-lookup"><span data-stu-id="65b59-163">Identify dependencies</span></span>

<span data-ttu-id="65b59-164">Eseguire gli esercizi di mapping delle dipendenze per identificare le dipendenze interne ed esterne.</span><span class="sxs-lookup"><span data-stu-id="65b59-164">Perform dependency-mapping exercises to identify internal and external dependencies.</span></span> <span data-ttu-id="65b59-165">Gli esempi includono le dipendenze relative alla sicurezza o l'identità, quali Active Directory o i servizi di terze parti, ad esempio un provider di pagamenti o servizio di messaggistica di posta elettronica.</span><span class="sxs-lookup"><span data-stu-id="65b59-165">Examples include dependencies relating to security or identity, such as Active Directory, or third-party services such as a payment provider or e-mail messaging service.</span></span>

<span data-ttu-id="65b59-166">Prestare particolare attenzione alle dipendenze esterne che potrebbe essere un singolo punto di guasto o causare colli di bottiglia.</span><span class="sxs-lookup"><span data-stu-id="65b59-166">Pay particular attention to external dependencies that might be a single point of failure or cause bottlenecks.</span></span> <span data-ttu-id="65b59-167">Se un carico di lavoro richiede tempi di attività pari al 99,99%, ma dipende da un servizio con un contratto di servizio del 99,9%, tale servizio non può essere un singolo punto di guasto nel sistema.</span><span class="sxs-lookup"><span data-stu-id="65b59-167">If a workload requires 99.99% uptime but depends on a service with a 99.9% SLA, that service can't be a single point of failure in the system.</span></span> <span data-ttu-id="65b59-168">Un rimedio è avere un percorso di fallback nel caso in cui il servizio ha esito negativo.</span><span class="sxs-lookup"><span data-stu-id="65b59-168">One remedy is to have a fallback path in case the service fails.</span></span> <span data-ttu-id="65b59-169">In alternativa, intraprenda altre misure per il ripristino da un errore nel servizio.</span><span class="sxs-lookup"><span data-stu-id="65b59-169">Alternatively, take other measures to recover from a failure in that service.</span></span>

<span data-ttu-id="65b59-170">La tabella seguente illustra il potenziale tempo totale di inattività per vari livelli di contratto di servizio.</span><span class="sxs-lookup"><span data-stu-id="65b59-170">The following table shows the potential cumulative downtime for various SLA levels.</span></span>

| <span data-ttu-id="65b59-171">**Contratto di servizio**</span><span class="sxs-lookup"><span data-stu-id="65b59-171">**SLA**</span></span> | <span data-ttu-id="65b59-172">**Tempo di inattività settimanale**</span><span class="sxs-lookup"><span data-stu-id="65b59-172">**Downtime per week**</span></span> | <span data-ttu-id="65b59-173">**Tempo di inattività al mese**</span><span class="sxs-lookup"><span data-stu-id="65b59-173">**Downtime per month**</span></span> | <span data-ttu-id="65b59-174">**Tempo di inattività annuale**</span><span class="sxs-lookup"><span data-stu-id="65b59-174">**Downtime per year**</span></span> |
|---------|-----------------------|------------------------|-----------------------|
| <span data-ttu-id="65b59-175">99%</span><span class="sxs-lookup"><span data-stu-id="65b59-175">99%</span></span>     | <span data-ttu-id="65b59-176">1,68 ore</span><span class="sxs-lookup"><span data-stu-id="65b59-176">1.68 hours</span></span>            | <span data-ttu-id="65b59-177">7,2 ore</span><span class="sxs-lookup"><span data-stu-id="65b59-177">7.2 hours</span></span>              | <span data-ttu-id="65b59-178">3,65 giorni</span><span class="sxs-lookup"><span data-stu-id="65b59-178">3.65 days</span></span>             |
| <span data-ttu-id="65b59-179">99,9%</span><span class="sxs-lookup"><span data-stu-id="65b59-179">99.9%</span></span>   | <span data-ttu-id="65b59-180">10,1 minuti</span><span class="sxs-lookup"><span data-stu-id="65b59-180">10.1 minutes</span></span>          | <span data-ttu-id="65b59-181">43,2 minuti</span><span class="sxs-lookup"><span data-stu-id="65b59-181">43.2 minutes</span></span>           | <span data-ttu-id="65b59-182">8,76 ore</span><span class="sxs-lookup"><span data-stu-id="65b59-182">8.76 hours</span></span>            |
| <span data-ttu-id="65b59-183">99,95%</span><span class="sxs-lookup"><span data-stu-id="65b59-183">99.95%</span></span>  | <span data-ttu-id="65b59-184">5 minuti</span><span class="sxs-lookup"><span data-stu-id="65b59-184">5 minutes</span></span>             | <span data-ttu-id="65b59-185">21,6 minuti</span><span class="sxs-lookup"><span data-stu-id="65b59-185">21.6 minutes</span></span>           | <span data-ttu-id="65b59-186">4,38 ore</span><span class="sxs-lookup"><span data-stu-id="65b59-186">4.38 hours</span></span>            |
| <span data-ttu-id="65b59-187">99,99%</span><span class="sxs-lookup"><span data-stu-id="65b59-187">99.99%</span></span>  | <span data-ttu-id="65b59-188">1,01 minuti</span><span class="sxs-lookup"><span data-stu-id="65b59-188">1.01 minutes</span></span>          | <span data-ttu-id="65b59-189">4,32 minuti</span><span class="sxs-lookup"><span data-stu-id="65b59-189">4.32 minutes</span></span>           | <span data-ttu-id="65b59-190">52,56 minuti</span><span class="sxs-lookup"><span data-stu-id="65b59-190">52.56 minutes</span></span>         |
| <span data-ttu-id="65b59-191">99,999%</span><span class="sxs-lookup"><span data-stu-id="65b59-191">99.999%</span></span> | <span data-ttu-id="65b59-192">6 secondi</span><span class="sxs-lookup"><span data-stu-id="65b59-192">6 seconds</span></span>             | <span data-ttu-id="65b59-193">25,9 secondi</span><span class="sxs-lookup"><span data-stu-id="65b59-193">25.9 seconds</span></span>           | <span data-ttu-id="65b59-194">5,26 minuti</span><span class="sxs-lookup"><span data-stu-id="65b59-194">5.26 minutes</span></span>          |

## <a name="understand-service-level-agreements"></a><span data-ttu-id="65b59-195">Comprendere i contratti di servizio</span><span class="sxs-lookup"><span data-stu-id="65b59-195">Understand service-level agreements</span></span>

<span data-ttu-id="65b59-196">In Azure, il [contratto di servizio](https://azure.microsoft.com/en-us/support/legal/sla/) impegni di Microsoft per il tempo di attività e connettività.</span><span class="sxs-lookup"><span data-stu-id="65b59-196">In Azure, the [Service Level Agreement](https://azure.microsoft.com/en-us/support/legal/sla/) describes Microsoft's commitments for uptime and connectivity.</span></span> <span data-ttu-id="65b59-197">Se il contratto di servizio per un determinato servizio è pari al 99,9%, è necessario prevedere che il servizio sia disponibile il 99,9% del tempo.</span><span class="sxs-lookup"><span data-stu-id="65b59-197">If the SLA for a particular service is 99.9%, you should expect the service to be available 99.9% of the time.</span></span> <span data-ttu-id="65b59-198">Servizi differenti presentano diversi contratti di servizio.</span><span class="sxs-lookup"><span data-stu-id="65b59-198">Different services have different SLAs.</span></span>

<span data-ttu-id="65b59-199">Il contratto di servizio di Azure include anche solo indicazioni per ottenere un credito di servizio se il contratto di servizio non viene soddisfatta, insieme a definizioni specifiche di *disponibilità* per ogni servizio.</span><span class="sxs-lookup"><span data-stu-id="65b59-199">The Azure SLA also includes provisions for obtaining a service credit if the SLA is not met, along with specific definitions of *availability* for each service.</span></span> <span data-ttu-id="65b59-200">Questo aspetto del contratto di servizio funge da criterio di imposizione.</span><span class="sxs-lookup"><span data-stu-id="65b59-200">That aspect of the SLA acts as an enforcement policy.</span></span>

### <a name="composite-slas"></a><span data-ttu-id="65b59-201">Contratti di servizio compositi</span><span class="sxs-lookup"><span data-stu-id="65b59-201">Composite SLAs</span></span>

<span data-ttu-id="65b59-202">*I contratti di servizio compositi* interessare più servizi che supportano un'applicazione, ognuno con diversi livelli di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="65b59-202">*Composite SLAs* involve multiple services supporting an application, each with differing levels of availability.</span></span> <span data-ttu-id="65b59-203">Si consideri ad esempio un'app web del servizio App che scrive nel Database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="65b59-203">For example, consider an App Service web app that writes to Azure SQL Database.</span></span> <span data-ttu-id="65b59-204">Al momento della redazione del presente documento, tali servizi Azure dispongono dei contratti di servizio seguenti:</span><span class="sxs-lookup"><span data-stu-id="65b59-204">At the time of this writing, these Azure services have the following SLAs:</span></span>

- <span data-ttu-id="65b59-205">App web del servizio App = 99,95%</span><span class="sxs-lookup"><span data-stu-id="65b59-205">App Service web apps = 99.95%</span></span>
- <span data-ttu-id="65b59-206">Database SQL = 99,99%</span><span class="sxs-lookup"><span data-stu-id="65b59-206">SQL Database = 99.99%</span></span>

<span data-ttu-id="65b59-207">A quanto corrisponde il tempo di inattività massimo che ci si aspetta da questa applicazione?</span><span class="sxs-lookup"><span data-stu-id="65b59-207">What is the maximum downtime you would expect for this application?</span></span> <span data-ttu-id="65b59-208">Se il servizio presenta errori, di conseguenza l'intera applicazione presenterà errori.</span><span class="sxs-lookup"><span data-stu-id="65b59-208">If either service fails, the whole application fails.</span></span> <span data-ttu-id="65b59-209">La probabilità di ogni interruzione del servizio è indipendente, pertanto il contratto di servizio composito per l'applicazione è pari al 99,95% × pari al 99,99% = 99,94%.</span><span class="sxs-lookup"><span data-stu-id="65b59-209">The probability of each service failing is independent, so the composite SLA for this application is 99.95% × 99.99% = 99.94%.</span></span> <span data-ttu-id="65b59-210">È inferiore ai singoli contratti di servizio, che non è sorprendente perché un'applicazione che si basa su più servizi dispone di più punti di errore potenziali.</span><span class="sxs-lookup"><span data-stu-id="65b59-210">That's lower than the individual SLAs, which isn't surprising because an application that relies on multiple services has more potential failure points.</span></span>

<span data-ttu-id="65b59-211">È possibile migliorare il contratto di servizio composito creando percorsi di fallback indipendenti.</span><span class="sxs-lookup"><span data-stu-id="65b59-211">You can improve the composite SLA by creating independent fallback paths.</span></span> <span data-ttu-id="65b59-212">Ad esempio, se il Database SQL è disponibile, inserire le transazioni in una coda per l'elaborazione successiva.</span><span class="sxs-lookup"><span data-stu-id="65b59-212">For example, if SQL Database is unavailable, put transactions into a queue to be processed later.</span></span>

![Contratto di servizio composito](_images/composite-sla.png)

<span data-ttu-id="65b59-214">Con questa struttura, l'applicazione è ancora disponibile anche se non si può connettere al database.</span><span class="sxs-lookup"><span data-stu-id="65b59-214">With this design, the application is still available even if it can't connect to the database.</span></span> <span data-ttu-id="65b59-215">Tuttavia, se la coda e il database si interrompono allo stesso tempo, l'applicazione si interromperà.</span><span class="sxs-lookup"><span data-stu-id="65b59-215">However, it fails if the database and the queue both fail at the same time.</span></span> <span data-ttu-id="65b59-216">La percentuale di tempo per un errore simultaneo prevista è 0,0001 × 0,001 e pertanto il contratto di servizio composito per questo percorso combinato è:</span><span class="sxs-lookup"><span data-stu-id="65b59-216">The expected percentage of time for a simultaneous failure is 0.0001 × 0.001, so the composite SLA for this combined path is:</span></span>

- <span data-ttu-id="65b59-217">Database *o* coda = 1,0 − (0,0001 × 0,001) = 99,99999%</span><span class="sxs-lookup"><span data-stu-id="65b59-217">Database *or* queue = 1.0 − (0.0001 × 0.001) = 99.99999%</span></span>

<span data-ttu-id="65b59-218">Il contratto di servizio composito totale è:</span><span class="sxs-lookup"><span data-stu-id="65b59-218">The total composite SLA is:</span></span>

- <span data-ttu-id="65b59-219">App Web *e* (database *oppure* coda) = 99,95% × 99,99999% = \~pari al 99,95%</span><span class="sxs-lookup"><span data-stu-id="65b59-219">Web app *and* (database *or* queue) = 99.95% × 99.99999% = \~99.95%</span></span>

<span data-ttu-id="65b59-220">Sussistono compromessi di questo approccio.</span><span class="sxs-lookup"><span data-stu-id="65b59-220">There are tradeoffs to this approach.</span></span> <span data-ttu-id="65b59-221">La logica dell'applicazione è più complessa e si sta pagando per la coda è necessario considerare problemi di coerenza dei dati.</span><span class="sxs-lookup"><span data-stu-id="65b59-221">The application logic is more complex, you are paying for the queue, and you need to consider data consistency issues.</span></span>

### <a name="slas-for-multiregion-deployments"></a><span data-ttu-id="65b59-222">Contratti di servizio per le distribuzioni multiarea</span><span class="sxs-lookup"><span data-stu-id="65b59-222">SLAs for multiregion deployments</span></span>

<span data-ttu-id="65b59-223">*I contratti di servizio per le distribuzioni multiarea* comportano una tecnica a disponibilità elevata per distribuire l'applicazione in più aree e usare Gestione traffico di Azure per eseguire il failover se l'applicazione non riesce in un'unica area.</span><span class="sxs-lookup"><span data-stu-id="65b59-223">*SLAs for multiregion deployments* involve a high-availability technique to deploy the application in more than one region and use Azure Traffic Manager to fail over if the application fails in one region.</span></span>

<span data-ttu-id="65b59-224">Il contratto di servizio composito per una distribuzione multiarea viene calcolata come segue:</span><span class="sxs-lookup"><span data-stu-id="65b59-224">The composite SLA for a multiregion deployment is calculated as follows:</span></span>

- <span data-ttu-id="65b59-225">*N* è il contratto di servizio composito per l'applicazione distribuita in un'unica area.</span><span class="sxs-lookup"><span data-stu-id="65b59-225">*N* is the composite SLA for the application deployed in one region.</span></span>
- <span data-ttu-id="65b59-226">*R* è il numero di aree in cui l'applicazione viene distribuita.</span><span class="sxs-lookup"><span data-stu-id="65b59-226">*R* is the number of regions where the application is deployed.</span></span>

<span data-ttu-id="65b59-227">È la probabilità prevista che l'applicazione non riesce in tutte le aree allo stesso tempo ((1 − N) \^ R).</span><span class="sxs-lookup"><span data-stu-id="65b59-227">The expected chance that the application fails in all regions at the same time is ((1 − N) \^ R).</span></span> <span data-ttu-id="65b59-228">Ad esempio, se il contratto di servizio singola area è pari al 99,95%:</span><span class="sxs-lookup"><span data-stu-id="65b59-228">For example, if the single-region SLA is 99.95%:</span></span>

- <span data-ttu-id="65b59-229">Il contratto di servizio combinato per due aree = (1 − (1 − 0.9995) \^ 2) = % 99.999975</span><span class="sxs-lookup"><span data-stu-id="65b59-229">The combined SLA for two regions = (1 − (1 − 0.9995) \^ 2) = 99.999975%</span></span>
- <span data-ttu-id="65b59-230">Il contratto di servizio combinato per quattro aree = (1 − (1 − 0.9995) \^ 4) = % 99.999999</span><span class="sxs-lookup"><span data-stu-id="65b59-230">The combined SLA for four regions =  (1 − (1 − 0.9995) \^ 4)  = 99.999999%</span></span>

<span data-ttu-id="65b59-231">Il [contratto di servizio per Traffic Manager](https://azure.microsoft.com/en-us/support/legal/sla/traffic-manager/v1_0/) è inoltre un fattore.</span><span class="sxs-lookup"><span data-stu-id="65b59-231">The [SLA for Traffic Manager](https://azure.microsoft.com/en-us/support/legal/sla/traffic-manager/v1_0/) is also a factor.</span></span> <span data-ttu-id="65b59-232">Il failover non è istantaneo nelle configurazioni di tipo attivo / passivo, che possono comportare tempi di inattività durante un failover.</span><span class="sxs-lookup"><span data-stu-id="65b59-232">Failing over is not instantaneous in active-passive configurations, which can result in downtime during a failover.</span></span> <span data-ttu-id="65b59-233">Visualizzare [monitoraggio degli endpoint di gestione traffico e failover](/azure/traffic-manager/traffic-manager-monitoring).</span><span class="sxs-lookup"><span data-stu-id="65b59-233">See [Traffic Manager endpoint monitoring and failover](/azure/traffic-manager/traffic-manager-monitoring).</span></span>

## <a name="next-steps"></a><span data-ttu-id="65b59-234">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="65b59-234">Next steps</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="65b59-235">Architetto per la resilienza e disponibilità</span><span class="sxs-lookup"><span data-stu-id="65b59-235">Architect for resiliency and availability</span></span>](./architect.md)
