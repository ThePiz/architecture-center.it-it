---
title: Eseguire una macchina virtuale Linux in Azure
description: "Informazioni su come eseguire una VM in Azure, con particolare attenzione a scalabilità, resilienza, gestibilità e sicurezza."
author: telmosampaio
ms.date: 09/06/2017
pnp.series.title: Linux VM workloads
pnp.series.next: multi-vm
pnp.series.prev: ./index
ms.openlocfilehash: f38c53db5df1681a1abc926df9f0b7f929ceb76b
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 11/14/2017
---
# <a name="run-a-linux-vm-on-azure"></a><span data-ttu-id="72e12-103">Eseguire una macchina virtuale Linux in Azure</span><span class="sxs-lookup"><span data-stu-id="72e12-103">Run a Linux VM on Azure</span></span>

<span data-ttu-id="72e12-104">Questa architettura di riferimento mostra un set di procedure consolidate per l'esecuzione di una macchina virtuale Linux in Azure.</span><span class="sxs-lookup"><span data-stu-id="72e12-104">This reference architecture shows a set of proven practices for running a Linux virtual machine (VM) on Azure.</span></span> <span data-ttu-id="72e12-105">Include suggerimenti per il provisioning della macchina virtuale insieme ai componenti di rete e archiviazione.</span><span class="sxs-lookup"><span data-stu-id="72e12-105">It includes recommendations for provisioning the VM along with networking and storage components.</span></span> <span data-ttu-id="72e12-106">Questa architettura può essere usata per eseguire un'istanza singola ed è la base per architetture più complesse come le applicazioni a più livelli.</span><span class="sxs-lookup"><span data-stu-id="72e12-106">This architecture can be used to run a single instance, and is the basis for more complex architectures such as n-tier applications.</span></span> [<span data-ttu-id="72e12-107">**Distribuire questa soluzione**.</span><span class="sxs-lookup"><span data-stu-id="72e12-107">**Deploy this solution**.</span></span>](#deploy-the-solution)

<span data-ttu-id="72e12-108">![[0]][0]</span><span class="sxs-lookup"><span data-stu-id="72e12-108">![[0]][0]</span></span>

<span data-ttu-id="72e12-109">*Scaricare un [file di Visio][visio-download] di questa architettura.*</span><span class="sxs-lookup"><span data-stu-id="72e12-109">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="72e12-110">Architettura</span><span class="sxs-lookup"><span data-stu-id="72e12-110">Architecture</span></span>

<span data-ttu-id="72e12-111">Il provisioning di una VM in Azure coinvolge un altri componenti mobili oltre alla VM in sé.</span><span class="sxs-lookup"><span data-stu-id="72e12-111">Provisioning a VM in Azure involves more moving parts than just the VM itself.</span></span> <span data-ttu-id="72e12-112">È necessario prendere in considerazione elementi di calcolo, di rete e archiviazione.</span><span class="sxs-lookup"><span data-stu-id="72e12-112">There are compute, networking, and storage elements that you need to consider.</span></span>

* <span data-ttu-id="72e12-113">**Gruppo di risorse.**</span><span class="sxs-lookup"><span data-stu-id="72e12-113">**Resource group.**</span></span> <span data-ttu-id="72e12-114">Un [*gruppo di risorse*][resource-manager-overview] è un contenitore in cui risiedono le risorse correlate.</span><span class="sxs-lookup"><span data-stu-id="72e12-114">A [*resource group*][resource-manager-overview] is a container that holds related resources.</span></span> <span data-ttu-id="72e12-115">In genere si creano gruppi di risorse per diverse risorse in una soluzione in base alla loro durata e alle persone che le gestiranno.</span><span class="sxs-lookup"><span data-stu-id="72e12-115">You usually create resource groups for different resources in a solution based on their lifetime, and who will manage the resources.</span></span> <span data-ttu-id="72e12-116">Per il carico di lavoro di una singola macchina virtuale è possibile creare un unico gruppo di risorse per tutte le risorse.</span><span class="sxs-lookup"><span data-stu-id="72e12-116">For a single VM workload, you may create a single resource group for all resources.</span></span>
* <span data-ttu-id="72e12-117">**VM**.</span><span class="sxs-lookup"><span data-stu-id="72e12-117">**VM**.</span></span> <span data-ttu-id="72e12-118">Azure supporta l'esecuzione di molte distribuzioni Linux diffuse, tra cui CentOS, Debian, Red Hat Enterprise, Ubuntu e FreeBSD.</span><span class="sxs-lookup"><span data-stu-id="72e12-118">Azure supports running various popular Linux distributions, including CentOS, Debian, Red Hat Enterprise, Ubuntu, and FreeBSD.</span></span> <span data-ttu-id="72e12-119">Per altre informazioni, vedere [Azure e Linux][azure-linux].</span><span class="sxs-lookup"><span data-stu-id="72e12-119">For more information, see [Azure and Linux][azure-linux].</span></span> <span data-ttu-id="72e12-120">È possibile effettuare il provisioning di una macchina virtuale da un elenco di immagini pubblicate oppure da un file di disco rigido virtuale (VHD) caricato nell'archivio BLOB di Azure.</span><span class="sxs-lookup"><span data-stu-id="72e12-120">You can provision a VM from a list of published images or from a virtual hard disk (VHD) file that you upload to Azure Blob storage.</span></span>
* <span data-ttu-id="72e12-121">**Disco del sistema operativo.**</span><span class="sxs-lookup"><span data-stu-id="72e12-121">**OS disk.**</span></span> <span data-ttu-id="72e12-122">Il disco del sistema operativo è un VHD archiviato in [Archiviazione di Azure][azure-storage].</span><span class="sxs-lookup"><span data-stu-id="72e12-122">The OS disk is a VHD stored in [Azure Storage][azure-storage].</span></span> <span data-ttu-id="72e12-123">Viene quindi salvato in modo permanente anche se il computer host si arresta.</span><span class="sxs-lookup"><span data-stu-id="72e12-123">That means it persists even if the host machine goes down.</span></span> <span data-ttu-id="72e12-124">Il disco del sistema operativo è `/dev/sda1`.</span><span class="sxs-lookup"><span data-stu-id="72e12-124">The OS disk is `/dev/sda1`.</span></span>
* <span data-ttu-id="72e12-125">**Disco temporaneo.**</span><span class="sxs-lookup"><span data-stu-id="72e12-125">**Temporary disk.**</span></span> <span data-ttu-id="72e12-126">La VM viene creata con un disco temporaneo.</span><span class="sxs-lookup"><span data-stu-id="72e12-126">The VM is created with a temporary disk.</span></span> <span data-ttu-id="72e12-127">Questo disco viene archiviato in un'unità fisica nel computer host.</span><span class="sxs-lookup"><span data-stu-id="72e12-127">This disk is stored on a physical drive on the host machine.</span></span> <span data-ttu-id="72e12-128">*Non* viene salvato nell'Archiviazione di Azure ed è possibile che venga eliminato durante i riavvii e altri eventi del ciclo di vita della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="72e12-128">It is *not* saved in Azure Storage and might be deleted during reboots and other VM lifecycle events.</span></span> <span data-ttu-id="72e12-129">Usare questo disco solo per dati temporanei, ad esempio file di paging o di scambio.</span><span class="sxs-lookup"><span data-stu-id="72e12-129">Use this disk only for temporary data, such as page or swap files.</span></span> <span data-ttu-id="72e12-130">Il disco temporaneo è `/dev/sdb1` ed è montato in `/mnt/resource` o `/mnt`.</span><span class="sxs-lookup"><span data-stu-id="72e12-130">The temporary disk is `/dev/sdb1` and is mounted at `/mnt/resource` or `/mnt`.</span></span>
* <span data-ttu-id="72e12-131">**Dischi dati.**</span><span class="sxs-lookup"><span data-stu-id="72e12-131">**Data disks.**</span></span> <span data-ttu-id="72e12-132">Un [disco dati][data-disk] è un VHD persistente usato per i dati dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="72e12-132">A [data disk][data-disk] is a persistent VHD used for application data.</span></span> <span data-ttu-id="72e12-133">I dischi dati vengono archiviati nell'Archiviazione di Azure, come il disco del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="72e12-133">Data disks are stored in Azure Storage, like the OS disk.</span></span>
* <span data-ttu-id="72e12-134">**Rete virtuale (VNet) e subnet.**</span><span class="sxs-lookup"><span data-stu-id="72e12-134">**Virtual network (VNet) and subnet.**</span></span> <span data-ttu-id="72e12-135">Ogni VM in Azure viene distribuita in una rete virtuale (VNet), che viene a sua volta suddivisa in subnet.</span><span class="sxs-lookup"><span data-stu-id="72e12-135">Every VM in Azure is deployed into a VNet that is further divided into subnets.</span></span>
* <span data-ttu-id="72e12-136">**Indirizzo IP pubblico.**</span><span class="sxs-lookup"><span data-stu-id="72e12-136">**Public IP address.**</span></span> <span data-ttu-id="72e12-137">È necessario un indirizzo IP pubblico per comunicare con la macchina virtuale, ad esempio tramite SSH.</span><span class="sxs-lookup"><span data-stu-id="72e12-137">A public IP address is needed to communicate with the VM &mdash; for example, via SSH.</span></span>
* <span data-ttu-id="72e12-138">**Interfaccia di rete (NIC)**.</span><span class="sxs-lookup"><span data-stu-id="72e12-138">**Network interface (NIC)**.</span></span> <span data-ttu-id="72e12-139">La scheda di interfaccia di rete consente alla VM di comunicare con la rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="72e12-139">The NIC enables the VM to communicate with the virtual network.</span></span>
* <span data-ttu-id="72e12-140">**Gruppo di sicurezza di rete (NSG)**.</span><span class="sxs-lookup"><span data-stu-id="72e12-140">**Network security group (NSG)**.</span></span> <span data-ttu-id="72e12-141">Il [gruppo di sicurezza di rete][nsg] viene usato per consentire/negare il traffico di rete verso la subnet.</span><span class="sxs-lookup"><span data-stu-id="72e12-141">The [NSG][nsg] is used to allow/deny network traffic to the subnet.</span></span> <span data-ttu-id="72e12-142">Un NSG può essere associato a una singola scheda di interfaccia di rete o a una subnet.</span><span class="sxs-lookup"><span data-stu-id="72e12-142">You can associate an NSG with an individual NIC or with a subnet.</span></span> <span data-ttu-id="72e12-143">Se lo si associa a una subnet, le regole dell’NSG si applicano a tutte le VM nella subnet.</span><span class="sxs-lookup"><span data-stu-id="72e12-143">If you associate it with a subnet, the NSG rules apply to all VMs in that subnet.</span></span>
* <span data-ttu-id="72e12-144">**Diagnostica.**</span><span class="sxs-lookup"><span data-stu-id="72e12-144">**Diagnostics.**</span></span> <span data-ttu-id="72e12-145">La registrazione diagnostica è essenziale per la gestione e la risoluzione dei problemi della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="72e12-145">Diagnostic logging is crucial for managing and troubleshooting the VM.</span></span>

## <a name="recommendations"></a><span data-ttu-id="72e12-146">Raccomandazioni</span><span class="sxs-lookup"><span data-stu-id="72e12-146">Recommendations</span></span>

<span data-ttu-id="72e12-147">Questa architettura mostra le indicazioni di base per l'esecuzione di una macchina virtuale Linux in Azure.</span><span class="sxs-lookup"><span data-stu-id="72e12-147">This architecture shows the baseline recommendations for running a Linux VM in Azure.</span></span> <span data-ttu-id="72e12-148">Non è tuttavia consigliabile usare una singola macchina virtuale per carichi di lavoro di importanza strategica, perché in questo modo viene creato un singolo punto di guasto.</span><span class="sxs-lookup"><span data-stu-id="72e12-148">However, we don't recommend using a single VM for mission critical workloads because it creates a single point of failure.</span></span> <span data-ttu-id="72e12-149">Per una disponibilità più elevata, distribuire più VM in un [set di disponibilità][availability-set].</span><span class="sxs-lookup"><span data-stu-id="72e12-149">For higher availability, deploy multiple VMs in an [availability set][availability-set].</span></span> <span data-ttu-id="72e12-150">Per altre informazioni, vedere [Esecuzione di più VM in Azure][multi-vm].</span><span class="sxs-lookup"><span data-stu-id="72e12-150">For more information, see [Running multiple VMs on Azure][multi-vm].</span></span> 

### <a name="vm-recommendations"></a><span data-ttu-id="72e12-151">Indicazioni per le VM</span><span class="sxs-lookup"><span data-stu-id="72e12-151">VM recommendations</span></span>

<span data-ttu-id="72e12-152">Azure offre diverse dimensioni per le macchine virtuali, ma è consigliabile scegliere le serie DS e GS perché supportano [Archiviazione Premium][premium-storage].</span><span class="sxs-lookup"><span data-stu-id="72e12-152">Azure offers many different virtual machine sizes, but we recommend the DS- and GS-series because these machine sizes support [Premium Storage][premium-storage].</span></span> <span data-ttu-id="72e12-153">Selezionare una di queste dimensioni del computer, a meno che non si abbia un carico di lavoro specializzato, ad esempio di high-performance computing.</span><span class="sxs-lookup"><span data-stu-id="72e12-153">Select one of these machine sizes unless you have a specialized workload such as high-performance computing.</span></span> <span data-ttu-id="72e12-154">Per informazioni dettagliate, vedere [Dimensioni delle macchine virtuali in Azure][virtual-machine-sizes].</span><span class="sxs-lookup"><span data-stu-id="72e12-154">For details, see [virtual machine sizes][virtual-machine-sizes].</span></span>

<span data-ttu-id="72e12-155">Se si sposta un carico di lavoro esistente in Azure, per iniziare scegliere le dimensioni della VM più simili a quelle dei server locali.</span><span class="sxs-lookup"><span data-stu-id="72e12-155">If you are moving an existing workload to Azure, start with the VM size that's the closest match to your on-premises servers.</span></span> <span data-ttu-id="72e12-156">Misurare quindi le prestazioni del carico di lavoro effettivo in relazione agli aspetti di CPU, memoria e operazioni di input/output (IOPS) del disco e regolare le dimensioni secondo necessità.</span><span class="sxs-lookup"><span data-stu-id="72e12-156">Then measure the performance of your actual workload with respect to CPU, memory, and disk input/output operations per second (IOPS), and adjust the size if needed.</span></span> <span data-ttu-id="72e12-157">Se sono necessarie più schede di interfaccia di rete per la VM, si noti che il numero massimo di schede di interfaccia di rete dipende dalle [dimensioni della VM][vm-size-tables].</span><span class="sxs-lookup"><span data-stu-id="72e12-157">If you require multiple NICs for your VM, be aware that the maximum number of NICs is a function of the [VM size][vm-size-tables].</span></span>

<span data-ttu-id="72e12-158">Quando si effettua il provisioning della VM e di altre risorse, è necessario specificare una località.</span><span class="sxs-lookup"><span data-stu-id="72e12-158">When you provision the VM and other resources, you must specify a region.</span></span> <span data-ttu-id="72e12-159">È in genere consigliabile scegliere la località più vicina agli utenti interni o ai clienti.</span><span class="sxs-lookup"><span data-stu-id="72e12-159">Generally, choose a region closest to your internal users or customers.</span></span> <span data-ttu-id="72e12-160">È tuttavia possibile che non tutte le dimensioni della VM siano disponibili in tutte le aree.</span><span class="sxs-lookup"><span data-stu-id="72e12-160">However, not all VM sizes may be available in all region.</span></span> <span data-ttu-id="72e12-161">Per informazioni dettagliate, vedere i [servizi disponibili in base all'area][services-by-region].</span><span class="sxs-lookup"><span data-stu-id="72e12-161">For details, see [Services by region][services-by-region].</span></span> <span data-ttu-id="72e12-162">Per elencare le dimensioni delle macchine virtuali disponibili in un'area specifica, eseguire questo comando dell'interfaccia della riga di comando di Azure:</span><span class="sxs-lookup"><span data-stu-id="72e12-162">To list the VM sizes available in a specific region, run the following Azure command-line interface (CLI) command:</span></span>

```
az vm list-sizes --location <location>
```

<span data-ttu-id="72e12-163">Per informazioni sulla scelta di un'immagine di VM pubblicata, vedere [Selezionare immagini di VM Linux con l'interfaccia della riga di comando di Azure][select-vm-image].</span><span class="sxs-lookup"><span data-stu-id="72e12-163">For information about choosing a published VM image, see [Select Linux VM images with the Azure CLI][select-vm-image].</span></span>

<span data-ttu-id="72e12-164">Abilitare il monitoraggio e la diagnostica, tra cui le metriche di base sull'integrità, i log relativi all'infrastruttura di diagnostica e la [diagnostica di avvio][boot-diagnostics].</span><span class="sxs-lookup"><span data-stu-id="72e12-164">Enable monitoring and diagnostics, including basic health metrics, diagnostics infrastructure logs, and [boot diagnostics][boot-diagnostics].</span></span> <span data-ttu-id="72e12-165">La diagnostica di avvio permette di diagnosticare gli errori di avvio quando la VM passa a uno stato non avviabile.</span><span class="sxs-lookup"><span data-stu-id="72e12-165">Boot diagnostics can help you diagnose boot failure if your VM gets into a non-bootable state.</span></span> <span data-ttu-id="72e12-166">Per altre informazioni, vedere [Abilitare il monitoraggio e la diagnostica][enable-monitoring].</span><span class="sxs-lookup"><span data-stu-id="72e12-166">For more information, see [Enable monitoring and diagnostics][enable-monitoring].</span></span>  

### <a name="disk-and-storage-recommendations"></a><span data-ttu-id="72e12-167">Indicazioni per il disco e l'archiviazione</span><span class="sxs-lookup"><span data-stu-id="72e12-167">Disk and storage recommendations</span></span>

<span data-ttu-id="72e12-168">Per ottimizzare le prestazioni I/O del disco, si consiglia di usare [Archiviazione Premium][premium-storage], che archivia i dati in unità SSD (Solid State Drive).</span><span class="sxs-lookup"><span data-stu-id="72e12-168">For best disk I/O performance, we recommend [Premium Storage][premium-storage], which stores data on solid-state drives (SSDs).</span></span> <span data-ttu-id="72e12-169">I costi dipendono dalle dimensioni del disco sottoposto a provisioning.</span><span class="sxs-lookup"><span data-stu-id="72e12-169">Cost is based on the size of the provisioned disk.</span></span> <span data-ttu-id="72e12-170">Anche IOPS e velocità effettiva, ovvero la velocità di trasferimento dati, dipendono dalle dimensioni del disco. Quando si effettua il provisioning di un disco è quindi consigliabile tenere in considerazione tutti e tre i fattori, ovvero capacità, IOPS e velocità effettiva.</span><span class="sxs-lookup"><span data-stu-id="72e12-170">IOPS and throughput (that is, data transfer rate) also depend on disk size, so when you provision a disk, consider all three factors (capacity, IOPS, and throughput).</span></span> 

<span data-ttu-id="72e12-171">È consigliabile anche usare [dischi gestiti](/azure/storage/storage-managed-disks-overview).</span><span class="sxs-lookup"><span data-stu-id="72e12-171">We also recommend the use of [managed disks](/azure/storage/storage-managed-disks-overview).</span></span> <span data-ttu-id="72e12-172">I dischi gestiti non richiedono un account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="72e12-172">Managed disks do not require a storage account.</span></span> <span data-ttu-id="72e12-173">Basta specificare le dimensioni e il tipo di disco per distribuirlo in modalità a disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="72e12-173">You simply specify the size and type of disk and it is deployed in a highly available way.</span></span>

<span data-ttu-id="72e12-174">Se non si usano dischi gestiti, creare account di archiviazione di Azure separati per ogni macchina virtuale che dovrà contenere i dischi rigidi virtuali, in modo da evitare di raggiungere i limiti di operazioni di I/O al secondo per gli account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="72e12-174">If you are not using managed disks, create separate Azure storage accounts for each VM to hold the virtual hard disks (VHDs) in order to avoid hitting the IOPS limits for storage accounts.</span></span>

<span data-ttu-id="72e12-175">Aggiungere uno o più dischi dati.</span><span class="sxs-lookup"><span data-stu-id="72e12-175">Add one or more data disks.</span></span> <span data-ttu-id="72e12-176">Quando si crea un VHD, il disco non è formattato.</span><span class="sxs-lookup"><span data-stu-id="72e12-176">When you create a VHD, it is unformatted.</span></span> <span data-ttu-id="72e12-177">Accedere alla VM per formattare il disco.</span><span class="sxs-lookup"><span data-stu-id="72e12-177">Log in to the VM to format the disk.</span></span> <span data-ttu-id="72e12-178">Nella shell di Linux, i dischi dati vengono visualizzati come `/dev/sdc`, `/dev/sdd` e così via.</span><span class="sxs-lookup"><span data-stu-id="72e12-178">In the Linux shell, data disks are displayed as `/dev/sdc`, `/dev/sdd`, and so on.</span></span> <span data-ttu-id="72e12-179">È possibile eseguire `lsblk` per elencare i dispositivi a blocchi, ad esempio i dischi.</span><span class="sxs-lookup"><span data-stu-id="72e12-179">You can run `lsblk` to list the block devices, including the disks.</span></span> <span data-ttu-id="72e12-180">Per usare un disco dati, creare una partizione e un file system, quindi montare il disco.</span><span class="sxs-lookup"><span data-stu-id="72e12-180">To use a data disk, create a partition and file system, and mount the disk.</span></span> <span data-ttu-id="72e12-181">ad esempio:</span><span class="sxs-lookup"><span data-stu-id="72e12-181">For example:</span></span>

```bat
# Create a partition.
sudo fdisk /dev/sdc     # Enter 'n' to partition, 'w' to write the change.

# Create a file system.
sudo mkfs -t ext3 /dev/sdc1

# Mount the drive.
sudo mkdir /data1
sudo mount /dev/sdc1 /data1
```

<span data-ttu-id="72e12-182">Se non si usano [dischi gestiti](/azure/storage/storage-managed-disks-overview) e sono presenti molti dischi dati, occorre prestare attenzione ai limiti totali di I/O dell'account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="72e12-182">If you are not using [managed disks](/azure/storage/storage-managed-disks-overview) and have a large number of data disks, be aware of the total I/O limits of the storage account.</span></span> <span data-ttu-id="72e12-183">Per altre informazioni, vedere [Limiti relativi ai dischi della macchina virtuale][vm-disk-limits].</span><span class="sxs-lookup"><span data-stu-id="72e12-183">For more information, see [virtual machine disk limits][vm-disk-limits].</span></span>

<span data-ttu-id="72e12-184">Quando si aggiunge un disco dati, al disco viene assegnato un ID numero di unità logica (LUN).</span><span class="sxs-lookup"><span data-stu-id="72e12-184">When you add a data disk, a logical unit number (LUN) ID is assigned to the disk.</span></span> <span data-ttu-id="72e12-185">È anche possibile specificare l'ID LUN &mdash; ad esempio se si intende sostituire un disco e si vuole mantenere lo stesso ID LUN o se si ha un'applicazione che cerca un ID LUN specifico.</span><span class="sxs-lookup"><span data-stu-id="72e12-185">Optionally, you can specify the LUN ID &mdash; for example, if you're replacing a disk and want to retain the same LUN ID, or you have an application that looks for a specific LUN ID.</span></span> <span data-ttu-id="72e12-186">Tuttavia, tenere presente che gli ID LUN devono essere univoci per ogni disco.</span><span class="sxs-lookup"><span data-stu-id="72e12-186">However, remember that LUN IDs must be unique for each disk.</span></span>

<span data-ttu-id="72e12-187">È possibile modificare l'utilità di pianificazione I/O per ottimizzare le prestazioni nelle unità SSD, dato che i dischi delle VM negli account di archiviazione Premium sono SSD.</span><span class="sxs-lookup"><span data-stu-id="72e12-187">You may want to change the I/O scheduler to optimize for performance on SSDs because the disks for VMs with premium storage accounts are SSDs.</span></span> <span data-ttu-id="72e12-188">Normalmente si consiglia di usare l'utilità di pianificazione NOOP per le unità SSD, ma è necessario usare uno strumento come [iostat] per monitorare le prestazioni di I/O del disco relative al proprio carico di lavoro.</span><span class="sxs-lookup"><span data-stu-id="72e12-188">A common recommendation is to use the NOOP scheduler for SSDs, but you should use a tool such as [iostat] to monitor disk I/O performance for your workload.</span></span>

<span data-ttu-id="72e12-189">Per prestazioni ottimali, creare un account di archiviazione separato per i log di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="72e12-189">For best performance, create a separate storage account to hold diagnostic logs.</span></span> <span data-ttu-id="72e12-190">Un account di archiviazione con ridondanza locale standard è sufficiente per i log di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="72e12-190">A standard locally redundant storage (LRS) account is sufficient for diagnostic logs.</span></span>

### <a name="network-recommendations"></a><span data-ttu-id="72e12-191">Indicazioni per la rete</span><span class="sxs-lookup"><span data-stu-id="72e12-191">Network recommendations</span></span>

<span data-ttu-id="72e12-192">L'indirizzo IP pubblico può essere dinamico o statico.</span><span class="sxs-lookup"><span data-stu-id="72e12-192">The public IP address can be dynamic or static.</span></span> <span data-ttu-id="72e12-193">Per impostazione predefinita, è dinamico.</span><span class="sxs-lookup"><span data-stu-id="72e12-193">The default is dynamic.</span></span>

* <span data-ttu-id="72e12-194">Riservare un [indirizzo IP statico][static-ip] se è necessario un indirizzo IP fisso che non subirà modifiche &mdash; ad esempio se è necessario creare un record A nel DNS o se è necessario aggiungere l'indirizzo IP a un elenco di indirizzi attendibili.</span><span class="sxs-lookup"><span data-stu-id="72e12-194">Reserve a [static IP address][static-ip] if you need a fixed IP address that won't change &mdash; for example, if you need to create an A record in DNS, or need the IP address to be added to a safe list.</span></span>
* <span data-ttu-id="72e12-195">È inoltre possibile creare un nome di dominio completo (FQDN) per l'indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="72e12-195">You can also create a fully qualified domain name (FQDN) for the IP address.</span></span> <span data-ttu-id="72e12-196">È quindi possibile registrare un [record CNAME][cname-record] nel DNS che punta al nome FQDN.</span><span class="sxs-lookup"><span data-stu-id="72e12-196">You can then register a [CNAME record][cname-record] in DNS that points to the FQDN.</span></span> <span data-ttu-id="72e12-197">Per altre informazioni, vedere [Creare un nome di dominio completo nel portale di Azure][fqdn].</span><span class="sxs-lookup"><span data-stu-id="72e12-197">For more information, see [create a fully qualified domain name in the Azure portal][fqdn].</span></span>

<span data-ttu-id="72e12-198">Tutti i gruppi di sicurezza di rete contengono un set di [regole predefinite][nsg-default-rules], inclusa una regola che blocca tutto il traffico Internet in ingresso.</span><span class="sxs-lookup"><span data-stu-id="72e12-198">All NSGs contain a set of [default rules][nsg-default-rules], including a rule that blocks all inbound Internet traffic.</span></span> <span data-ttu-id="72e12-199">Le regole predefinite non possono essere eliminate, ma altre regole possono eseguirne l'override.</span><span class="sxs-lookup"><span data-stu-id="72e12-199">The default rules cannot be deleted, but other rules can override them.</span></span> <span data-ttu-id="72e12-200">Per consentire il traffico Internet, creare regole per indirizzare il traffico in ingresso a determinate porte &mdash; ad esempio la porta 80 per il traffico HTTP.</span><span class="sxs-lookup"><span data-stu-id="72e12-200">To enable Internet traffic, create rules that allow inbound traffic to specific ports &mdash; for example, port 80 for HTTP.</span></span>

<span data-ttu-id="72e12-201">Per abilitare SSH, aggiungere una regola al gruppo di sicurezza di rete per consentire il traffico in arrivo sulla porta TCP 22.</span><span class="sxs-lookup"><span data-stu-id="72e12-201">To enable SSH, add a rule to the NSG that allows inbound traffic to TCP port 22.</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="72e12-202">Considerazioni sulla scalabilità</span><span class="sxs-lookup"><span data-stu-id="72e12-202">Scalability considerations</span></span>

<span data-ttu-id="72e12-203">È possibile aumentare o ridurre le prestazioni di una VM [cambiando le dimensioni della macchina virtuale][vm-resize].</span><span class="sxs-lookup"><span data-stu-id="72e12-203">You can scale a VM up or down by [changing the VM size][vm-resize].</span></span> <span data-ttu-id="72e12-204">Per ottenere la scalabilità orizzontale, inserire due o più macchine virtuali nell'ambito di un servizio di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="72e12-204">To scale out horizontally, put two or more VMs behind a load balancer.</span></span> <span data-ttu-id="72e12-205">Per informazioni dettagliate, vedere [Running multiple VMs on Azure for scalability and availability][multi-vm] (Esecuzione di più VM in Azure per la scalabilità e la disponibilità).</span><span class="sxs-lookup"><span data-stu-id="72e12-205">For details, see [Running multiple VMs on Azure for scalability and availability][multi-vm].</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="72e12-206">Considerazioni sulla disponibilità</span><span class="sxs-lookup"><span data-stu-id="72e12-206">Availability considerations</span></span>

<span data-ttu-id="72e12-207">Per una disponibilità più elevata, distribuire più macchine virtuali in un set di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="72e12-207">For higher availability, deploy multiple VMs in an availability set.</span></span> <span data-ttu-id="72e12-208">Sarà così disponibile anche un [contratto di servizio][vm-sla] (SLA) di livello più elevato.</span><span class="sxs-lookup"><span data-stu-id="72e12-208">This also provides a higher [service level agreement][vm-sla]  (SLA).</span></span>

<span data-ttu-id="72e12-209">È possibile che la VM sia interessata da attività di [manutenzione pianificata][planned-maintenance] o [manutenzione non pianificata][manage-vm-availability].</span><span class="sxs-lookup"><span data-stu-id="72e12-209">Your VM may be affected by [planned maintenance][planned-maintenance] or [unplanned maintenance][manage-vm-availability].</span></span> <span data-ttu-id="72e12-210">È possibile usare i [log di riavvio della VM][reboot-logs] per determinare se un riavvio della VM è stato provocato da attività di manutenzione pianificata.</span><span class="sxs-lookup"><span data-stu-id="72e12-210">You can use [VM reboot logs][reboot-logs] to determine whether a VM reboot was caused by planned maintenance.</span></span>

<span data-ttu-id="72e12-211">I dischi rigidi virtuali vengono archiviati nell'[archivio di Azure][azure-storage] e l'archivio di Azure viene replicato per assicurare durabilità e disponibilità.</span><span class="sxs-lookup"><span data-stu-id="72e12-211">VHDs are stored in [Azure storage][azure-storage], and Azure storage is replicated for durability and availability.</span></span>

<span data-ttu-id="72e12-212">Per proteggersi dalla perdita accidentale di dati durante le operazioni normali, ad esempio a causa di un errore dell'utente, è consigliabile implementare anche i backup temporizzati usando [snapshot di BLOB][blob-snapshot] o un altro strumento.</span><span class="sxs-lookup"><span data-stu-id="72e12-212">To protect against accidental data loss during normal operations (for example, because of user error), you should also implement point-in-time backups, using [blob snapshots][blob-snapshot] or another tool.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="72e12-213">Considerazioni sulla gestibilità</span><span class="sxs-lookup"><span data-stu-id="72e12-213">Manageability considerations</span></span>

<span data-ttu-id="72e12-214">**Gruppi di risorse.**</span><span class="sxs-lookup"><span data-stu-id="72e12-214">**Resource groups.**</span></span> <span data-ttu-id="72e12-215">Posizionare in uno stesso [gruppo di risorse][resource-manager-overview] le risorse strettamente associate che condividono lo stesso ciclo di vita.</span><span class="sxs-lookup"><span data-stu-id="72e12-215">Put tightly coupled resources that share the same life cycle into the same [resource group][resource-manager-overview].</span></span> <span data-ttu-id="72e12-216">I gruppi di risorse consentono di distribuire e monitorare le risorse in gruppo, distribuendo i costi per ogni gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="72e12-216">Resource groups allow you to deploy and monitor resources as a group, and roll up billing costs by resource group.</span></span> <span data-ttu-id="72e12-217">È inoltre possibile eliminare un intero set di risorse, operazione molto utile nelle distribuzioni di test.</span><span class="sxs-lookup"><span data-stu-id="72e12-217">You can also delete resources as a set, which is very useful for test deployments.</span></span> <span data-ttu-id="72e12-218">Assegnare alle risorse nomi significativi.</span><span class="sxs-lookup"><span data-stu-id="72e12-218">Give resources meaningful names.</span></span> <span data-ttu-id="72e12-219">In tal modo, è più semplice individuare una specifica risorsa e comprenderne il ruolo.</span><span class="sxs-lookup"><span data-stu-id="72e12-219">That makes it easier to locate a specific resource and understand its role.</span></span> <span data-ttu-id="72e12-220">Vedere [Recommended Naming Conventions for Azure Resources][naming conventions] (Convenzioni di denominazione consigliate per le risorse di Azure).</span><span class="sxs-lookup"><span data-stu-id="72e12-220">See [Recommended Naming Conventions for Azure Resources][naming conventions].</span></span>

<span data-ttu-id="72e12-221">**SSH**.</span><span class="sxs-lookup"><span data-stu-id="72e12-221">**SSH**.</span></span> <span data-ttu-id="72e12-222">Prima di creare una VM Linux, generare una coppia di chiavi RSA pubblica/privata a 2.048 bit.</span><span class="sxs-lookup"><span data-stu-id="72e12-222">Before you create a Linux VM, generate a 2048-bit RSA public-private key pair.</span></span> <span data-ttu-id="72e12-223">Quando si crea la VM, utilizzare il file di chiave pubblica.</span><span class="sxs-lookup"><span data-stu-id="72e12-223">Use the public key file when you create the VM.</span></span> <span data-ttu-id="72e12-224">Per altre informazioni, vedere [Come usare SSH con Linux e Mac in Azure][ssh-linux].</span><span class="sxs-lookup"><span data-stu-id="72e12-224">For more information, see [How to Use SSH with Linux and Mac on Azure][ssh-linux].</span></span>

<span data-ttu-id="72e12-225">**Arresto di una VM.**</span><span class="sxs-lookup"><span data-stu-id="72e12-225">**Stopping a VM.**</span></span> <span data-ttu-id="72e12-226">Azure distingue tra gli stati "Arrestato" e "Deallocato".</span><span class="sxs-lookup"><span data-stu-id="72e12-226">Azure makes a distinction between "stopped" and "deallocated" states.</span></span> <span data-ttu-id="72e12-227">L'addebito avviene quando lo stato della VM viene arrestato, ma non quando la VM viene deallocata.</span><span class="sxs-lookup"><span data-stu-id="72e12-227">You are charged when the VM status is stopped, but not when the VM is deallocated.</span></span> 

<span data-ttu-id="72e12-228">Anche il pulsante **Arresta** nel portale di Azure consente di deallocare la VM.</span><span class="sxs-lookup"><span data-stu-id="72e12-228">In the Azure portal, the **Stop** button deallocates the VM.</span></span> <span data-ttu-id="72e12-229">Se l'arresto viene effettuato tramite il sistema operativo ad accesso eseguito, la VM viene arrestata ma *non* deallocata, quindi gli addebiti continueranno a essere effettuati.</span><span class="sxs-lookup"><span data-stu-id="72e12-229">If you shut down through the OS while logged in, the VM is stopped but *not* deallocated, so you will still be charged.</span></span> 

<span data-ttu-id="72e12-230">**Eliminazione di una VM.**</span><span class="sxs-lookup"><span data-stu-id="72e12-230">**Deleting a VM.**</span></span> <span data-ttu-id="72e12-231">Se si elimina una VM, i VHD non vengono eliminati.</span><span class="sxs-lookup"><span data-stu-id="72e12-231">If you delete a VM, the VHDs are not deleted.</span></span> <span data-ttu-id="72e12-232">È quindi possibile eliminare in modo sicuro la macchina virtuale senza perdere dati.</span><span class="sxs-lookup"><span data-stu-id="72e12-232">That means you can safely delete the VM without losing data.</span></span> <span data-ttu-id="72e12-233">Verranno tuttavia applicati comunque addebiti per l'archiviazione.</span><span class="sxs-lookup"><span data-stu-id="72e12-233">However, you will still be charged for storage.</span></span> <span data-ttu-id="72e12-234">Per eliminare il VHD, eliminare il file dall'[archivio BLOB][blob-storage].</span><span class="sxs-lookup"><span data-stu-id="72e12-234">To delete the VHD, delete the file from [Blob storage][blob-storage].</span></span>

<span data-ttu-id="72e12-235">Per impedire l'eliminazione accidentale, usare un [blocco di risorsa][resource-lock] per bloccare l'intero gruppo di risorse o le singole risorse, ad esempio la VM.</span><span class="sxs-lookup"><span data-stu-id="72e12-235">To prevent accidental deletion, use a [resource lock][resource-lock] to lock the entire resource group or lock individual resources, such as the VM.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="72e12-236">Considerazioni relative alla sicurezza</span><span class="sxs-lookup"><span data-stu-id="72e12-236">Security considerations</span></span>

<span data-ttu-id="72e12-237">Usare il [Centro sicurezza di Azure][security-center] per ottenere una visualizzazione centrale dello stato di sicurezza delle risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="72e12-237">Use [Azure Security Center][security-center] to get a central view of the security state of your Azure resources.</span></span> <span data-ttu-id="72e12-238">Il Centro sicurezza monitora potenziali problemi di sicurezza e offre un'immagine completa dello stato della sicurezza della distribuzione.</span><span class="sxs-lookup"><span data-stu-id="72e12-238">Security Center monitors potential security issues and provides a comprehensive picture of the security health of your deployment.</span></span> <span data-ttu-id="72e12-239">Il Centro sicurezza è configurato per ogni sottoscrizione di Azure.</span><span class="sxs-lookup"><span data-stu-id="72e12-239">Security Center is configured per Azure subscription.</span></span> <span data-ttu-id="72e12-240">Abilitare la raccolta dei dati di sicurezza come descritto nella [Guida introduttiva per il Centro sicurezza di Azure][security-center-get-started].</span><span class="sxs-lookup"><span data-stu-id="72e12-240">Enable security data collection as described in [Azure Security Center quick start guide][security-center-get-started].</span></span> <span data-ttu-id="72e12-241">Quando la raccolta dei dati è abilitata, il Centro sicurezza analizza automaticamente tutte le macchine virtuali create nell'ambito della sottoscrizione.</span><span class="sxs-lookup"><span data-stu-id="72e12-241">When data collection is enabled, Security Center automatically scans any VMs created under that subscription.</span></span>

<span data-ttu-id="72e12-242">**Gestione delle patch.**</span><span class="sxs-lookup"><span data-stu-id="72e12-242">**Patch management.**</span></span> <span data-ttu-id="72e12-243">Se abilitato, Centro sicurezza PC controlla se mancano aggiornamenti critici e della sicurezza.</span><span class="sxs-lookup"><span data-stu-id="72e12-243">If enabled, Security Center checks whether security and critical updates are missing.</span></span> 

<span data-ttu-id="72e12-244">**Antimalware.**</span><span class="sxs-lookup"><span data-stu-id="72e12-244">**Antimalware.**</span></span> <span data-ttu-id="72e12-245">Se abilitato, Centro sicurezza PC controlla se è installato il software antimalware.</span><span class="sxs-lookup"><span data-stu-id="72e12-245">If enabled, Security Center checks whether antimalware software is installed.</span></span> <span data-ttu-id="72e12-246">È inoltre possibile utilizzare Centro sicurezza PC per installare il software antimalware all'interno del portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="72e12-246">You can also use Security Center to install antimalware software from inside the Azure portal.</span></span>

<span data-ttu-id="72e12-247">**Operazioni.**</span><span class="sxs-lookup"><span data-stu-id="72e12-247">**Operations.**</span></span> <span data-ttu-id="72e12-248">Usare il [controllo degli accessi in base al ruolo][rbac] per controllare l'accesso alle risorse di Azure da distribuire.</span><span class="sxs-lookup"><span data-stu-id="72e12-248">Use [role-based access control][rbac] (RBAC) to control access to the Azure resources that you deploy.</span></span> <span data-ttu-id="72e12-249">Il controllo degli accessi in base al ruolo consente di assegnare i ruoli di autorizzazione ai membri del proprio team DevOps.</span><span class="sxs-lookup"><span data-stu-id="72e12-249">RBAC lets you assign authorization roles to members of your DevOps team.</span></span> <span data-ttu-id="72e12-250">Ad esempio, il ruolo di lettura permette di visualizzare le risorse di Azure, ma non di crearle, gestirle o eliminarle.</span><span class="sxs-lookup"><span data-stu-id="72e12-250">For example, the Reader role can view Azure resources but not create, manage, or delete them.</span></span> <span data-ttu-id="72e12-251">Alcuni ruoli sono specifici di determinati tipi di risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="72e12-251">Some roles are specific to particular Azure resource types.</span></span> <span data-ttu-id="72e12-252">Ad esempio, il ruolo di Collaboratore Macchina virtuale consente di riavviare o deallocare una VM, reimpostare la password di amministratore, creare una nuova VM e così via.</span><span class="sxs-lookup"><span data-stu-id="72e12-252">For example, the Virtual Machine Contributor role can restart or deallocate a VM, reset the administrator password, create a new VM, and so forth.</span></span> <span data-ttu-id="72e12-253">Altri [ruoli predefiniti di Controllo degli accessi in base al ruolo][rbac-roles] che potrebbero essere utili per questa architettura includono [Utente DevTest Labs][rbac-devtest] e [Collaboratore Rete][rbac-network].</span><span class="sxs-lookup"><span data-stu-id="72e12-253">Other [built-in RBAC roles][rbac-roles] that might be useful for this architecture include [DevTest Labs User][rbac-devtest] and [Network Contributor][rbac-network].</span></span> <span data-ttu-id="72e12-254">Oltre a poter assegnare un utente a più ruoli, è possibile creare ruoli personalizzati per autorizzazioni ancora più dettagliate.</span><span class="sxs-lookup"><span data-stu-id="72e12-254">A user can be assigned to multiple roles, and you can create custom roles for even more fine-grained permissions.</span></span>

> [!NOTE]
> <span data-ttu-id="72e12-255">Il controllo degli accessi in base al ruolo non limita le azioni eseguibili da un utente registrato in una VM.</span><span class="sxs-lookup"><span data-stu-id="72e12-255">RBAC does not limit the actions that a user logged into a VM can perform.</span></span> <span data-ttu-id="72e12-256">Le autorizzazioni sono determinate dal tipo di account sul sistema operativo guest.</span><span class="sxs-lookup"><span data-stu-id="72e12-256">Those permissions are determined by the account type on the guest OS.</span></span>   

<span data-ttu-id="72e12-257">Per verificare le azioni di provisioning e altri eventi della VM, usare i [log di controllo][audit-logs].</span><span class="sxs-lookup"><span data-stu-id="72e12-257">Use [audit logs][audit-logs] to see provisioning actions and other VM events.</span></span>

<span data-ttu-id="72e12-258">**Crittografia dei dati.**</span><span class="sxs-lookup"><span data-stu-id="72e12-258">**Data encryption.**</span></span> <span data-ttu-id="72e12-259">Se è necessario crittografare i dischi del sistema operativo e i dischi dati, usare [Crittografia dischi di Azure ][disk-encryption].</span><span class="sxs-lookup"><span data-stu-id="72e12-259">Consider [Azure Disk Encryption][disk-encryption] if you need to encrypt the OS and data disks.</span></span> 

## <a name="deploy-the-solution"></a><span data-ttu-id="72e12-260">Distribuire la soluzione</span><span class="sxs-lookup"><span data-stu-id="72e12-260">Deploy the solution</span></span>

<span data-ttu-id="72e12-261">Una distribuzione di questa architettura è disponibile in [GitHub][github-folder].</span><span class="sxs-lookup"><span data-stu-id="72e12-261">A deployment for this architecture is available on [GitHub][github-folder].</span></span> <span data-ttu-id="72e12-262">Ecco cosa viene distribuito:</span><span class="sxs-lookup"><span data-stu-id="72e12-262">It deploys the following:</span></span>

  * <span data-ttu-id="72e12-263">Una rete virtuale con una sola subnet denominata **Web** e usata come host della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="72e12-263">A virtual network with a single subnet named **web** used to host the VM.</span></span>
  * <span data-ttu-id="72e12-264">Un gruppo di sicurezza di rete con due regole in ingresso per consentire il traffico SSH e HTTP alla macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="72e12-264">An NSG with two incoming rules to allow SSH and HTTP traffic to the VM.</span></span>
  * <span data-ttu-id="72e12-265">Una macchina virtuale che esegue la versione più recente di Ubuntu 16.04.3 LTS.</span><span class="sxs-lookup"><span data-stu-id="72e12-265">A VM running the latest version of Ubuntu 16.04.3 LTS.</span></span>
  * <span data-ttu-id="72e12-266">Un'estensione script personalizzata di esempio che distribuisce Apache HTTP Server alla macchina virtuale Ubuntu e formatta i due dischi dati.</span><span class="sxs-lookup"><span data-stu-id="72e12-266">A sample custom script extension that deploys Apache HTTP Server to the Ubuntu VM, and formats the two data disks.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="72e12-267">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="72e12-267">Prerequisites</span></span>

<span data-ttu-id="72e12-268">Prima di poter distribuire l'architettura di riferimento nella propria sottoscrizione, è necessario eseguire i passaggi seguenti.</span><span class="sxs-lookup"><span data-stu-id="72e12-268">Before you can deploy the reference architecture to your own subscription, you must perform the following steps.</span></span>

1. <span data-ttu-id="72e12-269">Clonare, creare una copia tramite fork o scaricare il file ZIP per il repository GitHub delle [architetture di riferimento AzureCAT][ref-arch-repo].</span><span class="sxs-lookup"><span data-stu-id="72e12-269">Clone, fork, or download the zip file for the [AzureCAT reference architectures][ref-arch-repo] GitHub repository.</span></span>

2. <span data-ttu-id="72e12-270">Verificare che nel computer sia installata l'interfaccia della riga di comando di Azure 2.0.</span><span class="sxs-lookup"><span data-stu-id="72e12-270">Make sure you have the Azure CLI 2.0 installed on your computer.</span></span> <span data-ttu-id="72e12-271">Per installare l'interfaccia della riga di comando, seguire le istruzioni in [Installare l'interfaccia della riga di comando di Azure 2.0][azure-cli-2].</span><span class="sxs-lookup"><span data-stu-id="72e12-271">To install the CLI, follow the instructions in [Install Azure CLI 2.0][azure-cli-2].</span></span>

3. <span data-ttu-id="72e12-272">Installare il pacchetto npm dei [blocchi predefiniti di Azure][azbb].</span><span class="sxs-lookup"><span data-stu-id="72e12-272">Install the [Azure building blocks][azbb] npm package.</span></span>

4. <span data-ttu-id="72e12-273">Da un prompt dei comandi, di Bash o di PowerShell accedere al proprio account di Azure usando uno dei comandi riportati di seguito e seguire le istruzioni.</span><span class="sxs-lookup"><span data-stu-id="72e12-273">From a command prompt, bash prompt, or PowerShell prompt, login to your Azure account by using one of the commands below, and follow the prompts.</span></span>

  ```bash
  az login
  ```

### <a name="deploy-the-solution-using-azbb"></a><span data-ttu-id="72e12-274">Distribuire la soluzione mediante azbb</span><span class="sxs-lookup"><span data-stu-id="72e12-274">Deploy the solution using azbb</span></span>

<span data-ttu-id="72e12-275">Per distribuire il carico di lavoro della singola macchina virtuale di esempio, eseguire questa procedura:</span><span class="sxs-lookup"><span data-stu-id="72e12-275">To deploy the sample single VM workload, follow these steps:</span></span>

1. <span data-ttu-id="72e12-276">Passare alla cartella `virtual-machines\single-vm\parameters\linux` per il repository scaricato nel passaggio dei prerequisiti precedente.</span><span class="sxs-lookup"><span data-stu-id="72e12-276">Navigate to the `virtual-machines\single-vm\parameters\linux` folder for the repository you downloaded in the pre-requisites step above.</span></span>

2. <span data-ttu-id="72e12-277">Aprire il file `single-vm-v2.json` e immettere un nome utente e una chiave SSH tra virgolette, come illustrato di seguito, quindi salvare il file.</span><span class="sxs-lookup"><span data-stu-id="72e12-277">Open the `single-vm-v2.json` file and enter a username and SSH key between the quotes, as shown below, then save the file.</span></span>

  ```bash
  "adminUsername": "",
  "adminsshPublicKey": "",
  ```

3. <span data-ttu-id="72e12-278">Eseguire `azbb` per distribuire la macchina virtuale di esempio, come illustrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="72e12-278">Run `azbb` to deploy the sample VM as shown below.</span></span>

  ```bash
  azbb -s <subscription_id> -g <resource_group_name> -l <location> -p single-vm-v2.json --deploy
  ```

<span data-ttu-id="72e12-279">Per altre informazioni sulla distribuzione di questa architettura di riferimento di esempio, visitare il [repository GitHub][git].</span><span class="sxs-lookup"><span data-stu-id="72e12-279">For more information on deploying this sample reference architecture, visit our [GitHub repository][git].</span></span>

## <a name="next-steps"></a><span data-ttu-id="72e12-280">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="72e12-280">Next steps</span></span>

- <span data-ttu-id="72e12-281">Informazioni sui [blocchi predefiniti di Azure][azbbv2].</span><span class="sxs-lookup"><span data-stu-id="72e12-281">Learn about our [Azure building Blocks][azbbv2].</span></span>
- <span data-ttu-id="72e12-282">Distribuire [più macchine virtuali][multi-vm] in Azure.</span><span class="sxs-lookup"><span data-stu-id="72e12-282">Deploy [multiple VMs][multi-vm] in Azure.</span></span>

<!-- links -->
[git]: https://github.com/mspnp/reference-architectures/tree/master/virtual-machines/single-vm
[multi-vm]: ../virtual-machines-linux/multi-vm.md
[naming conventions]: ../../best-practices/naming-conventions.md
[audit-logs]: https://azure.microsoft.com/blog/analyze-azure-audit-logs-in-powerbi-more/
[availability-set]: /azure/virtual-machines/virtual-machines-linux-manage-availability
[azbb]: https://github.com/mspnp/template-building-blocks/wiki/Install-Azure-Building-Blocks
[azbbv2]: https://github.com/mspnp/template-building-blocks
[azure-cli-2]: /cli/azure/install-azure-cli?view=azure-cli-latest
[azure-linux]: /azure/virtual-machines/virtual-machines-linux-azure-overview
[azure-storage]: /azure/storage/storage-introduction
[blob-snapshot]: /azure/storage/storage-blob-snapshots
[blob-storage]: /azure/storage/storage-introduction
[boot-diagnostics]: https://azure.microsoft.com/blog/boot-diagnostics-for-virtual-machines-v2/
[cname-record]: https://en.wikipedia.org/wiki/CNAME_record
[data-disk]: /azure/virtual-machines/virtual-machines-linux-about-disks-vhds
[disk-encryption]: /azure/security/azure-security-disk-encryption
[enable-monitoring]: /azure/monitoring-and-diagnostics/insights-how-to-use-diagnostics
[fqdn]: /azure/virtual-machines/virtual-machines-linux-portal-create-fqdn
[github-folder]: https://github.com/mspnp/reference-architectures/tree/master/virtual-machines/single-vm
[iostat]: https://en.wikipedia.org/wiki/Iostat
[manage-vm-availability]: /azure/virtual-machines/virtual-machines-linux-manage-availability
[nsg]: /azure/virtual-network/virtual-networks-nsg
[nsg-default-rules]: /azure/virtual-network/virtual-networks-nsg#default-rules
[OSPatching]: https://github.com/Azure/azure-linux-extensions/tree/master/OSPatching
[planned-maintenance]: /azure/virtual-machines/virtual-machines-linux-planned-maintenance
[premium-storage]: /azure/storage/storage-premium-storage
[rbac]: /azure/active-directory/role-based-access-control-what-is
[rbac-roles]: /azure/active-directory/role-based-access-built-in-roles
[rbac-devtest]: /azure/active-directory/role-based-access-built-in-roles#devtest-labs-user
[rbac-network]: /azure/active-directory/role-based-access-built-in-roles#network-contributor
[reboot-logs]: https://azure.microsoft.com/blog/viewing-vm-reboot-logs/
[ref-arch-repo]: https://github.com/mspnp/reference-architectures
[resource-lock]: /azure/resource-group-lock-resources
[resource-manager-overview]: /azure/azure-resource-manager/resource-group-overview
[security-center]: /azure/security-center/
[security-center-get-started]: /azure/security-center/security-center-get-started
[select-vm-image]: /azure/virtual-machines/virtual-machines-linux-cli-ps-findimage
[services-by-region]: https://azure.microsoft.com/regions/#services
[ssh-linux]: /azure/virtual-machines/virtual-machines-linux-mac-create-ssh-keys
[static-ip]: /azure/virtual-network/virtual-networks-reserved-public-ip
[virtual-machine-sizes]: /azure/virtual-machines/virtual-machines-linux-sizes
[visio-download]: https://archcenter.azureedge.net/cdn/vm-reference-architectures.vsdx
[vm-disk-limits]: /azure/azure-subscription-service-limits#virtual-machine-disk-limits
[vm-resize]: /azure/virtual-machines/virtual-machines-linux-change-vm-size
[vm-size-tables]: /azure/virtual-machines/virtual-machines-linux-sizes
[vm-sla]: https://azure.microsoft.com/support/legal/sla/virtual-machines
[readme]: https://github.com/mspnp/reference-architectures/blob/master/virtual-machines/single-vm/README.md
[0]: ./images/single-vm-diagram.png "Singola architettura VM di Linux in Azure"

