---
title: "Eseguire macchine virtuali Windows per un'architettura a più livelli"
description: "Come implementare un'architettura a più livelli in Azure, prestando particolare attenzione ai livelli di disponibilità, sicurezza, scalabilità e gestibilità."
author: MikeWasson
ms.date: 11/22/2016
pnp.series.title: Windows VM workloads
pnp.series.next: multi-region-application
pnp.series.prev: multi-vm
ms.openlocfilehash: e25d10d661ac4759f209bd27384303dee2ee454e
ms.sourcegitcommit: 583e54a1047daa708a9b812caafb646af4d7607b
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 11/28/2017
---
# <a name="run-windows-vms-for-an-n-tier-application"></a><span data-ttu-id="09cd4-103">Eseguire macchine virtuali Windows per un'applicazione a più livelli</span><span class="sxs-lookup"><span data-stu-id="09cd4-103">Run Windows VMs for an N-tier application</span></span>

<span data-ttu-id="09cd4-104">Questa architettura di riferimento mostra un set di procedure consolidate per l'esecuzione di macchine virtuali Windows per un'applicazione a più livelli.</span><span class="sxs-lookup"><span data-stu-id="09cd4-104">This reference architecture shows a set of proven practices for running Windows virtual machines (VMs) for an N-tier application.</span></span> [<span data-ttu-id="09cd4-105">**Distribuire questa soluzione**.</span><span class="sxs-lookup"><span data-stu-id="09cd4-105">**Deploy this solution**.</span></span>](#deploy-the-solution) 

<span data-ttu-id="09cd4-106">![[0]][0]</span><span class="sxs-lookup"><span data-stu-id="09cd4-106">![[0]][0]</span></span>

<span data-ttu-id="09cd4-107">*Scaricare un [file di Visio][visio-download] di questa architettura.*</span><span class="sxs-lookup"><span data-stu-id="09cd4-107">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="09cd4-108">Architettura</span><span class="sxs-lookup"><span data-stu-id="09cd4-108">Architecture</span></span> 

<span data-ttu-id="09cd4-109">È possibile implementare un'architettura a più livelli in diversi modi.</span><span class="sxs-lookup"><span data-stu-id="09cd4-109">There are many ways to implement an N-tier architecture.</span></span> <span data-ttu-id="09cd4-110">Il diagramma mostra una tipica applicazione Web a 3 livelli.</span><span class="sxs-lookup"><span data-stu-id="09cd4-110">The diagram shows a typical 3-tier web application.</span></span> <span data-ttu-id="09cd4-111">Questa architettura è basata sull'architettura descritta in [Eseguire macchine virtuali con carico bilanciato per la scalabilità e la disponibilità][multi-vm].</span><span class="sxs-lookup"><span data-stu-id="09cd4-111">This architecture builds on [Run load-balanced VMs for scalability and availability][multi-vm].</span></span> <span data-ttu-id="09cd4-112">I livelli Web e business usano macchine virtuali con carico bilanciato.</span><span class="sxs-lookup"><span data-stu-id="09cd4-112">The web and business tiers use load-balanced VMs.</span></span>

* <span data-ttu-id="09cd4-113">**Set di disponibilità.**</span><span class="sxs-lookup"><span data-stu-id="09cd4-113">**Availability sets.**</span></span> <span data-ttu-id="09cd4-114">Creare un [set di disponibilità][azure-availability-sets] per ogni livello ed eseguire il provisioning di almeno due macchine virtuali in ogni livello.</span><span class="sxs-lookup"><span data-stu-id="09cd4-114">Create an [availability set][azure-availability-sets] for each tier, and provision at least two VMs in each tier.</span></span> <span data-ttu-id="09cd4-115">In questo modo le macchine virtuali sono idonee per un [contratto di servizio][vm-sla] di livello superiore.</span><span class="sxs-lookup"><span data-stu-id="09cd4-115">This makes the VMs eligible for a higher [service level agreement (SLA)][vm-sla] for VMs.</span></span> <span data-ttu-id="09cd4-116">È possibile distribuire una singola macchina virtuale in un set di disponibilità, ma questa macchina virtuale non si qualificherà per la garanzia del contratto di servizio a meno che non usi Archiviazione Premium di Azure per tutti i dischi dati e del sistema operativo.</span><span class="sxs-lookup"><span data-stu-id="09cd4-116">You can deploy a single VM in an availability set, but the single VM will not qualify for an SLA guarantee unless the single VM is using Azure Premium Storage for all OS and data disks.</span></span>  
* <span data-ttu-id="09cd4-117">**Subnet.**</span><span class="sxs-lookup"><span data-stu-id="09cd4-117">**Subnets.**</span></span> <span data-ttu-id="09cd4-118">Creare una subnet separata per ogni livello.</span><span class="sxs-lookup"><span data-stu-id="09cd4-118">Create a separate subnet for each tier.</span></span> <span data-ttu-id="09cd4-119">Specificare l'intervallo di indirizzi e la subnet mask usando la notazione [CIDR].</span><span class="sxs-lookup"><span data-stu-id="09cd4-119">Specify the address range and subnet mask using [CIDR] notation.</span></span> 
* <span data-ttu-id="09cd4-120">**Servizi di bilanciamento del carico.**</span><span class="sxs-lookup"><span data-stu-id="09cd4-120">**Load balancers.**</span></span> <span data-ttu-id="09cd4-121">Usare un [servizio di bilanciamento del carico con connessione Internet][load-balancer-external] per distribuire il traffico Internet in entrata al livello Web e un [servizio di bilanciamento del carico interno][load-balancer-internal] per distribuire il traffico di rete dal livello Web al livello business.</span><span class="sxs-lookup"><span data-stu-id="09cd4-121">Use an [Internet-facing load balancer][load-balancer-external] to distribute incoming Internet traffic to the web tier, and an [internal load balancer][load-balancer-internal] to distribute network traffic from the web tier to the business tier.</span></span>
* <span data-ttu-id="09cd4-122">**Jumpbox.**</span><span class="sxs-lookup"><span data-stu-id="09cd4-122">**Jumpbox.**</span></span> <span data-ttu-id="09cd4-123">Detto anche [bastion host].</span><span class="sxs-lookup"><span data-stu-id="09cd4-123">Also called a [bastion host].</span></span> <span data-ttu-id="09cd4-124">È una macchina virtuale sicura in rete che viene usata dagli amministratori per connettersi alle altre macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="09cd4-124">A secure VM on the network that administrators use to connect to the other VMs.</span></span> <span data-ttu-id="09cd4-125">Il jumpbox ha un gruppo di sicurezza di rete (NSG) che consente il traffico remoto solo da Indirizzi IP pubblici inclusi in un elenco di indirizzi attendibili.</span><span class="sxs-lookup"><span data-stu-id="09cd4-125">The jumpbox has an NSG that allows remote traffic only from public IP addresses on a safe list.</span></span> <span data-ttu-id="09cd4-126">L'NSG dovrebbe consentire il traffico RDP (Remote Desktop Protocol).</span><span class="sxs-lookup"><span data-stu-id="09cd4-126">The NSG should permit remote desktop (RDP) traffic.</span></span>
* <span data-ttu-id="09cd4-127">**Monitoraggio.**</span><span class="sxs-lookup"><span data-stu-id="09cd4-127">**Monitoring.**</span></span> <span data-ttu-id="09cd4-128">Il software di monitoraggio, come [Nagios], [Zabbix] o [Icinga], può fornire informazioni dettagliate sul tempo di risposta, il tempo di attività delle macchine virtuali e l'integrità generale del sistema.</span><span class="sxs-lookup"><span data-stu-id="09cd4-128">Monitoring software such as [Nagios], [Zabbix], or [Icinga] can give you insight into response time, VM uptime, and the overall health of your system.</span></span> <span data-ttu-id="09cd4-129">Installare il software di monitoraggio in una macchina virtuale collocata in una subnet di gestione separata.</span><span class="sxs-lookup"><span data-stu-id="09cd4-129">Install the monitoring software on a VM that's placed in a separate management subnet.</span></span>
* <span data-ttu-id="09cd4-130">**Gruppi di sicurezza di rete.**</span><span class="sxs-lookup"><span data-stu-id="09cd4-130">**NSGs.**</span></span> <span data-ttu-id="09cd4-131">Usare i [gruppi di sicurezza di rete][nsg] (NSG) per limitare il traffico di rete nella rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="09cd4-131">Use [network security groups][nsg] (NSGs) to restrict network traffic within the VNet.</span></span> <span data-ttu-id="09cd4-132">Ad esempio, nell'architettura a 3 livelli illustrata qui il livello database non accetta traffico dal front-end Web, solo dal livello business e dalla subnet di gestione.</span><span class="sxs-lookup"><span data-stu-id="09cd4-132">For example, in the 3-tier architecture shown here, the database tier does not accept traffic from the web front end, only from the business tier and the management subnet.</span></span>
* <span data-ttu-id="09cd4-133">**Gruppo di disponibilità AlwaysOn di SQL Server.**</span><span class="sxs-lookup"><span data-stu-id="09cd4-133">**SQL Server Always On Availability Group.**</span></span> <span data-ttu-id="09cd4-134">Assicura disponibilità elevata al livello dati, abilitando la replica e il failover.</span><span class="sxs-lookup"><span data-stu-id="09cd4-134">Provides high availability at the data tier, by enabling replication and failover.</span></span>
* <span data-ttu-id="09cd4-135">**Server di Active Directory Domain Services.**</span><span class="sxs-lookup"><span data-stu-id="09cd4-135">**Active Directory Domain Services (AD DS) Servers**.</span></span> <span data-ttu-id="09cd4-136">Nelle versioni precedenti a Windows Server 2016 i gruppi di disponibilità AlwaysOn di SQL Server devono far parte di un dominio,</span><span class="sxs-lookup"><span data-stu-id="09cd4-136">Prior to Windows Server 2016, SQL Server Always On Availability Groups must be joined to a domain.</span></span> <span data-ttu-id="09cd4-137">in quanto questi gruppi dipendono dalla tecnologia WSFC (Windows Server Failover Cluster).</span><span class="sxs-lookup"><span data-stu-id="09cd4-137">This is because Availability Groups depend on Windows Server Failover Cluster (WSFC) technology.</span></span> <span data-ttu-id="09cd4-138">A partire da Windows Server 2016 è possibile creare un cluster di failover senza Active Directory, nel qual caso i server di Active Directory Domain Services non sono necessari per questa architettura.</span><span class="sxs-lookup"><span data-stu-id="09cd4-138">Windows Server 2016 introduces the ability to create a Failover Cluster without Active Directory, in which case the AD DS servers are not required for this architecture.</span></span> <span data-ttu-id="09cd4-139">Per altre informazioni, vedere [Novità di Clustering di failover in Windows Server 2016][wsfc-whats-new].</span><span class="sxs-lookup"><span data-stu-id="09cd4-139">For more information, see [What's new in Failover Clustering in Windows Server 2016][wsfc-whats-new].</span></span>

## <a name="recommendations"></a><span data-ttu-id="09cd4-140">Raccomandazioni</span><span class="sxs-lookup"><span data-stu-id="09cd4-140">Recommendations</span></span>

<span data-ttu-id="09cd4-141">I requisiti della propria organizzazione potrebbero essere diversi da quelli dell'architettura descritta in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="09cd4-141">Your requirements might differ from the architecture described here.</span></span> <span data-ttu-id="09cd4-142">Usare queste indicazioni come punto di partenza.</span><span class="sxs-lookup"><span data-stu-id="09cd4-142">Use these recommendations as a starting point.</span></span> 

### <a name="vnet--subnets"></a><span data-ttu-id="09cd4-143">Rete virtuale/subnet</span><span class="sxs-lookup"><span data-stu-id="09cd4-143">VNet / Subnets</span></span>

<span data-ttu-id="09cd4-144">Quando si crea la rete virtuale, determinare quanti indirizzi IP saranno necessari alle risorse in ogni subnet.</span><span class="sxs-lookup"><span data-stu-id="09cd4-144">When you create the VNet, determine how many IP addresses your resources in each subnet require.</span></span> <span data-ttu-id="09cd4-145">Specificare una subnet mask e un intervallo di indirizzi della rete virtuale abbastanza ampio da contenere gli indirizzi IP necessari, usando la notazione [CIDR].</span><span class="sxs-lookup"><span data-stu-id="09cd4-145">Specify a subnet mask and a VNet address range large enough for the required IP addresses, using [CIDR] notation.</span></span> <span data-ttu-id="09cd4-146">Usare uno spazio indirizzi che rientri nei [blocchi di indirizzi IP privati][private-ip-space] standard, ossia 10.0.0.0/8, 172.16.0.0/12 e 192.168.0.0/16.</span><span class="sxs-lookup"><span data-stu-id="09cd4-146">Use an address space that falls within the standard [private IP address blocks][private-ip-space], which are 10.0.0.0/8, 172.16.0.0/12, and 192.168.0.0/16.</span></span>

<span data-ttu-id="09cd4-147">Scegliere un intervallo di indirizzi che non si sovrapponga alla rete locale, in caso occorra in seguito configurare un gateway tra la rete virtuale e la rete locale.</span><span class="sxs-lookup"><span data-stu-id="09cd4-147">Choose an address range that does not overlap with your on-premises network, in case you need to set up a gateway between the VNet and your on-premise network later.</span></span> <span data-ttu-id="09cd4-148">Una volta creata la rete virtuale, non è più possibile cambiare l'intervallo di indirizzi.</span><span class="sxs-lookup"><span data-stu-id="09cd4-148">Once you create the VNet, you can't change the address range.</span></span>

<span data-ttu-id="09cd4-149">Progettare le subnet tenendo presenti i requisiti di funzionamento e sicurezza.</span><span class="sxs-lookup"><span data-stu-id="09cd4-149">Design subnets with functionality and security requirements in mind.</span></span> <span data-ttu-id="09cd4-150">Tutte le macchine virtuali nello stesso livello o nello stesso ruolo dovrebbero far parte della stessa subnet, che può essere un limite di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="09cd4-150">All VMs within the same tier or role should go into the same subnet, which can be a security boundary.</span></span> <span data-ttu-id="09cd4-151">Per altre informazioni sulla progettazione di reti virtuali e subnet, vedere [Pianificare e progettare reti virtuali di Azure][plan-network].</span><span class="sxs-lookup"><span data-stu-id="09cd4-151">For more information about designing VNets and subnets, see [Plan and design Azure Virtual Networks][plan-network].</span></span>

<span data-ttu-id="09cd4-152">Per ogni subnet occorre specificare lo spazio indirizzi usando la notazione CIDR.</span><span class="sxs-lookup"><span data-stu-id="09cd4-152">For each subnet, specify the address space for the subnet in CIDR notation.</span></span> <span data-ttu-id="09cd4-153">Ad esempio, "10.0.0.0/24" crea un intervallo di 256 indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="09cd4-153">For example, '10.0.0.0/24' creates a range of 256 IP addresses.</span></span> <span data-ttu-id="09cd4-154">Le macchine virtuali ne possono usare 251. Gli altri cinque sono riservati.</span><span class="sxs-lookup"><span data-stu-id="09cd4-154">VMs can use 251 of these; five are reserved.</span></span> <span data-ttu-id="09cd4-155">Assicurarsi che gli intervalli di indirizzi non si sovrappongano nelle varie subnet.</span><span class="sxs-lookup"><span data-stu-id="09cd4-155">Make sure the address ranges don't overlap across subnets.</span></span> <span data-ttu-id="09cd4-156">Vedere [Domande frequenti sulla rete virtuale di Azure][vnet faq].</span><span class="sxs-lookup"><span data-stu-id="09cd4-156">See the [Virtual Network FAQ][vnet faq].</span></span>

### <a name="network-security-groups"></a><span data-ttu-id="09cd4-157">Gruppi di sicurezza di rete</span><span class="sxs-lookup"><span data-stu-id="09cd4-157">Network security groups</span></span>

<span data-ttu-id="09cd4-158">Usare le regole NSG per limitare il traffico fra livelli.</span><span class="sxs-lookup"><span data-stu-id="09cd4-158">Use NSG rules to restrict traffic between tiers.</span></span> <span data-ttu-id="09cd4-159">Ad esempio, nell'architettura a 3 livelli illustrata sopra il livello Web non comunica direttamente con il livello database.</span><span class="sxs-lookup"><span data-stu-id="09cd4-159">For example, in the 3-tier architecture shown above, the web tier does not communicate directly with the database tier.</span></span> <span data-ttu-id="09cd4-160">Per applicare questo comportamento, il livello database deve bloccare il traffico in entrata dalla subnet del livello Web.</span><span class="sxs-lookup"><span data-stu-id="09cd4-160">To enforce this, the database tier should block incoming traffic from the web tier subnet.</span></span>  

1. <span data-ttu-id="09cd4-161">Creare un gruppo di sicurezza di rete (NSG) e associarlo alla subnet del livello database.</span><span class="sxs-lookup"><span data-stu-id="09cd4-161">Create an NSG and associate it to the database tier subnet.</span></span>
2. <span data-ttu-id="09cd4-162">Aggiungere una regola che rifiuti tutto il traffico in entrata dalla rete virtuale</span><span class="sxs-lookup"><span data-stu-id="09cd4-162">Add a rule that denies all inbound traffic from the VNet.</span></span> <span data-ttu-id="09cd4-163">(usare il tag `VIRTUAL_NETWORK` nella regola).</span><span class="sxs-lookup"><span data-stu-id="09cd4-163">(Use the `VIRTUAL_NETWORK` tag in the rule.)</span></span> 
3. <span data-ttu-id="09cd4-164">Aggiungere una regola con una priorità più alta che consenta il traffico in entrata dalla subnet del livello business.</span><span class="sxs-lookup"><span data-stu-id="09cd4-164">Add a rule with a higher priority that allows inbound traffic from the business tier subnet.</span></span> <span data-ttu-id="09cd4-165">Questa regola esegue l'override di quella precedente e consente al livello business di comunicare con il livello database.</span><span class="sxs-lookup"><span data-stu-id="09cd4-165">This rule overrides the previous rule, and allows the business tier to talk to the database tier.</span></span>
4. <span data-ttu-id="09cd4-166">Aggiungere una regola che consenta il traffico in entrata dalla subnet del livello database.</span><span class="sxs-lookup"><span data-stu-id="09cd4-166">Add a rule that allows inbound traffic from within the database tier subnet itself.</span></span> <span data-ttu-id="09cd4-167">Questa regola permette la comunicazione tra le macchine virtuali nel livello database, condizione necessaria per la replica e il failover dei database.</span><span class="sxs-lookup"><span data-stu-id="09cd4-167">This rule allows communication between VMs in the database tier, which is needed for database replication and failover.</span></span>
5. <span data-ttu-id="09cd4-168">Aggiungere una regola che consenta il traffico RDP dalla subnet del jumpbox.</span><span class="sxs-lookup"><span data-stu-id="09cd4-168">Add a rule that allows RDP traffic from the jumpbox subnet.</span></span> <span data-ttu-id="09cd4-169">Questa regola consente agli amministratori di connettersi al livello database dal jumpbox.</span><span class="sxs-lookup"><span data-stu-id="09cd4-169">This rule lets administrators connect to the database tier from the jumpbox.</span></span>
   
   > [!NOTE]
   > <span data-ttu-id="09cd4-170">Un NSG ha regole predefinite che consentono qualsiasi tipo di traffico in entrata dalla rete virtuale.</span><span class="sxs-lookup"><span data-stu-id="09cd4-170">An NSG has default rules that allow any inbound traffic from within the VNet.</span></span> <span data-ttu-id="09cd4-171">Queste regole non possono essere eliminate, ma è possibile eseguirne l'override creando regole con priorità più alta.</span><span class="sxs-lookup"><span data-stu-id="09cd4-171">These rules can't be deleted, but you can override them by creating higher priority rules.</span></span>
   > 
   > 

### <a name="load-balancers"></a><span data-ttu-id="09cd4-172">Servizi di bilanciamento del carico</span><span class="sxs-lookup"><span data-stu-id="09cd4-172">Load balancers</span></span>

<span data-ttu-id="09cd4-173">Il servizio di bilanciamento del carico esterno distribuisce il traffico Internet al livello Web.</span><span class="sxs-lookup"><span data-stu-id="09cd4-173">The external load balancer distributes Internet traffic to the web tier.</span></span> <span data-ttu-id="09cd4-174">Creare un indirizzo IP pubblico per questo servizio.</span><span class="sxs-lookup"><span data-stu-id="09cd4-174">Create a public IP address for this load balancer.</span></span> <span data-ttu-id="09cd4-175">Vedere [Creazione del servizio di bilanciamento del carico Internet attraverso il portale di Azure][lb-external-create].</span><span class="sxs-lookup"><span data-stu-id="09cd4-175">See [Creating an Internet-facing load balancer][lb-external-create].</span></span>

<span data-ttu-id="09cd4-176">Il servizio di bilanciamento del carico interno distribuisce il traffico di rete dal livello Web al livello business.</span><span class="sxs-lookup"><span data-stu-id="09cd4-176">The internal load balancer distributes network traffic from the web tier to the business tier.</span></span> <span data-ttu-id="09cd4-177">Per assegnare a questo servizio un indirizzo IP privato, creare una configurazione IP front-end e associarla alla subnet per il livello business.</span><span class="sxs-lookup"><span data-stu-id="09cd4-177">To give this load balancer a private IP address, create a frontend IP configuration and associate it with the subnet for the business tier.</span></span> <span data-ttu-id="09cd4-178">Vedere [Creare un servizio di bilanciamento del carico interno nel portale di Azure][lb-internal-create].</span><span class="sxs-lookup"><span data-stu-id="09cd4-178">See [Get started creating an Internal load balancer][lb-internal-create].</span></span>

### <a name="sql-server-always-on-availability-groups"></a><span data-ttu-id="09cd4-179">Gruppi di disponibilità AlwaysOn di SQL Server</span><span class="sxs-lookup"><span data-stu-id="09cd4-179">SQL Server Always On Availability Groups</span></span>

<span data-ttu-id="09cd4-180">È consigliabile usare i [gruppi di disponibilità AlwaysOn][sql-alwayson] per ottenere la disponibilità elevata di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="09cd4-180">We recommend [Always On Availability Groups][sql-alwayson] for SQL Server high availability.</span></span> <span data-ttu-id="09cd4-181">Nelle versioni precedenti a Windows Server 2016 i gruppi di disponibilità AlwaysOn richiedono un controller di dominio e tutti i nodi del gruppo di disponibilità devono far parte dello stesso dominio Active Directory.</span><span class="sxs-lookup"><span data-stu-id="09cd4-181">Prior to Windows Server 2016, Always On Availability Groups require a domain controller, and all nodes in the availability group must be in the same AD domain.</span></span>

<span data-ttu-id="09cd4-182">Altri livelli si connettono al database tramite un [listener del gruppo di disponibilità][sql-alwayson-listeners].</span><span class="sxs-lookup"><span data-stu-id="09cd4-182">Other tiers connect to the database through an [availability group listener][sql-alwayson-listeners].</span></span> <span data-ttu-id="09cd4-183">Il listener consente a un client SQL di connettersi senza conoscere il nome dell'istanza fisica di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="09cd4-183">The listener enables a SQL client to connect without knowing the name of the physical instance of SQL Server.</span></span> <span data-ttu-id="09cd4-184">Le macchine virtuali che accedono al database devono far parte del dominio.</span><span class="sxs-lookup"><span data-stu-id="09cd4-184">VMs that access the database must be joined to the domain.</span></span> <span data-ttu-id="09cd4-185">Il client (in questo caso un altro livello) usa il DNS per risolvere il nome della rete virtuale del listener in indirizzi IP.</span><span class="sxs-lookup"><span data-stu-id="09cd4-185">The client (in this case, another tier) uses DNS to resolve the listener's virtual network name into IP addresses.</span></span>

<span data-ttu-id="09cd4-186">Configurare il gruppo di disponibilità AlwaysOn di SQL Server nel modo seguente:</span><span class="sxs-lookup"><span data-stu-id="09cd4-186">Configure the SQL Server Always On Availability Group as follows:</span></span>

1. <span data-ttu-id="09cd4-187">Creare un cluster WSFC (Windows Server Failover Clustering), un gruppo di disponibilità AlwaysOn di SQL Server e una replica primaria.</span><span class="sxs-lookup"><span data-stu-id="09cd4-187">Create a Windows Server Failover Clustering (WSFC) cluster, a SQL Server Always On Availability Group, and a primary replica.</span></span> <span data-ttu-id="09cd4-188">Per altre informazioni, vedere [Introduzione ai gruppi di disponibilità AlwaysOn (SQL Server)][sql-alwayson-getting-started].</span><span class="sxs-lookup"><span data-stu-id="09cd4-188">For more information, see [Getting Started with Always On Availability Groups][sql-alwayson-getting-started].</span></span> 
2. <span data-ttu-id="09cd4-189">Creare un servizio di bilanciamento del carico interno con un indirizzo privato statico.</span><span class="sxs-lookup"><span data-stu-id="09cd4-189">Create an internal load balancer with a static private IP address.</span></span>
3. <span data-ttu-id="09cd4-190">Creare un listener del gruppo di disponibilità ed eseguire il mapping del nome DNS del listener all'indirizzo IP di un servizio di bilanciamento del carico interno.</span><span class="sxs-lookup"><span data-stu-id="09cd4-190">Create an availability group listener, and map the listener's DNS name to the IP address of an internal load balancer.</span></span> 
4. <span data-ttu-id="09cd4-191">Creare una regola di bilanciamento del carico per la porta di ascolto di SQL Server (porta TCP 1433 per impostazione predefinita).</span><span class="sxs-lookup"><span data-stu-id="09cd4-191">Create a load balancer rule for the SQL Server listening port (TCP port 1433 by default).</span></span> <span data-ttu-id="09cd4-192">La regola di bilanciamento del carico deve abilitare l'*indirizzo IP mobile*, detto anche Direct Server Return,</span><span class="sxs-lookup"><span data-stu-id="09cd4-192">The load balancer rule must enable *floating IP*, also called Direct Server Return.</span></span> <span data-ttu-id="09cd4-193">per fare in modo che la macchina virtuale risponda direttamente al client, permettendo una connessione diretta alla replica primaria.</span><span class="sxs-lookup"><span data-stu-id="09cd4-193">This causes the VM to reply directly to the client, which enables a direct connection to the primary replica.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="09cd4-194">Quando l'indirizzo IP mobile è abilitato, il numero di porta front-end deve corrispondere al numero di porta back-end nella regola di bilanciamento del carico.</span><span class="sxs-lookup"><span data-stu-id="09cd4-194">When floating IP is enabled, the front-end port number must be the same as the back-end port number in the load balancer rule.</span></span>
  > 
  > 

<span data-ttu-id="09cd4-195">Quando un client SQL cerca di connettersi, il servizio di bilanciamento del carico indirizza la richiesta di connessione alla replica primaria.</span><span class="sxs-lookup"><span data-stu-id="09cd4-195">When a SQL client tries to connect, the load balancer routes the connection request to the primary replica.</span></span> <span data-ttu-id="09cd4-196">In caso di failover a un'altra replica, il servizio di bilanciamento del carico indirizza automaticamente le richieste successive a una nuova replica primaria.</span><span class="sxs-lookup"><span data-stu-id="09cd4-196">If there is a failover to another replica, the load balancer automatically routes subsequent requests to a new primary replica.</span></span> <span data-ttu-id="09cd4-197">Per altre informazioni, vedere [Configure an ILB listener for SQL Server Always On Availability Groups][sql-alwayson-ilb] (Configurare un listener ILB per i gruppi di disponibilità AlwaysOn di SQL Server).</span><span class="sxs-lookup"><span data-stu-id="09cd4-197">For more information, see [Configure an ILB listener for SQL Server Always On Availability Groups][sql-alwayson-ilb].</span></span>

<span data-ttu-id="09cd4-198">Durante un failover, le connessioni client esistenti vengono chiuse.</span><span class="sxs-lookup"><span data-stu-id="09cd4-198">During a failover, existing client connections are closed.</span></span> <span data-ttu-id="09cd4-199">Dopo il completamento del failover, le nuove connessioni verranno indirizzate alla nuova replica primaria.</span><span class="sxs-lookup"><span data-stu-id="09cd4-199">After the failover completes, new connections will be routed to the new primary replica.</span></span>

<span data-ttu-id="09cd4-200">Se l'applicazione esegue molte più letture che scritture, è possibile eseguire l'offload di alcune delle query di sola lettura a una replica secondaria.</span><span class="sxs-lookup"><span data-stu-id="09cd4-200">If your application makes significantly more reads than writes, you can offload some of the read-only queries to a secondary replica.</span></span> <span data-ttu-id="09cd4-201">Vedere [Utilizzo di un listener per connettersi a una replica secondaria di sola lettura (routing di sola lettura)][sql-alwayson-read-only-routing].</span><span class="sxs-lookup"><span data-stu-id="09cd4-201">See [Using a Listener to Connect to a Read-Only Secondary Replica (Read-Only Routing)][sql-alwayson-read-only-routing].</span></span>

<span data-ttu-id="09cd4-202">Testare la distribuzione [forzando un failover manuale][sql-alwayson-force-failover] del gruppo di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="09cd4-202">Test your deployment by [forcing a manual failover][sql-alwayson-force-failover] of the availability group.</span></span>

### <a name="jumpbox"></a><span data-ttu-id="09cd4-203">Jumpbox</span><span class="sxs-lookup"><span data-stu-id="09cd4-203">Jumpbox</span></span>

<span data-ttu-id="09cd4-204">Poiché il jumpbox avrà requisiti di prestazioni minimi, selezionare dimensioni macchina virtuale ridotte per il jumpbox, ad esempio Standard A1.</span><span class="sxs-lookup"><span data-stu-id="09cd4-204">The jumpbox will have minimal performance requirements, so select a small VM size for the jumpbox such as Standard A1.</span></span> 

<span data-ttu-id="09cd4-205">Creare un [indirizzo IP pubblico] per il jumpbox.</span><span class="sxs-lookup"><span data-stu-id="09cd4-205">Create a [public IP address] for the jumpbox.</span></span> <span data-ttu-id="09cd4-206">Collocare il jumpbox nella stessa rete virtuale delle altre macchine virtuali, ma in una subnet di gestione separata.</span><span class="sxs-lookup"><span data-stu-id="09cd4-206">Place the jumpbox in the same VNet as the other VMs, but in a separate management subnet.</span></span>

<span data-ttu-id="09cd4-207">Non consentire l'accesso RDP dalla rete Internet pubblica alle macchine virtuali che eseguono il carico di lavoro dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="09cd4-207">Do not allow RDP access from the public Internet to the VMs that run the application workload.</span></span> <span data-ttu-id="09cd4-208">L'accesso RDP a queste macchine virtuali deve sempre passare attraverso il jumpbox.</span><span class="sxs-lookup"><span data-stu-id="09cd4-208">Instead, all RDP access to these VMs must come through the jumpbox.</span></span> <span data-ttu-id="09cd4-209">Un amministratore accede al jumpbox, quindi accede alle altre macchine virtuali dal jumpbox.</span><span class="sxs-lookup"><span data-stu-id="09cd4-209">An administrator logs into the jumpbox, and then logs into the other VM from the jumpbox.</span></span> <span data-ttu-id="09cd4-210">Il jumpbox consente il traffico RDP da Internet, ma solo da indirizzi IP conosciuti e attendibili.</span><span class="sxs-lookup"><span data-stu-id="09cd4-210">The jumpbox allows RDP traffic from the Internet, but only from known, safe IP addresses.</span></span>

<span data-ttu-id="09cd4-211">Per proteggere il jumpbox, creare un gruppo di sicurezza di rete (NSG) e applicarlo alla subnet del jumpbox.</span><span class="sxs-lookup"><span data-stu-id="09cd4-211">To secure the jumpbox, create an NSG and apply it to the jumpbox subnet.</span></span> <span data-ttu-id="09cd4-212">Aggiungere una regola NSG che consenta le connessioni RDP solo da un set di indirizzi IP pubblici attendibili.</span><span class="sxs-lookup"><span data-stu-id="09cd4-212">Add an NSG rule that allows RDP connections only from a safe set of public IP addresses.</span></span> <span data-ttu-id="09cd4-213">L'NSG può essere collegato alla subnet o alla scheda di interfaccia di rete del jumpbox.</span><span class="sxs-lookup"><span data-stu-id="09cd4-213">The NSG can be attached either to the subnet or to the jumpbox NIC.</span></span> <span data-ttu-id="09cd4-214">In questo caso è consigliabile collegarlo alla scheda di interfaccia di rete, in modo che il traffico RDP sia consentito solo al jumpbox, anche se si aggiungono altre macchine virtuali alla stessa subnet.</span><span class="sxs-lookup"><span data-stu-id="09cd4-214">In this case, we recommend attaching it to the NIC, so RDP traffic is permitted only to the jumpbox, even if you add other VMs to the same subnet.</span></span>

<span data-ttu-id="09cd4-215">Configurare i gruppi di sicurezza di rete per le altre subnet per consentire il traffico RDP dalla subnet di gestione.</span><span class="sxs-lookup"><span data-stu-id="09cd4-215">Configure the NSGs for the other subnets to allow RDP traffic from the management subnet.</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="09cd4-216">Considerazioni sulla disponibilità</span><span class="sxs-lookup"><span data-stu-id="09cd4-216">Availability considerations</span></span>

<span data-ttu-id="09cd4-217">Al livello database, la presenza di più macchine virtuali non si traduce automaticamente in un database a disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="09cd4-217">At the database tier, having multiple VMs does not automatically translate into a highly available database.</span></span> <span data-ttu-id="09cd4-218">Per un database relazionale è in genere necessario usare la replica e il failover per ottenere la disponibilità elevata.</span><span class="sxs-lookup"><span data-stu-id="09cd4-218">For a relational database, you will typically need to use replication and failover to achieve high availability.</span></span> <span data-ttu-id="09cd4-219">Per SQL Server è consigliabile usare i [gruppi di disponibilità AlwaysOn][sql-alwayson].</span><span class="sxs-lookup"><span data-stu-id="09cd4-219">For SQL Server, we recommend using [Always On Availability Groups][sql-alwayson].</span></span> 

<span data-ttu-id="09cd4-220">Se occorre una disponibilità più elevata di quella fornita dal [contratto di servizio di Azure per le macchine virtuali][vm-sla], eseguire la replica dell'applicazione in due aree e usare Gestione traffico di Azure per il failover.</span><span class="sxs-lookup"><span data-stu-id="09cd4-220">If you need higher availability than the [Azure SLA for VMs][vm-sla] provides, replicate the application across two regions and use Azure Traffic Manager for failover.</span></span> <span data-ttu-id="09cd4-221">Per altre informazioni, vedere [Eseguire macchine virtuali Windows in più aree per una disponibilità elevata][multi-dc].</span><span class="sxs-lookup"><span data-stu-id="09cd4-221">For more information, see [Run Windows VMs in multiple regions for high availability][multi-dc].</span></span>   

## <a name="security-considerations"></a><span data-ttu-id="09cd4-222">Considerazioni relative alla sicurezza</span><span class="sxs-lookup"><span data-stu-id="09cd4-222">Security considerations</span></span>

<span data-ttu-id="09cd4-223">Crittografare i dati sensibili inattivi e usare[Azure Key Vault][azure-key-vault] per gestire le chiavi di crittografia del database.</span><span class="sxs-lookup"><span data-stu-id="09cd4-223">Encrypt sensitive data at rest and use [Azure Key Vault][azure-key-vault] to manage the database encryption keys.</span></span> <span data-ttu-id="09cd4-224">Key Vault consente di archiviare le chiavi di crittografia in moduli di protezione hardware.</span><span class="sxs-lookup"><span data-stu-id="09cd4-224">Key Vault can store encryption keys in hardware security modules (HSMs).</span></span> <span data-ttu-id="09cd4-225">Per altre informazioni, vedere [Configurare l'integrazione di Azure Key Vault per SQL Server in VM di Azure][sql-keyvault]. È anche consigliabile archiviare i segreti dell'applicazione, come le stringhe di connessione di database, in Key Vault.</span><span class="sxs-lookup"><span data-stu-id="09cd4-225">For more information, see [Configure Azure Key Vault Integration for SQL Server on Azure VMs][sql-keyvault] It's also recommended to store application secrets, such as database connection strings, in Key Vault.</span></span>

<span data-ttu-id="09cd4-226">Valutare l'aggiunta di un'appliance virtuale di rete per creare una rete perimetrale tra la rete Internet e la rete virtuale di Azure.</span><span class="sxs-lookup"><span data-stu-id="09cd4-226">Consider adding a network virtual appliance (NVA) to create a DMZ between the Internet and the Azure virtual network.</span></span> <span data-ttu-id="09cd4-227">Un'appliance virtuale di rete esegue attività correlate alla rete, ad esempio impostazione di un firewall, ispezione di pacchetti, controllo e routing personalizzato.</span><span class="sxs-lookup"><span data-stu-id="09cd4-227">NVA is a generic term for a virtual appliance that can perform network-related tasks, such as firewall, packet inspection, auditing, and custom routing.</span></span> <span data-ttu-id="09cd4-228">Per altre informazioni, vedere [Implementazione di una rete perimetrale tra Azure e Internet][dmz].</span><span class="sxs-lookup"><span data-stu-id="09cd4-228">For more information, see [Implementing a DMZ between Azure and the Internet][dmz].</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="09cd4-229">Considerazioni sulla scalabilità</span><span class="sxs-lookup"><span data-stu-id="09cd4-229">Scalability considerations</span></span>

<span data-ttu-id="09cd4-230">I servizi di bilanciamento del carico distribuiscono il traffico ai livelli Web e business.</span><span class="sxs-lookup"><span data-stu-id="09cd4-230">The load balancers distribute network traffic to the web and business tiers.</span></span> <span data-ttu-id="09cd4-231">Per ottenere la scalabilità orizzontale, aggiungere nuove istanze di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="09cd4-231">Scale horizontally by adding new VM instances.</span></span> <span data-ttu-id="09cd4-232">La scalabilità dei livelli Web e business può essere ottenuta in modo indipendente, in base al carico.</span><span class="sxs-lookup"><span data-stu-id="09cd4-232">Note that you can scale the web and business tiers independently, based on load.</span></span> <span data-ttu-id="09cd4-233">Per ridurre le possibili complicazioni causate dalla necessità di mantenere l'affinità dei client, le macchine virtuali nel livello Web devono essere senza stato.</span><span class="sxs-lookup"><span data-stu-id="09cd4-233">To reduce possible complications caused by the need to maintain client affinity, the VMs in the web tier should be stateless.</span></span> <span data-ttu-id="09cd4-234">Anche le macchine virtuali che ospitano la logica di business devono essere senza stato.</span><span class="sxs-lookup"><span data-stu-id="09cd4-234">The VMs hosting the business logic should also be stateless.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="09cd4-235">Considerazioni sulla gestibilità</span><span class="sxs-lookup"><span data-stu-id="09cd4-235">Manageability considerations</span></span>

<span data-ttu-id="09cd4-236">Per semplificare la gestione dell'intero sistema, usare strumenti di amministrazione centralizzata come [Automazione di Azure][azure-administration], [Microsoft Operations Management Suite][operations-management-suite], [Chef][chef] o [Puppet][puppet].</span><span class="sxs-lookup"><span data-stu-id="09cd4-236">Simplify management of the entire system by using centralized administration tools such as [Azure Automation][azure-administration], [Microsoft Operations Management Suite][operations-management-suite], [Chef][chef], or [Puppet][puppet].</span></span> <span data-ttu-id="09cd4-237">Questi strumenti consentono di unire le informazioni di diagnostica e integrità acquisite da più macchine virtuali in modo da avere un quadro d'insieme generale del sistema.</span><span class="sxs-lookup"><span data-stu-id="09cd4-237">These tools can consolidate diagnostic and health information captured from multiple VMs to provide an overall view of the system.</span></span>

## <a name="deploy-the-solution"></a><span data-ttu-id="09cd4-238">Distribuire la soluzione</span><span class="sxs-lookup"><span data-stu-id="09cd4-238">Deploy the solution</span></span>

<span data-ttu-id="09cd4-239">Una distribuzione di questa architettura di riferimento è disponibile in [GitHub][github-folder].</span><span class="sxs-lookup"><span data-stu-id="09cd4-239">A deployment for this reference architecture is available on [GitHub][github-folder].</span></span> 

### <a name="prerequisites"></a><span data-ttu-id="09cd4-240">Prerequisiti</span><span class="sxs-lookup"><span data-stu-id="09cd4-240">Prerequisites</span></span>

<span data-ttu-id="09cd4-241">Prima di poter distribuire l'architettura di riferimento nella propria sottoscrizione, è necessario eseguire i passaggi seguenti.</span><span class="sxs-lookup"><span data-stu-id="09cd4-241">Before you can deploy the reference architecture to your own subscription, you must perform the following steps.</span></span>

1. <span data-ttu-id="09cd4-242">Clonare, creare una copia tramite fork o scaricare il file ZIP per il repository GitHub delle [architetture di riferimento AzureCAT][ref-arch-repo].</span><span class="sxs-lookup"><span data-stu-id="09cd4-242">Clone, fork, or download the zip file for the [AzureCAT reference architectures][ref-arch-repo] GitHub repository.</span></span>

2. <span data-ttu-id="09cd4-243">Verificare che nel computer sia installata l'interfaccia della riga di comando di Azure 2.0.</span><span class="sxs-lookup"><span data-stu-id="09cd4-243">Make sure you have the Azure CLI 2.0 installed on your computer.</span></span> <span data-ttu-id="09cd4-244">Per installare l'interfaccia della riga di comando, seguire le istruzioni in [Installare l'interfaccia della riga di comando di Azure 2.0][azure-cli-2].</span><span class="sxs-lookup"><span data-stu-id="09cd4-244">To install the CLI, follow the instructions in [Install Azure CLI 2.0][azure-cli-2].</span></span>

3. <span data-ttu-id="09cd4-245">Installare il pacchetto npm dei [blocchi predefiniti di Azure][azbb].</span><span class="sxs-lookup"><span data-stu-id="09cd4-245">Install the [Azure building blocks][azbb] npm package.</span></span>

  ```bash
  npm install -g @mspnp/azure-building-blocks
  ```

4. <span data-ttu-id="09cd4-246">Da un prompt dei comandi, di Bash o di PowerShell accedere al proprio account di Azure usando uno dei comandi riportati di seguito e seguire le istruzioni.</span><span class="sxs-lookup"><span data-stu-id="09cd4-246">From a command prompt, bash prompt, or PowerShell prompt, login to your Azure account by using one of the commands below, and follow the prompts.</span></span>

  ```bash
  az login
  ```

### <a name="deploy-the-solution-using-azbb"></a><span data-ttu-id="09cd4-247">Distribuire la soluzione mediante azbb</span><span class="sxs-lookup"><span data-stu-id="09cd4-247">Deploy the solution using azbb</span></span>

<span data-ttu-id="09cd4-248">Per distribuire le macchine virtuali Windows per un'architettura di riferimento per applicazioni a più livelli, seguire questi passaggi:</span><span class="sxs-lookup"><span data-stu-id="09cd4-248">To deploy the Windows VMs for an N-tier application reference architecture, follow these steps:</span></span>

1. <span data-ttu-id="09cd4-249">Passare alla cartella `virtual-machines\n-tier-windows` per il repository clonato nel passaggio 1 dei prerequisiti nella sezione precedente.</span><span class="sxs-lookup"><span data-stu-id="09cd4-249">Navigate to the `virtual-machines\n-tier-windows` folder for the repository you cloned in step 1 of the pre-requisites above.</span></span>

2. <span data-ttu-id="09cd4-250">Il file di parametri specifica un nome utente amministratore predefinito e una password per ogni macchina virtuale nella distribuzione.</span><span class="sxs-lookup"><span data-stu-id="09cd4-250">The parameter file specifies a default adminstrator user name and password for each VM in the deployment.</span></span> <span data-ttu-id="09cd4-251">È necessario modificare questi elementi prima di distribuire l'architettura di riferimento.</span><span class="sxs-lookup"><span data-stu-id="09cd4-251">You must change these before you deploy the reference architecture.</span></span> <span data-ttu-id="09cd4-252">Aprire il file `n-tier-windows.json` e sostituire ogni campo **adminUsername** e **adminPassword** con le nuove impostazioni.</span><span class="sxs-lookup"><span data-stu-id="09cd4-252">Open the `n-tier-windows.json` file and replace each **adminUsername** and **adminPassword** field with your new settings.</span></span>
  
  > [!NOTE]
  > <span data-ttu-id="09cd4-253">Durante questa distribuzione vengono eseguiti molti script, sia negli oggetti **VirtualMachineExtension** sia nelle impostazioni **extensions** per alcuni degli oggetti **VirtualMachine**.</span><span class="sxs-lookup"><span data-stu-id="09cd4-253">There are multiple scripts that run during this deployment both in the  **VirtualMachineExtension** objects and in the **extensions** settings for some of the **VirtualMachine** objects.</span></span> <span data-ttu-id="09cd4-254">Alcuni di questi script richiedono il nome utente amministratore e la password appena modificati.</span><span class="sxs-lookup"><span data-stu-id="09cd4-254">Some of these scripts require the administrator user name and password that you have just changed.</span></span> <span data-ttu-id="09cd4-255">È consigliabile esaminare questi script per assicurarsi di aver specificato le credenziali corrette.</span><span class="sxs-lookup"><span data-stu-id="09cd4-255">It's recommended that you review these scripts to ensure that you specified the correct credentials.</span></span> <span data-ttu-id="09cd4-256">La distribuzione può non riuscire se non si specificano le credenziali corrette.</span><span class="sxs-lookup"><span data-stu-id="09cd4-256">The deployment may fail if you have not specified the correct credentials.</span></span>
  > 
  > 

<span data-ttu-id="09cd4-257">Salvare il file.</span><span class="sxs-lookup"><span data-stu-id="09cd4-257">Save the file.</span></span>

3. <span data-ttu-id="09cd4-258">Distribuire l'architettura di riferimento usando lo strumento da riga di comando **azbb**, come mostrato di seguito.</span><span class="sxs-lookup"><span data-stu-id="09cd4-258">Deploy the reference architecture using the **azbb** command line tool as shown below.</span></span>

  ```bash
  azbb -s <your subscription_id> -g <your resource_group_name> -l <azure region> -p n-tier-windows.json --deploy
  ```

<span data-ttu-id="09cd4-259">Per altre informazioni sulla distribuzione di questa architettura di riferimento di esempio usando blocchi predefiniti di Azure, visitare il [repository GitHub][git].</span><span class="sxs-lookup"><span data-stu-id="09cd4-259">For more information on deploying this sample reference architecture using Azure Building Blocks, visit the [GitHub repository][git].</span></span>


<!-- links -->
[dmz]: ../dmz/secure-vnet-dmz.md
[multi-dc]: multi-region-application.md
[multi-vm]: multi-vm.md
[n-tier]: n-tier.md
[azbb]: https://github.com/mspnp/template-building-blocks/wiki/Install-Azure-Building-Blocks
[azure-administration]: /azure/automation/automation-intro
[azure-availability-sets]: /azure/virtual-machines/virtual-machines-windows-manage-availability#configure-each-application-tier-into-separate-availability-sets
[azure-cli]: /azure/virtual-machines-command-line-tools
[azure-cli-2]: https://docs.microsoft.com/cli/azure/install-azure-cli?view=azure-cli-latest
[azure-key-vault]: https://azure.microsoft.com/services/key-vault
[bastion host]: https://en.wikipedia.org/wiki/Bastion_host
[CIDR]: https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing
[chef]: https://www.chef.io/solutions/azure/
[git]: https://github.com/mspnp/template-building-blocks
[github-folder]: https://github.com/mspnp/reference-architectures/tree/master/virtual-machines/n-tier-windows
[lb-external-create]: /azure/load-balancer/load-balancer-get-started-internet-portal
[lb-internal-create]: /azure/load-balancer/load-balancer-get-started-ilb-arm-portal
[load-balancer-external]: /azure/load-balancer/load-balancer-internet-overview
[load-balancer-internal]: /azure/load-balancer/load-balancer-internal-overview
[nsg]: /azure/virtual-network/virtual-networks-nsg
[operations-management-suite]: https://www.microsoft.com/server-cloud/operations-management-suite/overview.aspx
[plan-network]: /azure/virtual-network/virtual-network-vnet-plan-design-arm
[private-ip-space]: https://en.wikipedia.org/wiki/Private_network#Private_IPv4_address_spaces
[indirizzo IP pubblico]: /azure/virtual-network/virtual-network-ip-addresses-overview-arm
[puppet]: https://puppetlabs.com/blog/managing-azure-virtual-machines-puppet
[ref-arch-repo]: https://github.com/mspnp/reference-architectures
[sql-alwayson]: https://msdn.microsoft.com/library/hh510230.aspx
[sql-alwayson-force-failover]: https://msdn.microsoft.com/library/ff877957.aspx
[sql-alwayson-getting-started]: https://msdn.microsoft.com/library/gg509118.aspx
[sql-alwayson-ilb]: /azure/virtual-machines/windows/sql/virtual-machines-windows-portal-sql-alwayson-int-listener
[sql-alwayson-listeners]: https://msdn.microsoft.com/library/hh213417.aspx
[sql-alwayson-read-only-routing]: https://technet.microsoft.com/library/hh213417.aspx#ConnectToSecondary
[sql-keyvault]: /azure/virtual-machines/virtual-machines-windows-ps-sql-keyvault
[vm-sla]: https://azure.microsoft.com/support/legal/sla/virtual-machines
[vnet faq]: /azure/virtual-network/virtual-networks-faq
[wsfc-whats-new]: https://technet.microsoft.com/windows-server-docs/failover-clustering/whats-new-in-failover-clustering
[Nagios]: https://www.nagios.org/
[Zabbix]: http://www.zabbix.com/
[Icinga]: http://www.icinga.org/
[visio-download]: https://archcenter.azureedge.net/cdn/vm-reference-architectures.vsdx
[0]: ./images/n-tier-diagram.png "Architettura a più livelli con Microsoft Azure"