---
title: Applicazione Web di base
titleSuffix: Azure Reference Architectures
description: Architettura consigliata per l'esecuzione delle applicazioni Web di base in Azure.
author: MikeWasson
ms.date: 12/12/2017
ms.topic: reference-architecture
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: seodec18
ms.openlocfilehash: 95f634284fe821386704174894a85a4dbca815f7
ms.sourcegitcommit: 1b50810208354577b00e89e5c031b774b02736e2
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 01/23/2019
ms.locfileid: "54485078"
---
# <a name="run-a-basic-web-application-in-azure"></a><span data-ttu-id="d51dc-103">Esecuzione di un'applicazione Web di base in Azure</span><span class="sxs-lookup"><span data-stu-id="d51dc-103">Run a basic web application in Azure</span></span>

<span data-ttu-id="d51dc-104">Questa architettura di riferimento mostra alcune procedure collaudate per un'applicazione Web che usa [Servizio app di Azure][app-service] e [Database SQL di Azure][sql-db].</span><span class="sxs-lookup"><span data-stu-id="d51dc-104">This reference architecture shows proven practices for a web application that uses [Azure App Service][app-service] and [Azure SQL Database][sql-db].</span></span> <span data-ttu-id="d51dc-105">[**Distribuire questa soluzione**](#deploy-the-solution).</span><span class="sxs-lookup"><span data-stu-id="d51dc-105">[**Deploy this solution**](#deploy-the-solution).</span></span>

![Architettura di riferimento per un'applicazione Web di base in Azure](./images/basic-web-app.png)

<span data-ttu-id="d51dc-107">*Scaricare un [file Visio][visio-download] di questa architettura.*</span><span class="sxs-lookup"><span data-stu-id="d51dc-107">*Download a [Visio file][visio-download] of this architecture.*</span></span>

## <a name="architecture"></a><span data-ttu-id="d51dc-108">Architettura</span><span class="sxs-lookup"><span data-stu-id="d51dc-108">Architecture</span></span>

> [!NOTE]
> <span data-ttu-id="d51dc-109">Questa architettura non è incentrata sullo sviluppo delle applicazioni e non usa uno specifico framework applicazione,</span><span class="sxs-lookup"><span data-stu-id="d51dc-109">This architecture does not focus on application development, and does not assume any particular application framework.</span></span> <span data-ttu-id="d51dc-110">ma ha piuttosto l'obiettivo di comprendere l'interazione tra i diversi servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="d51dc-110">The goal is to understand how various Azure services fit together.</span></span>
>

<span data-ttu-id="d51dc-111">L'architettura include i componenti seguenti:</span><span class="sxs-lookup"><span data-stu-id="d51dc-111">The architecture has the following components:</span></span>

- <span data-ttu-id="d51dc-112">**Gruppo di risorse**.</span><span class="sxs-lookup"><span data-stu-id="d51dc-112">**Resource group**.</span></span> <span data-ttu-id="d51dc-113">Un [gruppo di risorse](/azure/azure-resource-manager/resource-group-overview) è un contenitore logico per le risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="d51dc-113">A [resource group](/azure/azure-resource-manager/resource-group-overview) is a logical container for Azure resources.</span></span>

- <span data-ttu-id="d51dc-114">**App del servizio app**.</span><span class="sxs-lookup"><span data-stu-id="d51dc-114">**App Service app**.</span></span> <span data-ttu-id="d51dc-115">[Servizio app di Azure][app-service] è una piattaforma completamente gestita per la creazione e la distribuzione di applicazioni cloud.</span><span class="sxs-lookup"><span data-stu-id="d51dc-115">[Azure App Service][app-service] is a fully managed platform for creating and deploying cloud applications.</span></span>

- <span data-ttu-id="d51dc-116">**Piano di servizio app**.</span><span class="sxs-lookup"><span data-stu-id="d51dc-116">**App Service plan**.</span></span> <span data-ttu-id="d51dc-117">Un [piano di servizio app][app-service-plans] fornisce le macchine virtuali (VM) gestite che ospitano l'app.</span><span class="sxs-lookup"><span data-stu-id="d51dc-117">An [App Service plan][app-service-plans] provides the managed virtual machines (VMs) that host your app.</span></span> <span data-ttu-id="d51dc-118">Tutte le app associate a un piano vengono eseguite nelle stesse istanze della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="d51dc-118">All apps associated with a plan run on the same VM instances.</span></span>

- <span data-ttu-id="d51dc-119">**Slot di distribuzione**.</span><span class="sxs-lookup"><span data-stu-id="d51dc-119">**Deployment slots**.</span></span>  <span data-ttu-id="d51dc-120">Uno [slot di distribuzione][deployment-slots] consente di gestire temporaneamente una distribuzione e quindi scambiarla con la distribuzione di produzione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-120">A [deployment slot][deployment-slots] lets you stage a deployment and then swap it with the production deployment.</span></span> <span data-ttu-id="d51dc-121">In questo modo è possibile evitare di eseguire la distribuzione direttamente nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-121">That way, you avoid deploying directly into production.</span></span> <span data-ttu-id="d51dc-122">Per consigli specifici, vedere la sezione [Gestibilità](#manageability-considerations).</span><span class="sxs-lookup"><span data-stu-id="d51dc-122">See the [Manageability](#manageability-considerations) section for specific recommendations.</span></span>

- <span data-ttu-id="d51dc-123">**Indirizzo IP**.</span><span class="sxs-lookup"><span data-stu-id="d51dc-123">**IP address**.</span></span> <span data-ttu-id="d51dc-124">L'app del servizio app è associata a un indirizzo IP pubblico e a un nome di dominio.</span><span class="sxs-lookup"><span data-stu-id="d51dc-124">The App Service app has a public IP address and a domain name.</span></span> <span data-ttu-id="d51dc-125">Il nome di dominio è un sottodominio di `azurewebsites.net`, ad esempio `contoso.azurewebsites.net`.</span><span class="sxs-lookup"><span data-stu-id="d51dc-125">The domain name is a subdomain of `azurewebsites.net`, such as `contoso.azurewebsites.net`.</span></span>

- <span data-ttu-id="d51dc-126">**DNS di Azure**.</span><span class="sxs-lookup"><span data-stu-id="d51dc-126">**Azure DNS**.</span></span> <span data-ttu-id="d51dc-127">[DNS di Azure][azure-dns] è un servizio di hosting per i domini DNS, che fornisce la risoluzione dei nomi usando l'infrastruttura di Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="d51dc-127">[Azure DNS][azure-dns] is a hosting service for DNS domains, providing name resolution using Microsoft Azure infrastructure.</span></span> <span data-ttu-id="d51dc-128">Ospitando i domini in Azure, è possibile gestire i record DNS usando le stesse credenziali, API, strumenti e fatturazione come per gli altri servizi Azure.</span><span class="sxs-lookup"><span data-stu-id="d51dc-128">By hosting your domains in Azure, you can manage your DNS records using the same credentials, APIs, tools, and billing as your other Azure services.</span></span> <span data-ttu-id="d51dc-129">Per usare un nome di dominio personalizzato, ad esempio `contoso.com`, creare record DNS che eseguono il mapping del nome di dominio personalizzato all'indirizzo IP.</span><span class="sxs-lookup"><span data-stu-id="d51dc-129">To use a custom domain name (such as `contoso.com`) create DNS records that map the custom domain name to the IP address.</span></span> <span data-ttu-id="d51dc-130">Per ulteriori informazioni, vedere [Configurare un nome di dominio personalizzato nel servizio app di Azure][custom-domain-name].</span><span class="sxs-lookup"><span data-stu-id="d51dc-130">For more information, see [Configure a custom domain name in Azure App Service][custom-domain-name].</span></span>

- <span data-ttu-id="d51dc-131">**Database SQL di Azure**.</span><span class="sxs-lookup"><span data-stu-id="d51dc-131">**Azure SQL Database**.</span></span> <span data-ttu-id="d51dc-132">Il [database SQL][sql-db] è un database relazionale distribuito come servizio nel cloud.</span><span class="sxs-lookup"><span data-stu-id="d51dc-132">[SQL Database][sql-db] is a relational database-as-a-service in the cloud.</span></span> <span data-ttu-id="d51dc-133">Il database SQL condivide la base di codice con il motore di database di Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="d51dc-133">SQL Database shares its code base with the Microsoft SQL Server database engine.</span></span> <span data-ttu-id="d51dc-134">A seconda dei requisiti dell'applicazione, è anche possibile usare [Database di Azure per MySQL](/azure/mysql) o [Database di Azure per PostgreSQL](/azure/postgresql).</span><span class="sxs-lookup"><span data-stu-id="d51dc-134">Depending on your application requirements, you can also use [Azure Database for MySQL](/azure/mysql) or [Azure Database for PostgreSQL](/azure/postgresql).</span></span> <span data-ttu-id="d51dc-135">Questi sono servizi di database completamente gestiti rispettivamente basati sui motori di database open source MySQL Server e Postgres.</span><span class="sxs-lookup"><span data-stu-id="d51dc-135">These are fully managed database services, based on the open source MySQL Server and Postgres database engines, respectively.</span></span>

- <span data-ttu-id="d51dc-136">**Server logico**.</span><span class="sxs-lookup"><span data-stu-id="d51dc-136">**Logical server**.</span></span> <span data-ttu-id="d51dc-137">Nel database SQL di Azure un server logico ospita i database.</span><span class="sxs-lookup"><span data-stu-id="d51dc-137">In Azure SQL Database, a logical server hosts your databases.</span></span> <span data-ttu-id="d51dc-138">È possibile creare più database per ogni server logico.</span><span class="sxs-lookup"><span data-stu-id="d51dc-138">You can create multiple databases per logical server.</span></span>

- <span data-ttu-id="d51dc-139">**Archiviazione di Azure**.</span><span class="sxs-lookup"><span data-stu-id="d51dc-139">**Azure Storage**.</span></span> <span data-ttu-id="d51dc-140">Creare un account di archiviazione di Azure con un contenitore BLOB per archiviare i log di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="d51dc-140">Create an Azure storage account with a blob container to store diagnostic logs.</span></span>

- <span data-ttu-id="d51dc-141">**Azure Active Directory (Azure AD)**.</span><span class="sxs-lookup"><span data-stu-id="d51dc-141">**Azure Active Directory (Azure AD)**.</span></span> <span data-ttu-id="d51dc-142">Usare Azure AD o un altro provider di identità per l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-142">Use Azure AD or another identity provider for authentication.</span></span>

## <a name="recommendations"></a><span data-ttu-id="d51dc-143">Consigli</span><span class="sxs-lookup"><span data-stu-id="d51dc-143">Recommendations</span></span>

<span data-ttu-id="d51dc-144">I requisiti della propria organizzazione potrebbero essere diversi da quelli dell'architettura descritta in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="d51dc-144">Your requirements might differ from the architecture described here.</span></span> <span data-ttu-id="d51dc-145">Seguire le raccomandazioni contenute in questa sezione come punto di partenza.</span><span class="sxs-lookup"><span data-stu-id="d51dc-145">Use the recommendations in this section as a starting point.</span></span>

### <a name="app-service-plan"></a><span data-ttu-id="d51dc-146">Piano di servizio app</span><span class="sxs-lookup"><span data-stu-id="d51dc-146">App Service plan</span></span>

<span data-ttu-id="d51dc-147">Usare i livelli Standard o Premium in quanto supportano la scalabilità orizzontale, la scalabilità automatica e il protocollo SSL (Secure Socket Layer).</span><span class="sxs-lookup"><span data-stu-id="d51dc-147">Use the Standard or Premium tiers, because they support scale out, autoscale, and secure sockets layer (SSL).</span></span> <span data-ttu-id="d51dc-148">Ogni livello supporta diverse *dimensioni di istanza* che differiscono per numero di core e memoria.</span><span class="sxs-lookup"><span data-stu-id="d51dc-148">Each tier supports several *instance sizes* that differ by number of cores and memory.</span></span> <span data-ttu-id="d51dc-149">Dopo aver creato un piano è possibile modificare il livello o la dimensione dell'istanza.</span><span class="sxs-lookup"><span data-stu-id="d51dc-149">You can change the tier or instance size after you create a plan.</span></span> <span data-ttu-id="d51dc-150">Per altre informazioni sui piani di servizio app, vedere [Prezzi di Servizio App][app-service-plans-tiers].</span><span class="sxs-lookup"><span data-stu-id="d51dc-150">For more information about App Service plans, see [App Service Pricing][app-service-plans-tiers].</span></span>

<span data-ttu-id="d51dc-151">All'utente vengono addebitate le istanze del piano di servizio app anche se l'app viene arrestata.</span><span class="sxs-lookup"><span data-stu-id="d51dc-151">You are charged for the instances in the App Service plan, even if the app is stopped.</span></span> <span data-ttu-id="d51dc-152">Assicurarsi di eliminare i piani che non vengono usati, ad esempio le distribuzioni di prova.</span><span class="sxs-lookup"><span data-stu-id="d51dc-152">Make sure to delete plans that you aren't using (for example, test deployments).</span></span>

### <a name="sql-database"></a><span data-ttu-id="d51dc-153">Database SQL</span><span class="sxs-lookup"><span data-stu-id="d51dc-153">SQL Database</span></span>

<span data-ttu-id="d51dc-154">Usare la [versione V12][sql-db-v12] del database SQL.</span><span class="sxs-lookup"><span data-stu-id="d51dc-154">Use the [V12 version][sql-db-v12] of SQL Database.</span></span> <span data-ttu-id="d51dc-155">Il database SQL supporta i [livelli di servizio ][sql-db-service-tiers] Basic, Standard e Premium con più livelli di prestazioni all'interno di ciascuno di essi, misurati in [DTU (Database Transaction Unit)][sql-dtu].</span><span class="sxs-lookup"><span data-stu-id="d51dc-155">SQL Database supports Basic, Standard, and Premium [service tiers][sql-db-service-tiers], with multiple performance levels within each tier measured in [Database Transaction Units (DTUs)][sql-dtu].</span></span> <span data-ttu-id="d51dc-156">Eseguire la pianificazione delle capacità e scegliere un livello di prestazioni che soddisfi i propri requisiti.</span><span class="sxs-lookup"><span data-stu-id="d51dc-156">Perform capacity planning and choose a tier and performance level that meets your requirements.</span></span>

### <a name="region"></a><span data-ttu-id="d51dc-157">Region</span><span class="sxs-lookup"><span data-stu-id="d51dc-157">Region</span></span>

<span data-ttu-id="d51dc-158">Eseguire il provisioning del piano di servizio app e del database SQL nella stessa area per ridurre al minimo la latenza di rete.</span><span class="sxs-lookup"><span data-stu-id="d51dc-158">Provision the App Service plan and the SQL Database in the same region to minimize network latency.</span></span> <span data-ttu-id="d51dc-159">In genere, è consigliabile selezionare l'area più vicina agli utenti.</span><span class="sxs-lookup"><span data-stu-id="d51dc-159">Generally, choose the region closest to your users.</span></span>

<span data-ttu-id="d51dc-160">Anche il gruppo di risorse è associato a un'area, che specifica dove vengono archiviati i metadati di distribuzione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-160">The resource group also has a region, which specifies where deployment metadata is stored.</span></span> <span data-ttu-id="d51dc-161">Inserire il gruppo e le relative risorse nella stessa area,</span><span class="sxs-lookup"><span data-stu-id="d51dc-161">Put the resource group and its resources in the same region.</span></span> <span data-ttu-id="d51dc-162">per provare a migliorare la disponibilità durante la distribuzione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-162">This can improve availability during deployment.</span></span>

## <a name="scalability-considerations"></a><span data-ttu-id="d51dc-163">Considerazioni sulla scalabilità</span><span class="sxs-lookup"><span data-stu-id="d51dc-163">Scalability considerations</span></span>

<span data-ttu-id="d51dc-164">Uno dei vantaggi principali del servizio app di Azure è la possibilità di scalare l'applicazione in base al carico.</span><span class="sxs-lookup"><span data-stu-id="d51dc-164">A major benefit of Azure App Service is the ability to scale your application based on load.</span></span> <span data-ttu-id="d51dc-165">Ecco alcune considerazioni da tenere presenti quando si pianifica la scalabilità dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-165">Here are some considerations to keep in mind when planning to scale your application.</span></span>

### <a name="scaling-the-app-service-app"></a><span data-ttu-id="d51dc-166">Scalabilità dell'app del servizio app</span><span class="sxs-lookup"><span data-stu-id="d51dc-166">Scaling the App Service app</span></span>

<span data-ttu-id="d51dc-167">Esistono due modi per scalare un'app del servizio app:</span><span class="sxs-lookup"><span data-stu-id="d51dc-167">There are two ways to scale an App Service app:</span></span>

- <span data-ttu-id="d51dc-168">Tramite *scalabilità verticale*, ovvero modificando la dimensione dell'istanza.</span><span class="sxs-lookup"><span data-stu-id="d51dc-168">*Scale up*, which means changing the instance size.</span></span> <span data-ttu-id="d51dc-169">La dimensione dell'istanza determina la memoria, il numero di core e l'archiviazione in ogni istanza della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="d51dc-169">The instance size determines the memory, number of cores, and storage on each VM instance.</span></span> <span data-ttu-id="d51dc-170">È possibile scalare verticalmente in modo manuale modificando la dimensione dell'istanza o il livello di piano.</span><span class="sxs-lookup"><span data-stu-id="d51dc-170">You can scale up manually by changing the instance size or the plan tier.</span></span>

- <span data-ttu-id="d51dc-171">Tramite *Scalabilità orizzontale*, ovvero l'aggiunta di istanze per gestire carichi maggiori.</span><span class="sxs-lookup"><span data-stu-id="d51dc-171">*Scale out*, which means adding instances to handle increased load.</span></span> <span data-ttu-id="d51dc-172">Ogni livello tariffario prevede un numero massimo di istanze.</span><span class="sxs-lookup"><span data-stu-id="d51dc-172">Each pricing tier has a maximum number of instances.</span></span>

  <span data-ttu-id="d51dc-173">È possibile scalare orizzontalmente in modo manuale, modificando il numero di istanze oppure usare la [scalabilità automatica][web-app-autoscale] per far sì che Azure aggiunga o rimuova automaticamente le istanze in base a una pianificazione e/o alle metriche delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="d51dc-173">You can scale out manually by changing the instance count, or use [autoscaling][web-app-autoscale] to have Azure automatically add or remove instances based on a schedule and/or performance metrics.</span></span> <span data-ttu-id="d51dc-174">Ogni operazione di ridimensionamento avviene rapidamente, in genere in pochi secondi.</span><span class="sxs-lookup"><span data-stu-id="d51dc-174">Each scale operation happens quickly&mdash;typically within seconds.</span></span>

  <span data-ttu-id="d51dc-175">Per abilitare la scalabilità automatica, creare un *profilo* di scalabilità automatica che definisca il numero minimo e massimo di istanze.</span><span class="sxs-lookup"><span data-stu-id="d51dc-175">To enable autoscaling, create an autoscale *profile* that defines the minimum and maximum number of instances.</span></span> <span data-ttu-id="d51dc-176">È possibile pianificare i profili.</span><span class="sxs-lookup"><span data-stu-id="d51dc-176">Profiles can be scheduled.</span></span> <span data-ttu-id="d51dc-177">È ad esempio possibile creare profili distinti per i giorni della settimana e per i fine settimana.</span><span class="sxs-lookup"><span data-stu-id="d51dc-177">For example, you might create separate profiles for weekdays and weekends.</span></span> <span data-ttu-id="d51dc-178">Facoltativamente, un profilo può contenere le regole relative all'aggiunta o alla rimozione delle istanze.</span><span class="sxs-lookup"><span data-stu-id="d51dc-178">Optionally, a profile contains rules for when to add or remove instances.</span></span> <span data-ttu-id="d51dc-179">(Esempio: una regola per aggiungere due istanze se l'uso della CPU è superiore al 70% per 5 minuti.)</span><span class="sxs-lookup"><span data-stu-id="d51dc-179">(Example: Add two instances if CPU usage is above 70% for 5 minutes.)</span></span>

<span data-ttu-id="d51dc-180">Consigli per la scalabilità di un'app Web:</span><span class="sxs-lookup"><span data-stu-id="d51dc-180">Recommendations for scaling a web app:</span></span>

- <span data-ttu-id="d51dc-181">Per quanto possibile, evitare di scalare verticalmente e orizzontalmente in quanto questa operazione potrebbe attivare un riavvio dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-181">As much as possible, avoid scaling up and down, because it may trigger an application restart.</span></span> <span data-ttu-id="d51dc-182">In alternativa, selezionare un livello e una dimensione che soddisfino i propri requisiti prestazionali in condizioni di carico tipico e quindi scalare orizzontalmente le istanze per gestire le modifiche nel volume di traffico.</span><span class="sxs-lookup"><span data-stu-id="d51dc-182">Instead, select a tier and size that meet your performance requirements under typical load and then scale out the instances to handle changes in traffic volume.</span></span>
- <span data-ttu-id="d51dc-183">Abilitare la scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="d51dc-183">Enable autoscaling.</span></span> <span data-ttu-id="d51dc-184">Se l'applicazione presenta un carico di lavoro regolare e prevedibile, creare profili per pianificare i conteggi delle istanze anticipatamente.</span><span class="sxs-lookup"><span data-stu-id="d51dc-184">If your application has a predictable, regular workload, create profiles to schedule the instance counts ahead of time.</span></span> <span data-ttu-id="d51dc-185">Se il carico di lavoro non è prevedibile, usare la scalabilità automatica basata sulle regole per rispondere alle variazioni di carico che si verificano.</span><span class="sxs-lookup"><span data-stu-id="d51dc-185">If the workload is not predictable, use rule-based autoscaling to react to changes in load as they occur.</span></span> <span data-ttu-id="d51dc-186">È possibile combinare entrambi gli approcci.</span><span class="sxs-lookup"><span data-stu-id="d51dc-186">You can combine both approaches.</span></span>
- <span data-ttu-id="d51dc-187">L'uso della CPU è in genere una buona metrica per le regole di scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="d51dc-187">CPU usage is generally a good metric for autoscale rules.</span></span> <span data-ttu-id="d51dc-188">È tuttavia necessario testare il carico dell'applicazione, identificare potenziali colli di bottiglia e basare le regole di scalabilità automatica su tali dati.</span><span class="sxs-lookup"><span data-stu-id="d51dc-188">However, you should load test your application, identify potential bottlenecks, and base your autoscale rules on that data.</span></span>
- <span data-ttu-id="d51dc-189">Le regole di scalabilità automatica includono un periodo di *raffreddamento*, ovvero l'intervallo di attesa al termine di un'azione di ridimensionamento prima dell'avvio di una nuova azione di questo tipo.</span><span class="sxs-lookup"><span data-stu-id="d51dc-189">Autoscale rules include a *cool-down* period, which is the interval to wait after a scale action has completed before starting a new scale action.</span></span> <span data-ttu-id="d51dc-190">Il periodo di raffreddamento consente di stabilizzare il sistema prima di una nuova azione di ridimensionamento.</span><span class="sxs-lookup"><span data-stu-id="d51dc-190">The cool-down period lets the system stabilize before scaling again.</span></span> <span data-ttu-id="d51dc-191">Impostare un periodo di raffreddamento più breve per l'aggiunta delle istanze e uno più lungo per la relativa rimozione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-191">Set a shorter cool-down period for adding instances, and a longer cool-down period for removing instances.</span></span> <span data-ttu-id="d51dc-192">Impostare, ad esempio, 5 minuti per aggiungere un'istanza e 60 minuti per rimuoverla.</span><span class="sxs-lookup"><span data-stu-id="d51dc-192">For example, set 5 minutes to add an instance, but 60 minutes to remove an instance.</span></span> <span data-ttu-id="d51dc-193">In condizioni di carico elevato, è preferibile aggiungere rapidamente nuove istanze per gestire il traffico aggiuntivo e quindi ridurle gradualmente.</span><span class="sxs-lookup"><span data-stu-id="d51dc-193">It's better to add new instances quickly under heavy load to handle the additional traffic, and then gradually scale back.</span></span>

### <a name="scaling-sql-database"></a><span data-ttu-id="d51dc-194">Ridimensionamento del database SQL</span><span class="sxs-lookup"><span data-stu-id="d51dc-194">Scaling SQL Database</span></span>

<span data-ttu-id="d51dc-195">Se è necessario un livello di servizio o di prestazioni superiore per il database SQL, è possibile scalare verticalmente i singoli database senza tempi di inattività dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-195">If you need a higher service tier or performance level for SQL Database, you can scale up individual databases with no application downtime.</span></span> <span data-ttu-id="d51dc-196">Per altre informazioni vedere [Prestazioni e opzioni del database SQL: riconoscimento delle offerte in ogni livello di servizio][sql-db-scale].</span><span class="sxs-lookup"><span data-stu-id="d51dc-196">For more information, see [SQL Database options and performance: Understand what's available in each service tier][sql-db-scale].</span></span>

## <a name="availability-considerations"></a><span data-ttu-id="d51dc-197">Considerazioni sulla disponibilità</span><span class="sxs-lookup"><span data-stu-id="d51dc-197">Availability considerations</span></span>

<span data-ttu-id="d51dc-198">Al momento della scrittura, il contratto di servizio (SLA) per il servizio app è pari al 99,95% e il contratto di servizio per il database SQL è pari al 99,99% per i livelli Basic, Standard e Premium.</span><span class="sxs-lookup"><span data-stu-id="d51dc-198">At the time of writing, the service level agreement (SLA) for App Service is 99.95% and the SLA for SQL Database is 99.99% for Basic, Standard, and Premium tiers.</span></span>

> [!NOTE]
> <span data-ttu-id="d51dc-199">Il contratto di servizio del servizio app si applica a una o più istanze.</span><span class="sxs-lookup"><span data-stu-id="d51dc-199">The App Service SLA applies to both single and multiple instances.</span></span>
>

### <a name="backups"></a><span data-ttu-id="d51dc-200">Backup</span><span class="sxs-lookup"><span data-stu-id="d51dc-200">Backups</span></span>

<span data-ttu-id="d51dc-201">In caso di perdita di dati, il database SQL offre funzionalità di ripristino temporizzato e geografico.</span><span class="sxs-lookup"><span data-stu-id="d51dc-201">In the event of data loss, SQL Database provides point-in-time restore and geo-restore.</span></span> <span data-ttu-id="d51dc-202">Tali funzionalità sono disponibili in tutti i livelli e vengono abilitate automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d51dc-202">These features are available in all tiers and are automatically enabled.</span></span> <span data-ttu-id="d51dc-203">Non è necessario pianificare o gestire i backup.</span><span class="sxs-lookup"><span data-stu-id="d51dc-203">You don't need to schedule or manage the backups.</span></span>

- <span data-ttu-id="d51dc-204">Usare il ripristino temporizzato per eseguire il [ripristino da un errore umano][sql-human-error] e riportare il database a un determinato momento precedente.</span><span class="sxs-lookup"><span data-stu-id="d51dc-204">Use point-in-time restore to [recover from human error][sql-human-error] by returning the database to an earlier point in time.</span></span>
- <span data-ttu-id="d51dc-205">Usare il ripristino geografico per eseguire il [ripristino da un'interruzione del servizio] [ sql-outage-recovery] recuperando un database da un backup con ridondanza geografica.</span><span class="sxs-lookup"><span data-stu-id="d51dc-205">Use geo-restore to [recover from a service outage][sql-outage-recovery] by restoring a database from a geo-redundant backup.</span></span>

<span data-ttu-id="d51dc-206">Per altre informazioni, vedere l'articolo relativo alla [continuità aziendale del cloud e al ripristino di emergenza del database con database SQL][sql-backup].</span><span class="sxs-lookup"><span data-stu-id="d51dc-206">For more information, see [Cloud business continuity and database disaster recovery with SQL Database][sql-backup].</span></span>

<span data-ttu-id="d51dc-207">Il servizio app offre una funzionalità di [backup e ripristino][web-app-backup] per i file dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-207">App Service provides a [backup and restore][web-app-backup] feature for your application files.</span></span> <span data-ttu-id="d51dc-208">È tuttavia necessario tenere presente che i file di backup includono impostazioni dell'app in testo normale che possono includere segreti quali le stringhe di connessione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-208">However, be aware that the backed-up files include app settings in plain text and these may include secrets, such as connection strings.</span></span> <span data-ttu-id="d51dc-209">Evitare di usare la funzionalità di backup del servizio app per eseguire il backup dei database SQL perché il database viene esportato in un file SQL con estensione BACPAC, consumando le [DTU][sql-dtu] disponibili.</span><span class="sxs-lookup"><span data-stu-id="d51dc-209">Avoid using the App Service backup feature to back up your SQL databases because it exports the database to a SQL .bacpac file, consuming [DTUs][sql-dtu].</span></span> <span data-ttu-id="d51dc-210">Al suo posto, usare il ripristino temporizzato del database SQL descritto sopra.</span><span class="sxs-lookup"><span data-stu-id="d51dc-210">Instead, use SQL Database point-in-time restore described above.</span></span>

## <a name="manageability-considerations"></a><span data-ttu-id="d51dc-211">Considerazioni sulla gestibilità</span><span class="sxs-lookup"><span data-stu-id="d51dc-211">Manageability considerations</span></span>

<span data-ttu-id="d51dc-212">Creare gruppi di risorse separati per gli ambienti di produzione, sviluppo e test.</span><span class="sxs-lookup"><span data-stu-id="d51dc-212">Create separate resource groups for production, development, and test environments.</span></span> <span data-ttu-id="d51dc-213">Questo semplifica la gestione delle distribuzioni, l'eliminazione delle distribuzioni dei test e l'assegnazione dei diritti di accesso.</span><span class="sxs-lookup"><span data-stu-id="d51dc-213">This makes it easier to manage deployments, delete test deployments, and assign access rights.</span></span>

<span data-ttu-id="d51dc-214">Quando si assegnano risorse a gruppi di risorse, considerare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="d51dc-214">When assigning resources to resource groups, consider the following:</span></span>

- <span data-ttu-id="d51dc-215">Ciclo di vita.</span><span class="sxs-lookup"><span data-stu-id="d51dc-215">Lifecycle.</span></span> <span data-ttu-id="d51dc-216">In generale, includere le risorse con un ciclo di vita identico nello stesso gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="d51dc-216">In general, put resources with the same lifecycle into the same resource group.</span></span>
- <span data-ttu-id="d51dc-217">Accesso.</span><span class="sxs-lookup"><span data-stu-id="d51dc-217">Access.</span></span> <span data-ttu-id="d51dc-218">È possibile usare il [controllo degli accessi in base al ruolo][rbac] (RBAC) per applicare i criteri di accesso alle risorse in un gruppo.</span><span class="sxs-lookup"><span data-stu-id="d51dc-218">You can use [role-based access control][rbac] (RBAC) to apply access policies to the resources in a group.</span></span>
- <span data-ttu-id="d51dc-219">Fatturazione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-219">Billing.</span></span> <span data-ttu-id="d51dc-220">È possibile visualizzare il riepilogo dei costi per il gruppo di risorse.</span><span class="sxs-lookup"><span data-stu-id="d51dc-220">You can view the rolled-up costs for the resource group.</span></span>

<span data-ttu-id="d51dc-221">Per altre informazioni, vedere [Panoramica di Azure Resource Manager](/azure/azure-resource-manager/resource-group-overview).</span><span class="sxs-lookup"><span data-stu-id="d51dc-221">For more information, see [Azure Resource Manager overview](/azure/azure-resource-manager/resource-group-overview).</span></span>

### <a name="deployment"></a><span data-ttu-id="d51dc-222">Distribuzione</span><span class="sxs-lookup"><span data-stu-id="d51dc-222">Deployment</span></span>

<span data-ttu-id="d51dc-223">La distribuzione prevede due passaggi:</span><span class="sxs-lookup"><span data-stu-id="d51dc-223">Deployment involves two steps:</span></span>

1. <span data-ttu-id="d51dc-224">Provisioning delle risorse di Azure.</span><span class="sxs-lookup"><span data-stu-id="d51dc-224">Provisioning the Azure resources.</span></span> <span data-ttu-id="d51dc-225">Per questo passaggio è consigliabile usare i [modelli di Azure Resource Manager][arm-template].</span><span class="sxs-lookup"><span data-stu-id="d51dc-225">We recommend that you use [Azure Resource Manager templates][arm-template] for this step.</span></span> <span data-ttu-id="d51dc-226">Questi modelli semplificano l'automazione delle distribuzioni tramite PowerShell o l'interfaccia della riga di comando di Azure.</span><span class="sxs-lookup"><span data-stu-id="d51dc-226">Templates make it easier to automate deployments via PowerShell or the Azure command line interface (CLI).</span></span>
2. <span data-ttu-id="d51dc-227">Distribuzione dell'applicazione (codice, file binari e file di contenuto).</span><span class="sxs-lookup"><span data-stu-id="d51dc-227">Deploying the application (code, binaries, and content files).</span></span> <span data-ttu-id="d51dc-228">Sono disponibili diverse opzioni, tra cui la distribuzione da un archivio Git locale, tramite Visual Studio, o la distribuzione continua dal controllo del codice sorgente basato su cloud.</span><span class="sxs-lookup"><span data-stu-id="d51dc-228">You have several options, including deploying from a local Git repository, using Visual Studio, or continuous deployment from cloud-based source control.</span></span> <span data-ttu-id="d51dc-229">Vedere l'articolo relativo alla [distribuzione dell'app nel servizio app di Azure][deploy].</span><span class="sxs-lookup"><span data-stu-id="d51dc-229">See [Deploy your app to Azure App Service][deploy].</span></span>

<span data-ttu-id="d51dc-230">Un'app del servizio app ha sempre uno slot di distribuzione denominato `production`, che rappresenta il sito di produzione in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="d51dc-230">An App Service app always has one deployment slot named `production`, which represents the live production site.</span></span> <span data-ttu-id="d51dc-231">È consigliabile creare uno slot di gestione temporanea per la distribuzione degli aggiornamenti.</span><span class="sxs-lookup"><span data-stu-id="d51dc-231">We recommend creating a staging slot for deploying updates.</span></span> <span data-ttu-id="d51dc-232">I vantaggi dell'utilizzo di uno slot di gestione temporanea includono:</span><span class="sxs-lookup"><span data-stu-id="d51dc-232">The benefits of using a staging slot include:</span></span>

- <span data-ttu-id="d51dc-233">È possibile verificare l'esito della distribuzione prima dello scambio nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-233">You can verify the deployment succeeded, before swapping it into production.</span></span>
- <span data-ttu-id="d51dc-234">La distribuzione in uno slot di gestione temporanea consente di eseguire il riscaldamento di tutte le istanze prima che vengano scambiate nell'ambiente di produzione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-234">Deploying to a staging slot ensures that all instances are warmed up before being swapped into production.</span></span> <span data-ttu-id="d51dc-235">Molte applicazioni presentano tempi di riscaldamento e di avvio a freddo piuttosto lunghi.</span><span class="sxs-lookup"><span data-stu-id="d51dc-235">Many applications have a significant warmup and cold-start time.</span></span>

<span data-ttu-id="d51dc-236">È inoltre consigliabile creare un terzo slot per contenere l'ultima distribuzione valida.</span><span class="sxs-lookup"><span data-stu-id="d51dc-236">We also recommend creating a third slot to hold the last-known-good deployment.</span></span> <span data-ttu-id="d51dc-237">Dopo lo scambio tra gestione temporanea e produzione, spostare la distribuzione della produzione precedente (ora in gestione temporanea) nell'ultimo slot valido.</span><span class="sxs-lookup"><span data-stu-id="d51dc-237">After you swap staging and production, move the previous production deployment (which is now in staging) into the last-known-good slot.</span></span> <span data-ttu-id="d51dc-238">In questo modo, in caso di problemi successivi, sarà possibile ripristinare l'ultima versione valida.</span><span class="sxs-lookup"><span data-stu-id="d51dc-238">That way, if you discover a problem later, you can quickly revert to the last-known-good version.</span></span>

<span data-ttu-id="d51dc-239">![[1]][1]</span><span class="sxs-lookup"><span data-stu-id="d51dc-239">![[1]][1]</span></span>

<span data-ttu-id="d51dc-240">Se si ripristina una versione precedente, assicurarsi che le modifiche allo schema del database siano compatibili con le versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="d51dc-240">If you revert to a previous version, make sure any database schema changes are backward compatible.</span></span>

<span data-ttu-id="d51dc-241">Non usare gli slot nella distribuzione della produzione per il test, perché tutte le applicazioni include nello stesso piano del servizio app condividono le stesse istanze della macchina virtuale.</span><span class="sxs-lookup"><span data-stu-id="d51dc-241">Don't use slots on your production deployment for testing because all apps within the same App Service plan share the same VM instances.</span></span> <span data-ttu-id="d51dc-242">I test di carico, ad esempio, potrebbero compromettere il sito di produzione in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="d51dc-242">For example, load tests might degrade the live production site.</span></span> <span data-ttu-id="d51dc-243">Creare invece piani del servizio app separati per gli ambienti di produzione e di test.</span><span class="sxs-lookup"><span data-stu-id="d51dc-243">Instead, create separate App Service plans for production and test.</span></span> <span data-ttu-id="d51dc-244">Se si inseriscono le distribuzioni di test in un piano separato, le si isola dalla versione di produzione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-244">By putting test deployments into a separate plan, you isolate them from the production version.</span></span>

### <a name="configuration"></a><span data-ttu-id="d51dc-245">Configurazione</span><span class="sxs-lookup"><span data-stu-id="d51dc-245">Configuration</span></span>

<span data-ttu-id="d51dc-246">Archiviare le impostazioni di configurazione come [impostazioni app][app-settings].</span><span class="sxs-lookup"><span data-stu-id="d51dc-246">Store configuration settings as [app settings][app-settings].</span></span> <span data-ttu-id="d51dc-247">Definire le impostazioni dell'app nei modelli di Resource Manager o con PowerShell.</span><span class="sxs-lookup"><span data-stu-id="d51dc-247">Define the app settings in your Resource Manager templates, or using PowerShell.</span></span> <span data-ttu-id="d51dc-248">In fase di runtime, le impostazioni dell'app sono disponibili come variabili di ambiente.</span><span class="sxs-lookup"><span data-stu-id="d51dc-248">At runtime, app settings are available to the application as environment variables.</span></span>

<span data-ttu-id="d51dc-249">Non archiviare mai le password, le chiavi di accesso o le stringhe di connessione nel controllo del codice sorgente,</span><span class="sxs-lookup"><span data-stu-id="d51dc-249">Never check passwords, access keys, or connection strings into source control.</span></span> <span data-ttu-id="d51dc-250">ma passarle come parametri in uno script di distribuzione che archivia questi valori come impostazioni dell'app.</span><span class="sxs-lookup"><span data-stu-id="d51dc-250">Instead, pass these as parameters to a deployment script that stores these values as app settings.</span></span>

<span data-ttu-id="d51dc-251">Durante lo scambio di uno slot di distribuzione, le impostazioni dell'app vengono scambiate per impostazione predefinita.</span><span class="sxs-lookup"><span data-stu-id="d51dc-251">When you swap a deployment slot, the app settings are swapped by default.</span></span> <span data-ttu-id="d51dc-252">Se sono necessarie impostazioni diverse per la produzione e la gestione temporanea, è possibile creare impostazioni dell'app che rimangono associate a uno slot e non vengono scambiate.</span><span class="sxs-lookup"><span data-stu-id="d51dc-252">If you need different settings for production and staging, you can create app settings that stick to a slot and don't get swapped.</span></span>

### <a name="diagnostics-and-monitoring"></a><span data-ttu-id="d51dc-253">Diagnostica e monitoraggio</span><span class="sxs-lookup"><span data-stu-id="d51dc-253">Diagnostics and monitoring</span></span>

<span data-ttu-id="d51dc-254">Abilitare la [registrazione diagnostica][diagnostic-logs], includendo la registrazione delle applicazioni e del server Web.</span><span class="sxs-lookup"><span data-stu-id="d51dc-254">Enable [diagnostics logging][diagnostic-logs], including application logging and web server logging.</span></span> <span data-ttu-id="d51dc-255">Configurare la registrazione per l'uso dell'archiviazione BLOB.</span><span class="sxs-lookup"><span data-stu-id="d51dc-255">Configure logging to use Blob storage.</span></span> <span data-ttu-id="d51dc-256">Per prestazioni ottimali, creare un account di archiviazione separato per i log di diagnostica.</span><span class="sxs-lookup"><span data-stu-id="d51dc-256">For performance reasons, create a separate storage account for diagnostic logs.</span></span> <span data-ttu-id="d51dc-257">Non usare lo stesso account di archiviazione per i log e i dati dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-257">Don't use the same storage account for logs and application data.</span></span> <span data-ttu-id="d51dc-258">Per informazioni più dettagliate sulla registrazione, vedere l'articolo sulle [linee guida di monitoraggio e diagnostica][monitoring-guidance].</span><span class="sxs-lookup"><span data-stu-id="d51dc-258">For more detailed guidance on logging, see [Monitoring and diagnostics guidance][monitoring-guidance].</span></span>

<span data-ttu-id="d51dc-259">Usare un servizio, quale [New Relic] [ new-relic] o [Application Insights] [ app-insights], per monitorare le prestazioni e il comportamento dell'applicazione in condizioni di carico.</span><span class="sxs-lookup"><span data-stu-id="d51dc-259">Use a service such as [New Relic][new-relic] or [Application Insights][app-insights] to monitor application performance and behavior under load.</span></span> <span data-ttu-id="d51dc-260">Tenere presenti i [limiti di velocità dati][app-insights-data-rate] per Application Insights.</span><span class="sxs-lookup"><span data-stu-id="d51dc-260">Be aware of the [data rate limits][app-insights-data-rate] for Application Insights.</span></span>

<span data-ttu-id="d51dc-261">Eseguire il test di carico usando uno strumento come [Azure DevOps][azure-devops] o [Visual Studio Team Foundation Server][tfs].</span><span class="sxs-lookup"><span data-stu-id="d51dc-261">Perform load testing, using a tool such as [Azure DevOps][azure-devops] or [Visual Studio Team Foundation Server][tfs].</span></span> <span data-ttu-id="d51dc-262">Per una panoramica generale dell'analisi delle prestazioni nelle applicazioni cloud, vedere l'articolo relativo alle [nozioni di base sull'analisi delle prestazioni][perf-analysis].</span><span class="sxs-lookup"><span data-stu-id="d51dc-262">For a general overview of performance analysis in cloud applications, see [Performance Analysis Primer][perf-analysis].</span></span>

<span data-ttu-id="d51dc-263">Suggerimenti per la risoluzione dei problemi dell'applicazione:</span><span class="sxs-lookup"><span data-stu-id="d51dc-263">Tips for troubleshooting your application:</span></span>

- <span data-ttu-id="d51dc-264">Usare il [pannello della risoluzione dei problemi] [ troubleshoot-blade] nel portale di Azure per trovare le soluzioni ai problemi più comuni.</span><span class="sxs-lookup"><span data-stu-id="d51dc-264">Use the [troubleshoot blade][troubleshoot-blade] in the Azure portal to find solutions to common problems.</span></span>
- <span data-ttu-id="d51dc-265">Abilitare i [flussi di registrazione][web-app-log-stream] per visualizzare le informazioni di registrazione quasi in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="d51dc-265">Enable [log streaming][web-app-log-stream] to see logging information in near-real time.</span></span>
- <span data-ttu-id="d51dc-266">Il [dashboard Kudu][kudu] include diversi strumenti per il monitoraggio e il debug dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-266">The [Kudu dashboard][kudu] has several tools for monitoring and debugging your application.</span></span> <span data-ttu-id="d51dc-267">Per altre informazioni, vedere il post di blog relativo agli [strumenti online di Siti Web di Azure che è opportuno conoscere][kudu].</span><span class="sxs-lookup"><span data-stu-id="d51dc-267">For more information, see [Azure Websites online tools you should know about][kudu] (blog post).</span></span> <span data-ttu-id="d51dc-268">È possibile raggiungere il dashboard Kudu dal portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="d51dc-268">You can reach the Kudu dashboard from the Azure portal.</span></span> <span data-ttu-id="d51dc-269">Aprire il pannello per l'app e fare clic su **Strumenti**, quindi su **Kudu**.</span><span class="sxs-lookup"><span data-stu-id="d51dc-269">Open the blade for your app and click **Tools**, then click **Kudu**.</span></span>
- <span data-ttu-id="d51dc-270">Se si usa Visual Studio, vedere l'articolo su come [risolvere i problemi relativi a un'app web nel servizio app di Azure con Visual Studio][troubleshoot-web-app] per suggerimenti per il debug e la risoluzione dei problemi.</span><span class="sxs-lookup"><span data-stu-id="d51dc-270">If you use Visual Studio, see the article [Troubleshoot a web app in Azure App Service using Visual Studio][troubleshoot-web-app] for debugging and troubleshooting tips.</span></span>

## <a name="security-considerations"></a><span data-ttu-id="d51dc-271">Considerazioni relative alla sicurezza</span><span class="sxs-lookup"><span data-stu-id="d51dc-271">Security considerations</span></span>

<span data-ttu-id="d51dc-272">Questa sezione contiene alcune considerazioni sulla sicurezza specifiche dei servizi di Azure descritti in questo articolo.</span><span class="sxs-lookup"><span data-stu-id="d51dc-272">This section lists security considerations that are specific to the Azure services described in this article.</span></span> <span data-ttu-id="d51dc-273">Non è un elenco completo delle procedure di sicurezza consigliate.</span><span class="sxs-lookup"><span data-stu-id="d51dc-273">It's not a complete list of security best practices.</span></span> <span data-ttu-id="d51dc-274">Per alcune considerazioni aggiuntive sulla sicurezza, vedere [Garantire la sicurezza di un'app in Servizio app di Azure][app-service-security].</span><span class="sxs-lookup"><span data-stu-id="d51dc-274">For some additional security considerations, see [Secure an app in Azure App Service][app-service-security].</span></span>

### <a name="sql-database-auditing"></a><span data-ttu-id="d51dc-275">Controllo del database SQL</span><span class="sxs-lookup"><span data-stu-id="d51dc-275">SQL Database auditing</span></span>

<span data-ttu-id="d51dc-276">Il controllo consente di agevolare la conformità alle normative e ottenere informazioni su eventuali discrepanze e anomalie che potrebbero indicare problemi aziendali o sospette violazioni della sicurezza.</span><span class="sxs-lookup"><span data-stu-id="d51dc-276">Auditing can help you maintain regulatory compliance and get insight into discrepancies and irregularities that could indicate business concerns or suspected security violations.</span></span> <span data-ttu-id="d51dc-277">Vedere [Introduzione al controllo del database SQL][sql-audit].</span><span class="sxs-lookup"><span data-stu-id="d51dc-277">See [Get started with SQL database auditing][sql-audit].</span></span>

### <a name="deployment-slots"></a><span data-ttu-id="d51dc-278">Slot di distribuzione</span><span class="sxs-lookup"><span data-stu-id="d51dc-278">Deployment slots</span></span>

<span data-ttu-id="d51dc-279">Ogni slot di distribuzione è associato un indirizzo IP pubblico.</span><span class="sxs-lookup"><span data-stu-id="d51dc-279">Each deployment slot has a public IP address.</span></span> <span data-ttu-id="d51dc-280">Proteggere gli slot non di produzione usando le credenziali di accesso di [Azure Active Directory][aad-auth] in modo che solo i membri dei team di sviluppo e DevOps possano raggiungere tali endpoint.</span><span class="sxs-lookup"><span data-stu-id="d51dc-280">Secure the nonproduction slots using [Azure Active Directory login][aad-auth] so that only members of your development and DevOps teams can reach those endpoints.</span></span>

### <a name="logging"></a><span data-ttu-id="d51dc-281">Registrazione</span><span class="sxs-lookup"><span data-stu-id="d51dc-281">Logging</span></span>

<span data-ttu-id="d51dc-282">I registri non devono mai registrare le password degli utenti o altre informazioni che potrebbero essere usate per commettere furti di identità.</span><span class="sxs-lookup"><span data-stu-id="d51dc-282">Logs should never record users' passwords or other information that might be used to commit identity fraud.</span></span> <span data-ttu-id="d51dc-283">Eseguire lo scrubbing di questi dettagli dai dati prima di archiviarli.</span><span class="sxs-lookup"><span data-stu-id="d51dc-283">Scrub those details from the data before storing it.</span></span>

### <a name="ssl"></a><span data-ttu-id="d51dc-284">SSL</span><span class="sxs-lookup"><span data-stu-id="d51dc-284">SSL</span></span>

<span data-ttu-id="d51dc-285">Un'app del servizio app include un endpoint SSL di un sottodominio di `azurewebsites.net` senza alcun costo aggiuntivo.</span><span class="sxs-lookup"><span data-stu-id="d51dc-285">An App Service app includes an SSL endpoint on a subdomain of `azurewebsites.net` at no additional cost.</span></span> <span data-ttu-id="d51dc-286">L'endpoint SSL include un certificato con caratteri jolly per il nome di dominio `*.azurewebsites.net`.</span><span class="sxs-lookup"><span data-stu-id="d51dc-286">The SSL endpoint includes a wildcard certificate for the `*.azurewebsites.net` domain.</span></span> <span data-ttu-id="d51dc-287">Se si usa un nome di dominio personalizzato, è necessario specificare un certificato corrispondente al dominio personalizzato.</span><span class="sxs-lookup"><span data-stu-id="d51dc-287">If you use a custom domain name, you must provide a certificate that matches the custom domain.</span></span> <span data-ttu-id="d51dc-288">L'approccio più semplice consiste nell'acquistare un certificato direttamente tramite il portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="d51dc-288">The simplest approach is to buy a certificate directly through the Azure portal.</span></span> <span data-ttu-id="d51dc-289">È inoltre possibile importare i certificati da altre autorità di certificazione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-289">You can also import certificates from other certificate authorities.</span></span> <span data-ttu-id="d51dc-290">Per altre informazioni, vedere l'articolo relativo all'[acquisto e alla configurazione di un certificato SSL per il servizio app di Azure][ssl-cert].</span><span class="sxs-lookup"><span data-stu-id="d51dc-290">For more information, see [Buy and Configure an SSL Certificate for your Azure App Service][ssl-cert].</span></span>

<span data-ttu-id="d51dc-291">Come procedura ottimale di protezione, l'app deve applicare HTTPS mediante il reindirizzamento delle richieste HTTP.</span><span class="sxs-lookup"><span data-stu-id="d51dc-291">As a security best practice, your app should enforce HTTPS by redirecting HTTP requests.</span></span> <span data-ttu-id="d51dc-292">È possibile implementare questa procedura all'interno dell'applicazione o usare una regola di riscrittura URL come descritto nell'articolo relativo all'[abilitazione di HTTPS per un'app nel servizio app di Azure][ssl-redirect].</span><span class="sxs-lookup"><span data-stu-id="d51dc-292">You can implement this inside your application or use a URL rewrite rule as described in [Enable HTTPS for an app in Azure App Service][ssl-redirect].</span></span>

### <a name="authentication"></a><span data-ttu-id="d51dc-293">Authentication</span><span class="sxs-lookup"><span data-stu-id="d51dc-293">Authentication</span></span>

<span data-ttu-id="d51dc-294">È consigliabile eseguire l'autenticazione tramite un provider di identità (IDP), come Azure AD, Facebook, Google o Twitter.</span><span class="sxs-lookup"><span data-stu-id="d51dc-294">We recommend authenticating through an identity provider (IDP), such as Azure AD, Facebook, Google, or Twitter.</span></span> <span data-ttu-id="d51dc-295">Usare OAuth 2 o OpenID Connect (OIDC) per il flusso di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-295">Use OAuth 2 or OpenID Connect (OIDC) for the authentication flow.</span></span> <span data-ttu-id="d51dc-296">Azure AD offre funzionalità che consentono di gestire utenti e gruppi, creare ruoli applicazione, integrare le identità locali e usare i servizi di backend, quali Office 365 e Skype for Business.</span><span class="sxs-lookup"><span data-stu-id="d51dc-296">Azure AD provides functionality to manage users and groups, create application roles, integrate your on-premises identities, and consume backend services such as Office 365 and Skype for Business.</span></span>

<span data-ttu-id="d51dc-297">Evitare che l'applicazione gestisca gli accessi e le credenziali utente direttamente, in modo da non creare una potenziale superficie di attacco.</span><span class="sxs-lookup"><span data-stu-id="d51dc-297">Avoid having the application manage user logins and credentials directly, as it creates a potential attack surface.</span></span>  <span data-ttu-id="d51dc-298">Come minimo, è necessario impostare la conferma tramite posta elettronica, il recupero della password, l'autenticazione a più fattori, nonché convalidare la lunghezza della password e archiviare in modo sicuro gli hash delle password.</span><span class="sxs-lookup"><span data-stu-id="d51dc-298">At a minimum, you would need to have email confirmation, password recovery, and multi-factor authentication; validate password strength; and store password hashes securely.</span></span> <span data-ttu-id="d51dc-299">I provider di identità di grandi dimensioni gestiscono tutte queste operazioni per l'utente e si impegnano costantemente a monitorare e migliorare le procedure di sicurezza.</span><span class="sxs-lookup"><span data-stu-id="d51dc-299">The large identity providers handle all of those things for you, and are constantly monitoring and improving their security practices.</span></span>

<span data-ttu-id="d51dc-300">Valutare la possibilità di usare l'[autenticazione del servizio app][app-service-auth] per implementare il flusso di autenticazione OAuth/OIDC.</span><span class="sxs-lookup"><span data-stu-id="d51dc-300">Consider using [App Service authentication][app-service-auth] to implement the OAuth/OIDC authentication flow.</span></span> <span data-ttu-id="d51dc-301">I vantaggi dell'autenticazione del servizio app sono:</span><span class="sxs-lookup"><span data-stu-id="d51dc-301">The benefits of App Service authentication include:</span></span>

- <span data-ttu-id="d51dc-302">È facile da configurare.</span><span class="sxs-lookup"><span data-stu-id="d51dc-302">Easy to configure.</span></span>
- <span data-ttu-id="d51dc-303">Non è necessario alcun codice per gli scenari di autenticazione semplici.</span><span class="sxs-lookup"><span data-stu-id="d51dc-303">No code is required for simple authentication scenarios.</span></span>
- <span data-ttu-id="d51dc-304">Supporta l'autorizzazione delegata mediante i token di accesso OAuth per l'uso delle risorse per conto dell'utente.</span><span class="sxs-lookup"><span data-stu-id="d51dc-304">Supports delegated authorization using OAuth access tokens to consume resources on behalf of the user.</span></span>
- <span data-ttu-id="d51dc-305">Offre una cache dei token incorporata.</span><span class="sxs-lookup"><span data-stu-id="d51dc-305">Provides a built-in token cache.</span></span>

<span data-ttu-id="d51dc-306">Alcune limitazioni di autenticazione del servizio app:</span><span class="sxs-lookup"><span data-stu-id="d51dc-306">Some limitations of App Service authentication:</span></span>

- <span data-ttu-id="d51dc-307">Opzioni di personalizzazione limitate.</span><span class="sxs-lookup"><span data-stu-id="d51dc-307">Limited customization options.</span></span>
- <span data-ttu-id="d51dc-308">L'autorizzazione delegata è limitata a una sola risorsa di back-end per ogni sessione di accesso.</span><span class="sxs-lookup"><span data-stu-id="d51dc-308">Delegated authorization is restricted to one backend resource per login session.</span></span>
- <span data-ttu-id="d51dc-309">Se si usano più IDP, non è disponibile alcun meccanismo predefinito per l'individuazione dell'area di autenticazione.</span><span class="sxs-lookup"><span data-stu-id="d51dc-309">If you use more than one IDP, there is no built-in mechanism for home realm discovery.</span></span>
- <span data-ttu-id="d51dc-310">Per gli scenari multi-tenant, l'applicazione deve implementare la logica per convalidare l'autorità emittente di token.</span><span class="sxs-lookup"><span data-stu-id="d51dc-310">For multi-tenant scenarios, the application must implement the logic to validate the token issuer.</span></span>

## <a name="deploy-the-solution"></a><span data-ttu-id="d51dc-311">Distribuire la soluzione</span><span class="sxs-lookup"><span data-stu-id="d51dc-311">Deploy the solution</span></span>

<span data-ttu-id="d51dc-312">Un modello di Resource Manager per questa architettura è [disponibile in GitHub][paas-basic-arm-template].</span><span class="sxs-lookup"><span data-stu-id="d51dc-312">An example Resource Manager template for this architecture is [available on GitHub][paas-basic-arm-template].</span></span>

<span data-ttu-id="d51dc-313">Per distribuire il modello tramite PowerShell, eseguire i comandi seguenti:</span><span class="sxs-lookup"><span data-stu-id="d51dc-313">To deploy the template using PowerShell, run the following commands:</span></span>

```powershell
New-AzureRmResourceGroup -Name <resource-group-name> -Location "West US"

$parameters = @{"appName"="<app-name>";"environment"="dev";"locationShort"="uw";"databaseName"="app-db";"administratorLogin"="<admin>";"administratorLoginPassword"="<password>"}

New-AzureRmResourceGroupDeployment -Name <deployment-name> -ResourceGroupName <resource-group-name> -TemplateFile .\PaaS-Basic.json -TemplateParameterObject  $parameters
```

<span data-ttu-id="d51dc-314">Per altre informazioni, vedere [Distribuire le risorse con i modelli di Azure Resource Manager][deploy-arm-template].</span><span class="sxs-lookup"><span data-stu-id="d51dc-314">For more information, see [Deploy resources with Azure Resource Manager templates][deploy-arm-template].</span></span>

<!-- links -->

[aad-auth]: /azure/app-service-mobile/app-service-mobile-how-to-configure-active-directory-authentication
[app-insights]: /azure/application-insights/app-insights-overview
[app-insights-data-rate]: /azure/application-insights/app-insights-pricing
[app-service]: /azure/app-service/
[app-service-auth]: /azure/app-service-api/app-service-api-authentication
[app-service-plans]: /azure/app-service/azure-web-sites-web-hosting-plans-in-depth-overview
[app-service-plans-tiers]: https://azure.microsoft.com/pricing/details/app-service/
[app-service-security]: /azure/app-service-web/web-sites-security
[app-settings]: /azure/app-service-web/web-sites-configure
[arm-template]: /azure/azure-resource-manager/resource-group-overview#resource-groups
[azure-devops]: /azure/devops/
[azure-dns]: /azure/dns/dns-overview
[custom-domain-name]: /azure/app-service-web/web-sites-custom-domain-name
[deploy]: /azure/app-service-web/web-sites-deploy
[deploy-arm-template]: /azure/resource-group-template-deploy
[deployment-slots]: /azure/app-service-web/web-sites-staged-publishing
[diagnostic-logs]: /azure/app-service-web/web-sites-enable-diagnostic-log
[kudu]: https://azure.microsoft.com/blog/windows-azure-websites-online-tools-you-should-know-about/
[monitoring-guidance]: ../../best-practices/monitoring.md
[new-relic]: https://newrelic.com/
[paas-basic-arm-template]: https://github.com/mspnp/reference-architectures/tree/master/managed-web-app/basic-web-app/Paas-Basic/Templates
[perf-analysis]: https://github.com/mspnp/performance-optimization/blob/master/Performance-Analysis-Primer.md
[rbac]: /azure/active-directory/role-based-access-control-what-is
[resource-group]: /azure/azure-resource-manager/resource-group-overview
[sla]: https://azure.microsoft.com/support/legal/sla/
[sql-audit]: /azure/sql-database/sql-database-auditing-get-started
[sql-backup]: /azure/sql-database/sql-database-business-continuity
[sql-db]: /azure/sql-database/
[sql-db-overview]: /azure/sql-database/sql-database-technical-overview
[sql-db-scale]: /azure/sql-database/sql-database-service-tiers#scaling-up-or-scaling-down-a-single-database
[sql-db-service-tiers]: /azure/sql-database/sql-database-service-tiers
[sql-db-v12]: /azure/sql-database/sql-database-features
[sql-dtu]: /azure/sql-database/sql-database-service-tiers
[sql-human-error]: /azure/sql-database/sql-database-business-continuity#recover-a-database-after-a-user-or-application-error
[sql-outage-recovery]: /azure/sql-database/sql-database-business-continuity#recover-a-database-to-another-region-from-an-azure-regional-data-center-outage
[ssl-redirect]: /azure/app-service-web/web-sites-configure-ssl-certificate#bkmk_enforce
[sql-resource-limits]: /azure/sql-database/sql-database-resource-limits
[ssl-cert]: /azure/app-service-web/web-sites-purchase-ssl-web-site
[troubleshoot-blade]: https://azure.microsoft.com/updates/self-service-troubleshooting-for-app-service-web-apps-customers/
[tfs]: /tfs/index
[troubleshoot-web-app]: /azure/app-service-web/web-sites-dotnet-troubleshoot-visual-studio
[visio-download]: https://archcenter.blob.core.windows.net/cdn/app-service-reference-architectures.vsdx
[web-app-autoscale]: /azure/app-service-web/web-sites-scale
[web-app-backup]: /azure/app-service-web/web-sites-backup
[web-app-log-stream]: /azure/app-service-web/web-sites-enable-diagnostic-log#streamlogs
[1]: ./images/paas-basic-web-app-staging-slots.png "Swapping slots for production and staging deployments (Scambio di slot per le distribuzioni di produzione e gestione temporanea)"
