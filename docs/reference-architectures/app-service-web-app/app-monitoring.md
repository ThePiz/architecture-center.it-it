---
title: Monitoraggio delle applicazioni Web in Azure
description: Monitorare un'applicazione Web ospitata in Servizio app di Azure.
author: adamboeglin
ms.date: 12/12/2018
ms.topic: reference-architecture
ms.service: architecture-center
ms.subservice: reference-architecture
ms.custom: azcat
ms.openlocfilehash: 34c21f4b5356dc0acbd5c2c85124300a6ed13c99
ms.sourcegitcommit: 579c39ff4b776704ead17a006bf24cd4cdc65edd
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/17/2019
ms.locfileid: "59640499"
---
# <a name="web-application-monitoring-on-azure"></a><span data-ttu-id="39d69-103">Monitoraggio delle applicazioni Web in Azure</span><span class="sxs-lookup"><span data-stu-id="39d69-103">Web application monitoring on Azure</span></span>

<span data-ttu-id="39d69-104">Le offerte PaaS (Platform as a Service) di Azure gestiscono automaticamente le risorse di calcolo e influiscono sulle modalità di monitoraggio delle distribuzioni.</span><span class="sxs-lookup"><span data-stu-id="39d69-104">Azure platform as a service (PaaS) offerings manage compute resources for you and affect how you monitor deployments.</span></span> <span data-ttu-id="39d69-105">Azure include più servizi di monitoraggio, ognuno dei quali esegue un ruolo specifico.</span><span class="sxs-lookup"><span data-stu-id="39d69-105">Azure includes multiple monitoring services, each of which performs a specific role.</span></span> <span data-ttu-id="39d69-106">Insieme, questi servizi offrono una soluzione completa per la raccolta, l'analisi e l'uso dei dati di telemetria provenienti dalle applicazioni e dalle risorse di Azure utilizzate.</span><span class="sxs-lookup"><span data-stu-id="39d69-106">Together, these services deliver a comprehensive solution for collecting, analyzing, and acting on telemetry from your applications and the Azure resources they consume.</span></span>

<span data-ttu-id="39d69-107">Questo scenario è relativo ai servizi di monitoraggio che è possibile usare e descrive un modello di flusso di dati da usare con più origini dati.</span><span class="sxs-lookup"><span data-stu-id="39d69-107">This scenario addresses the monitoring services you can use and describes a dataflow model for use with multiple data sources.</span></span> <span data-ttu-id="39d69-108">Quando si parla di monitoraggio, molti strumenti e servizi usano le distribuzioni di Azure.</span><span class="sxs-lookup"><span data-stu-id="39d69-108">When it comes to monitoring, many tools and services work with Azure deployments.</span></span> <span data-ttu-id="39d69-109">In questo scenario vengono scelti servizi immediatamente disponibili proprio perché sono facili da usare.</span><span class="sxs-lookup"><span data-stu-id="39d69-109">In this scenario, we choose readily available services precisely because they are easy to consume.</span></span> <span data-ttu-id="39d69-110">Più avanti in questo articolo sono descritte altre opzioni di monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="39d69-110">Other monitoring options are discussed later in this article.</span></span>

## <a name="relevant-use-cases"></a><span data-ttu-id="39d69-111">Casi d'uso pertinenti</span><span class="sxs-lookup"><span data-stu-id="39d69-111">Relevant use cases</span></span>

<span data-ttu-id="39d69-112">Gli altri casi d'uso pertinenti includono:</span><span class="sxs-lookup"><span data-stu-id="39d69-112">Other relevant use cases include:</span></span>

- <span data-ttu-id="39d69-113">Strumentazione di un'applicazione Web per il monitoraggio dei dati di telemetria.</span><span class="sxs-lookup"><span data-stu-id="39d69-113">Instrumenting a web application for monitoring telemetry.</span></span>
- <span data-ttu-id="39d69-114">Raccolta dei dati di telemetria front-end e back-end per un'applicazione distribuita in Azure.</span><span class="sxs-lookup"><span data-stu-id="39d69-114">Collecting front-end and back-end telemetry for an application deployed on Azure.</span></span>
- <span data-ttu-id="39d69-115">Monitoraggio delle metriche e delle quote associate ai servizi in Azure.</span><span class="sxs-lookup"><span data-stu-id="39d69-115">Monitoring metrics and quotas associated with services on Azure.</span></span>

## <a name="architecture"></a><span data-ttu-id="39d69-116">Architettura</span><span class="sxs-lookup"><span data-stu-id="39d69-116">Architecture</span></span>

!["Diagramma dell'architettura"](./images/architecture-diagram-app-monitoring.svg)

<span data-ttu-id="39d69-118">Questo scenario usa un ambiente gestito di Azure per ospitare un livello dati e applicazione.</span><span class="sxs-lookup"><span data-stu-id="39d69-118">This scenario uses a managed Azure environment to host an application and data tier.</span></span> <span data-ttu-id="39d69-119">Il flusso dei dati nello scenario avviene come segue:</span><span class="sxs-lookup"><span data-stu-id="39d69-119">The data flows through the scenario as follows:</span></span>

1. <span data-ttu-id="39d69-120">Un utente interagisce con l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="39d69-120">A user interacts with the application.</span></span>
2. <span data-ttu-id="39d69-121">Il browser e il servizio app generano dati di telemetria.</span><span class="sxs-lookup"><span data-stu-id="39d69-121">The browser and app service emit telemetry.</span></span>
3. <span data-ttu-id="39d69-122">Application Insights raccoglie e analizza i dati relativi a integrità, prestazioni e utilizzo dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="39d69-122">Application Insights collects and analyzes application health, performance, and usage data.</span></span>
4. <span data-ttu-id="39d69-123">Gli sviluppatori e gli amministratori possono esaminare le informazioni su integrità, prestazioni e utilizzo.</span><span class="sxs-lookup"><span data-stu-id="39d69-123">Developers and administrators can review health, performance, and usage information.</span></span>
5. <span data-ttu-id="39d69-124">Il database SQL di Azure genera i dati di telemetria.</span><span class="sxs-lookup"><span data-stu-id="39d69-124">Azure SQL Database emits telemetry.</span></span>
6. <span data-ttu-id="39d69-125">Monitoraggio di Azure raccoglie e analizza le quote e le metriche dell'infrastruttura.</span><span class="sxs-lookup"><span data-stu-id="39d69-125">Azure Monitor collects and analyzes infrastructure metrics and quotas.</span></span>
7. <span data-ttu-id="39d69-126">Log Analytics raccoglie e analizza i log e le metriche.</span><span class="sxs-lookup"><span data-stu-id="39d69-126">Log Analytics collects and analyzes logs and metrics.</span></span>
8. <span data-ttu-id="39d69-127">Gli sviluppatori e gli amministratori possono esaminare le informazioni su integrità, prestazioni e utilizzo.</span><span class="sxs-lookup"><span data-stu-id="39d69-127">Developers and administrators can review health, performance, and usage information.</span></span>

### <a name="components"></a><span data-ttu-id="39d69-128">Componenti</span><span class="sxs-lookup"><span data-stu-id="39d69-128">Components</span></span>

- <span data-ttu-id="39d69-129">[Servizio app di Azure](/azure/app-service/) è un servizio PaaS per la compilazione e l'hosting di app in macchine virtuali gestite.</span><span class="sxs-lookup"><span data-stu-id="39d69-129">[Azure App Service](/azure/app-service/) is a PaaS service for building and hosting apps in managed virtual machines.</span></span> <span data-ttu-id="39d69-130">Le infrastrutture di calcolo sottostanti in cui vengono eseguite le app sono gestite automaticamente.</span><span class="sxs-lookup"><span data-stu-id="39d69-130">The underlying compute infrastructures on which your apps run is managed for you.</span></span> <span data-ttu-id="39d69-131">Il servizio app monitora le quote di utilizzo delle risorse e le metriche delle app, registra le informazioni di diagnostica e genera avvisi basati sulle metriche.</span><span class="sxs-lookup"><span data-stu-id="39d69-131">App Service provides monitoring of resource usage quotas and app metrics, logging of diagnostic information, and alerts based on metrics.</span></span> <span data-ttu-id="39d69-132">Ancora meglio, è possibile usare Application Insights per creare [test di disponibilità][availability-tests] per testare l'applicazione da aree diverse.</span><span class="sxs-lookup"><span data-stu-id="39d69-132">Even better, you can use Application Insights to create [availability tests][availability-tests] for testing your application from different regions.</span></span>
- <span data-ttu-id="39d69-133">[Application Insights][application-insights] è un servizio estendibile di gestione delle prestazioni delle applicazioni per sviluppatori e supporta più piattaforme.</span><span class="sxs-lookup"><span data-stu-id="39d69-133">[Application Insights][application-insights] is an extensible Application Performance Management (APM) service for developers and supports multiple platforms.</span></span> <span data-ttu-id="39d69-134">Monitora l'applicazione, rileva le anomalie dell'applicazione, ad esempio un peggioramento delle prestazioni ed errori, e invia i dati di telemetria al portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="39d69-134">It monitors the application, detects application anomalies such as poor performance and failures, and sends telemetry to the Azure portal.</span></span> <span data-ttu-id="39d69-135">Application Insights è anche utilizzabile per la registrazione, l'analisi distribuita e le metriche dell'applicazione personalizzate.</span><span class="sxs-lookup"><span data-stu-id="39d69-135">Application Insights can also be used for logging, distributed tracing, and custom application metrics.</span></span>
- <span data-ttu-id="39d69-136">Attualmente [Monitoraggio di Azure][azure-monitor] offre [log e metriche][metrics] dell'infrastruttura di livello base per la maggior parte dei servizi in Azure.</span><span class="sxs-lookup"><span data-stu-id="39d69-136">[Azure Monitor][azure-monitor] provides base-level infrastructure [metrics and logs][metrics] for most services in Azure.</span></span> <span data-ttu-id="39d69-137">È possibile interagire con le metriche in diversi modi, tra cui la creazione di grafici nel portale di Azure, l'accesso tramite l'API REST o l'esecuzione di query tramite PowerShell o l'interfaccia della riga di comando.</span><span class="sxs-lookup"><span data-stu-id="39d69-137">You can interact with the metrics in several ways, including charting them in Azure portal, accessing them through the REST API, or querying them using PowerShell or CLI.</span></span> <span data-ttu-id="39d69-138">Monitoraggio di Azure offre anche i dati direttamente in [Log Analytics e altri servizi], in cui è possibile eseguire query e combinarli con i dati di altre origini in locale o nel cloud.</span><span class="sxs-lookup"><span data-stu-id="39d69-138">Azure Monitor also offers its data directly into [Log Analytics and other services], where you can query and combine it with data from other sources on premises or in the cloud.</span></span>
- <span data-ttu-id="39d69-139">[Log Analytics][log-analytics] aiuta a correlare i dati sull'utilizzo e sulle prestazioni raccolti da Application Insights ai dati di configurazione e sulle prestazioni delle risorse di Azure che supportano l'app.</span><span class="sxs-lookup"><span data-stu-id="39d69-139">[Log Analytics][log-analytics] helps correlate the usage and performance data collected by Application Insights with configuration and performance data across the Azure resources that support the app.</span></span> <span data-ttu-id="39d69-140">Questo scenario usa l'[agente di Azure Log Analytics][Azure Log Analytics agent] per eseguire il push dei log di controllo di SQL Server in Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="39d69-140">This scenario uses the [Azure Log Analytics agent][Azure Log Analytics agent] to push SQL Server audit logs into Log Analytics.</span></span> <span data-ttu-id="39d69-141">È possibile scrivere le query e visualizzare i dati nel pannello Log Analytics del portale di Azure.</span><span class="sxs-lookup"><span data-stu-id="39d69-141">You can write queries and view data in the Log Analytics blade of the Azure portal.</span></span>

## <a name="considerations"></a><span data-ttu-id="39d69-142">Considerazioni</span><span class="sxs-lookup"><span data-stu-id="39d69-142">Considerations</span></span>

<span data-ttu-id="39d69-143">È consigliabile aggiungere Application Insights al codice durante lo sviluppo usando [Application Insights SDK][Application Insights SDKs] ed eseguendo la personalizzazione per ogni applicazione.</span><span class="sxs-lookup"><span data-stu-id="39d69-143">A recommended practice is adding Application Insights to your code during development using the [Application Insights SDKs][Application Insights SDKs], and customizing per application.</span></span> <span data-ttu-id="39d69-144">Questi SDK open source sono disponibili per la maggior parte dei framework applicazioni.</span><span class="sxs-lookup"><span data-stu-id="39d69-144">These open-source SDKs are available for most application frameworks.</span></span> <span data-ttu-id="39d69-145">Per arricchire e controllare i dati raccolti, incorporare l'uso degli SDK sia per le distribuzioni di test che per quelle di produzione nel processo di sviluppo.</span><span class="sxs-lookup"><span data-stu-id="39d69-145">To enrich and control the data you collect, incorporate the use of the SDKs both for testing and production deployments into your development process.</span></span> <span data-ttu-id="39d69-146">Il requisito principale è che l'app possa visualizzare direttamente o indirettamente l'endpoint di inserimento di Application Insights ospitato con un indirizzo per Internet.</span><span class="sxs-lookup"><span data-stu-id="39d69-146">The main requirement is for the app to have a direct or indirect line of sight to the Applications Insights ingestion endpoint hosted with an Internet-facing address.</span></span> <span data-ttu-id="39d69-147">È quindi possibile aggiungere i dati di telemetria o arricchire una raccolta di dati di telemetria esistente.</span><span class="sxs-lookup"><span data-stu-id="39d69-147">You can then add telemetry or enrich an existing telemetry collection.</span></span>

<span data-ttu-id="39d69-148">Il monitoraggio in fase di esecuzione è un altro modo semplice per iniziare.</span><span class="sxs-lookup"><span data-stu-id="39d69-148">Runtime monitoring is another easy way to get started.</span></span> <span data-ttu-id="39d69-149">I dati di telemetria raccolti devono essere controllati tramite i file di configurazione.</span><span class="sxs-lookup"><span data-stu-id="39d69-149">The telemetry that is collected must be controlled through configuration files.</span></span> <span data-ttu-id="39d69-150">È ad esempio possibile includere metodi di runtime che abilitano strumenti come [Application Insights Status Monitor][Application Insights Status Monitor] per distribuire gli SDK nella cartella corretta e aggiungere le configurazioni appropriate per iniziare il monitoraggio.</span><span class="sxs-lookup"><span data-stu-id="39d69-150">For example, you can include runtime methods that enable tools such as [Application Insights Status Monitor][Application Insights Status Monitor] to deploy the SDKs into the correct folder and add the right configurations to begin monitoring.</span></span>

<span data-ttu-id="39d69-151">Come Application Insights, Log Analytics fornisce strumenti per l'[analisi dei dati nelle origini][analyzing data across sources], la creazione di query complesse e l'[invio di avvisi proattivi][sending proactive alerts] in condizioni specificate.</span><span class="sxs-lookup"><span data-stu-id="39d69-151">Like Application Insights, Log Analytics provides tools for [analyzing data across sources][analyzing data across sources], creating complex queries, and [sending proactive alerts][sending proactive alerts] on specified conditions.</span></span> <span data-ttu-id="39d69-152">È anche possibile visualizzare i dati di telemetria nel [portale di Azure][the Azure portal].</span><span class="sxs-lookup"><span data-stu-id="39d69-152">You can also view telemetry in [the Azure portal][the Azure portal].</span></span> <span data-ttu-id="39d69-153">Log Analytics aggiunge valore ai servizi di monitoraggio esistenti, ad esempio [Monitoraggio di Azure][azure-monitor], e può inoltre monitorare gli ambienti locali.</span><span class="sxs-lookup"><span data-stu-id="39d69-153">Log Analytics adds value to existing monitoring services such as [Azure Monitor][azure-monitor] and can also monitor on-premises environments.</span></span>

<span data-ttu-id="39d69-154">Sia Application Insights che Log Analytics usano il [linguaggio di query di Azure Log Analytics][Azure Log Analytics Query Language].</span><span class="sxs-lookup"><span data-stu-id="39d69-154">Both Application Insights and Log Analytics use [Azure Log Analytics Query Language][Azure Log Analytics Query Language].</span></span> <span data-ttu-id="39d69-155">È anche possibile usare le [query in più risorse](https://azure.microsoft.com/blog/query-across-resources) per analizzare i dati di telemetria raccolti da Application Insights e Log Analytics in un'unica query.</span><span class="sxs-lookup"><span data-stu-id="39d69-155">You can also use [cross-resource queries](https://azure.microsoft.com/blog/query-across-resources) to analyze the telemetry gathered by Application Insights and Log Analytics in a single query.</span></span>

<span data-ttu-id="39d69-156">Monitoraggio di Azure, Application Insights e Log Analytics inviano [avvisi](/azure/monitoring-and-diagnostics/monitoring-overview-alerts).</span><span class="sxs-lookup"><span data-stu-id="39d69-156">Azure Monitor, Application Insights, and Log Analytics all send [alerts](/azure/monitoring-and-diagnostics/monitoring-overview-alerts).</span></span> <span data-ttu-id="39d69-157">Ad esempio, Monitoraggio di Azure invia avvisi sulle metriche a livello di piattaforma, come l'utilizzo della CPU, mentre Application Insights invia avvisi sulle metriche a livello di applicazione, come il tempo di risposta del server.</span><span class="sxs-lookup"><span data-stu-id="39d69-157">For example, Azure Monitor alerts on platform-level metrics such as CPU utilization, while Application Insights alerts on application-level metrics such as server response time.</span></span> <span data-ttu-id="39d69-158">Monitoraggio Azure invia avvisi sui nuovi eventi nel log attività di Azure, mentre Log Analytics può generare avvisi sui dati delle metriche o degli eventi per i servizi configurati per usarli.</span><span class="sxs-lookup"><span data-stu-id="39d69-158">Azure Monitor alerts on new events in the Azure Activity Log, while Log Analytics can issue alerts about metrics or event data for the services configured to use it.</span></span> <span data-ttu-id="39d69-159">Gli [avvisi unificati in Monitoraggio di Azure](/azure/monitoring-and-diagnostics/monitoring-overview-unified-alerts) sono una nuova esperienza di avvisi unificati in Azure che usa una tassonomia diversa.</span><span class="sxs-lookup"><span data-stu-id="39d69-159">[Unified alerts in Azure Monitor](/azure/monitoring-and-diagnostics/monitoring-overview-unified-alerts) is a new, unified alerting experience in Azure that uses a different taxonomy.</span></span>

### <a name="alternatives"></a><span data-ttu-id="39d69-160">Alternative</span><span class="sxs-lookup"><span data-stu-id="39d69-160">Alternatives</span></span>

<span data-ttu-id="39d69-161">Questo articolo descrive le opzioni di monitoraggio facilmente disponibili con le funzionalità più diffuse, ma sono possibili molte altre scelte, tra cui l'opzione per creare i propri meccanismi di registrazione.</span><span class="sxs-lookup"><span data-stu-id="39d69-161">This article describes conveniently available monitoring options with popular features, but you have many choices, including the option to create your own logging mechanisms.</span></span> <span data-ttu-id="39d69-162">È consigliabile aggiungere i servizi di monitoraggio mentre si creano i livelli in una soluzione.</span><span class="sxs-lookup"><span data-stu-id="39d69-162">A recommended practice is to add monitoring services as you build out tiers in a solution.</span></span> <span data-ttu-id="39d69-163">Ecco alcune possibili estensioni e alternative:</span><span class="sxs-lookup"><span data-stu-id="39d69-163">Here are some possible extensions and alternatives:</span></span>

- <span data-ttu-id="39d69-164">Consolidare le metriche di Monitoraggio di Azure e Application Insights in Grafana usando l'[origine dati di Monitoraggio di Azure per Grafana][Azure Monitor Data Source For Grafana].</span><span class="sxs-lookup"><span data-stu-id="39d69-164">Consolidate Azure Monitor and Application Insights metrics in Grafana using the [Azure Monitor Data Source For Grafana][Azure Monitor Data Source For Grafana].</span></span>
- <span data-ttu-id="39d69-165">[Data Dog][data-dog] offre un connettore per Monitoraggio di Azure</span><span class="sxs-lookup"><span data-stu-id="39d69-165">[Data Dog][data-dog] features a connector for Azure Monitor</span></span>
- <span data-ttu-id="39d69-166">Automatizzare le funzioni di monitoraggio usando [Automazione di Azure][Azure Automation].</span><span class="sxs-lookup"><span data-stu-id="39d69-166">Automate monitoring functions using [Azure Automation][Azure Automation].</span></span>
- <span data-ttu-id="39d69-167">Aggiungere la comunicazione con le [soluzioni di gestione dei servizi IT][ITSM solutions].</span><span class="sxs-lookup"><span data-stu-id="39d69-167">Add communication with [ITSM solutions][ITSM solutions].</span></span>
- <span data-ttu-id="39d69-168">Estendere Log Analytics con una [soluzione di gestione][management solution].</span><span class="sxs-lookup"><span data-stu-id="39d69-168">Extend Log Analytics with a [management solution][management solution].</span></span>

### <a name="scalability-and-availability"></a><span data-ttu-id="39d69-169">Disponibilità e scalabilità</span><span class="sxs-lookup"><span data-stu-id="39d69-169">Scalability and availability</span></span>

<span data-ttu-id="39d69-170">Questo scenario è in gran parte incentrato sulle soluzioni PaaS per il monitoraggio perché gestiscono facilmente e automaticamente la disponibilità e la scalabilità e sono supportate dai contratti di servizio.</span><span class="sxs-lookup"><span data-stu-id="39d69-170">This scenario focuses on PaaS solutions for monitoring in large part because they conveniently handle availability and scalability for you and are backed by service-level agreements (SLAs).</span></span> <span data-ttu-id="39d69-171">Servizi app, ad esempio, fornisce un [contratto di servizio][SLA] garantito per la disponibilità.</span><span class="sxs-lookup"><span data-stu-id="39d69-171">For example, App Services provides a guaranteed [SLA][SLA] for its availability.</span></span>

<span data-ttu-id="39d69-172">Application Insights prevede [limiti][app-insights-limits] per il numero di richieste al secondo che possono essere elaborate.</span><span class="sxs-lookup"><span data-stu-id="39d69-172">Application Insights has [limits][app-insights-limits] on how many requests can be processed per second.</span></span> <span data-ttu-id="39d69-173">Se si supera il limite di richieste, potrebbe verificarsi la limitazione dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="39d69-173">If you exceed the request limit, you may experience message throttling.</span></span> <span data-ttu-id="39d69-174">Per evitare tale limitazione, implementare [filtri][message-filtering] o il [campionamento][message-sampling] per ridurre la velocità dati.</span><span class="sxs-lookup"><span data-stu-id="39d69-174">To prevent throttling, implement [filtering][message-filtering] or [sampling][message-sampling] to reduce the data rate</span></span>

<span data-ttu-id="39d69-175">Le considerazioni sulla disponibilità elevata per l'app eseguita, tuttavia, sono responsabilità dello sviluppatore.</span><span class="sxs-lookup"><span data-stu-id="39d69-175">High availability considerations for the app you run, however, are the developer's responsibility.</span></span> <span data-ttu-id="39d69-176">Per informazioni sulla scalabilità, ad esempio, vedere la sezione [Considerazioni sulla scalabilità](./basic-web-app.md#scalability-considerations) nell'architettura di riferimento dell'applicazione Web di base.</span><span class="sxs-lookup"><span data-stu-id="39d69-176">For information about scale, for example, see the [Scalability considerations](./basic-web-app.md#scalability-considerations) section in the basic web application reference architecture.</span></span> <span data-ttu-id="39d69-177">Dopo la distribuzione di un'app, è possibile configurare i test per [monitorarne la disponibilità][monitor its availability] usando Application Insights.</span><span class="sxs-lookup"><span data-stu-id="39d69-177">After an app is deployed, you can set up tests to [monitor its availability][monitor its availability] using Application Insights.</span></span>

### <a name="security"></a><span data-ttu-id="39d69-178">Security</span><span class="sxs-lookup"><span data-stu-id="39d69-178">Security</span></span>

<span data-ttu-id="39d69-179">I requisiti di conformità e le informazioni sensibili influiscono sulla raccolta, la conservazione e l'archiviazione dei dati.</span><span class="sxs-lookup"><span data-stu-id="39d69-179">Sensitive information and compliance requirements affect data collection, retention, and storage.</span></span> <span data-ttu-id="39d69-180">Sono disponibili altre informazioni su come [Application Insights][application-insights] e [Log Analytics][log-analytics] gestiscono i dati di telemetria.</span><span class="sxs-lookup"><span data-stu-id="39d69-180">Learn more about how [Application Insights][application-insights] and [Log Analytics][log-analytics] handle telemetry.</span></span>

<span data-ttu-id="39d69-181">Possono valere anche le considerazioni sulla sicurezza seguenti:</span><span class="sxs-lookup"><span data-stu-id="39d69-181">The following security considerations may also apply:</span></span>

- <span data-ttu-id="39d69-182">Sviluppare un piano per gestire le informazioni personali se gli sviluppatori possono raccogliere i dati o arricchire i dati di telemetria esistenti.</span><span class="sxs-lookup"><span data-stu-id="39d69-182">Develop a plan to handle personal information if developers are allowed to collect their own data or enrich existing telemetry.</span></span>
- <span data-ttu-id="39d69-183">Considerare la conservazione dei dati.</span><span class="sxs-lookup"><span data-stu-id="39d69-183">Consider data retention.</span></span> <span data-ttu-id="39d69-184">Ad esempio, Application Insights conserva i dati di telemetria per 90 giorni.</span><span class="sxs-lookup"><span data-stu-id="39d69-184">For example, Application Insights retains telemetry data for 90 days.</span></span> <span data-ttu-id="39d69-185">Archiviare i dati a cui si vuole accedere per periodi più lunghi usando Microsoft Power BI, l'esportazione continua o l'API REST.</span><span class="sxs-lookup"><span data-stu-id="39d69-185">Archive data you want access to for longer periods using Microsoft Power BI, Continuous Export, or the REST API.</span></span> <span data-ttu-id="39d69-186">Si applicano le tariffe di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="39d69-186">Storage rates apply.</span></span>
- <span data-ttu-id="39d69-187">Limitare l'accesso alle risorse di Azure per controllare l'accesso ai dati e chi può visualizzare i dati di telemetria da un'applicazione specifica.</span><span class="sxs-lookup"><span data-stu-id="39d69-187">Limit access to Azure resources to control access to data and who can view telemetry from a specific application.</span></span> <span data-ttu-id="39d69-188">Per consentire il blocco dell'accesso al monitoraggio dei dati di telemetria, vedere [Risorse, ruoli e controllo di accesso in Application Insights][Resources, roles, and access control in Application Insights].</span><span class="sxs-lookup"><span data-stu-id="39d69-188">To help lock down access to monitoring telemetry, see [Resources, roles, and access control in Application Insights][Resources, roles, and access control in Application Insights].</span></span>
- <span data-ttu-id="39d69-189">Considerare la possibilità di controllare l'accesso in lettura/scrittura nel codice dell'applicazione per impedire agli utenti di aggiungere marcatori di versione o tag che limitano l'inserimento dati dall'applicazione.</span><span class="sxs-lookup"><span data-stu-id="39d69-189">Consider whether to control read/write access in application code to prevent users from adding version or tag markers that limit data ingestion from the application.</span></span> <span data-ttu-id="39d69-190">Con Application Insights, non è possibile controllare i singoli elementi di dati dopo che sono stati inviati a una risorsa, quindi, se un utente ha accesso ad alcuni dati, ha accesso a tutti i dati in una singola risorsa.</span><span class="sxs-lookup"><span data-stu-id="39d69-190">With Application Insights, there is no control over individual data items once they are sent to a resource, so if a user has access to any data, they have access to all data in an individual resource.</span></span>
- <span data-ttu-id="39d69-191">Aggiungere meccanismi di [governance](/azure/security/governance-in-azure) per applicare controlli per i criteri o i costi nelle risorse di Azure, se necessario.</span><span class="sxs-lookup"><span data-stu-id="39d69-191">Add [governance](/azure/security/governance-in-azure) mechanisms to enforce policy or cost controls over Azure resources if needed.</span></span> <span data-ttu-id="39d69-192">Ad esempio, usare Log Analytics per il monitoraggio relativo alla sicurezza, ad esempio con criteri e controllo degli accessi in base al ruolo, oppure usare [Criteri di Azure](/azure/azure-policy/azure-policy-introduction) per creare, assegnare e gestire le definizioni dei criteri.</span><span class="sxs-lookup"><span data-stu-id="39d69-192">For example, use Log Analytics for security-related monitoring such as policies and role-based access control, or use [Azure Policy](/azure/azure-policy/azure-policy-introduction) to create, assign and, manage policy definitions.</span></span>
- <span data-ttu-id="39d69-193">Per monitorare i potenziali problemi di sicurezza e ottenere un punto di vista centralizzato sullo stato della sicurezza delle risorse di Azure, valutare la possibilità di usare [Centro sicurezza di Azure](/azure/security-center/security-center-intro).</span><span class="sxs-lookup"><span data-stu-id="39d69-193">To monitor potential security issues and get a central view of the security state of your Azure resources, consider using [Azure Security Center](/azure/security-center/security-center-intro).</span></span>

## <a name="pricing"></a><span data-ttu-id="39d69-194">Prezzi</span><span class="sxs-lookup"><span data-stu-id="39d69-194">Pricing</span></span>

<span data-ttu-id="39d69-195">Poiché i costi di monitoraggio possono sommarsi rapidamente, tenere in considerazione i prezzi fin dall'inizio, determinare che cosa si sta monitorando e controllare le tariffe associate per ogni servizio.</span><span class="sxs-lookup"><span data-stu-id="39d69-195">Monitoring charges can add up quickly, so consider pricing up front, understand what you are monitoring, and check the associated fees for each service.</span></span> <span data-ttu-id="39d69-196">Monitoraggio di Azure fornisce gratuitamente le [metriche di base][basic metrics], mentre i costi di monitoraggio per [Application Insights][application-insights-pricing] e [Log Analytics][log-analytics] dipendono dalla quantità di dati inseriti e dal numero di test eseguiti.</span><span class="sxs-lookup"><span data-stu-id="39d69-196">Azure Monitor provides [basic metrics][basic metrics] at no cost, while monitoring costs for [Application Insights][application-insights-pricing] and [Log Analytics][log-analytics] are based on the amount of data ingested and the number of tests you run.</span></span>

<span data-ttu-id="39d69-197">Per iniziare, usare il [calcolatore dei prezzi][pricing] per valutare i costi.</span><span class="sxs-lookup"><span data-stu-id="39d69-197">To help you get started, use the [pricing calculator][pricing] to estimate costs.</span></span> <span data-ttu-id="39d69-198">Per verificare la variazione dei prezzi per un determinato caso d'uso, modificare le diverse opzioni in base alla distribuzione prevista.</span><span class="sxs-lookup"><span data-stu-id="39d69-198">To see how the pricing would change for your particular use case, change the various options to match your expected deployment.</span></span>

<span data-ttu-id="39d69-199">I dati di telemetria da Application Insights vengono inviati al portale di Azure durante il debug e dopo la pubblicazione dell'app.</span><span class="sxs-lookup"><span data-stu-id="39d69-199">Telemetry from Application Insights is sent to the Azure portal during debugging and after you have published your app.</span></span> <span data-ttu-id="39d69-200">A scopo di test e per evitare addebiti non necessari, viene instrumentato un volume limitato di dati di telemetria.</span><span class="sxs-lookup"><span data-stu-id="39d69-200">For testing purposes and to avoid charges, a limited volume of telemetry is instrumented.</span></span> <span data-ttu-id="39d69-201">Per aggiungere altri indicatori, è possibile aumentare il limite dei dati di telemetria.</span><span class="sxs-lookup"><span data-stu-id="39d69-201">To add more indicators, you can raise the telemetry limit.</span></span> <span data-ttu-id="39d69-202">Per un controllo più granulare, vedere [Campionamento in Application Insights][Sampling in Application Insights].</span><span class="sxs-lookup"><span data-stu-id="39d69-202">For more granular control, see [Sampling in Application Insights][Sampling in Application Insights].</span></span>

<span data-ttu-id="39d69-203">Dopo la distribuzione, è possibile osservare un'istanza di [Live Metrics Stream][Live Metrics Stream] per gli indicatori delle prestazioni.</span><span class="sxs-lookup"><span data-stu-id="39d69-203">After deployment, you can watch a [Live Metrics Stream][Live Metrics Stream] of performance indicators.</span></span> <span data-ttu-id="39d69-204">Questi dati non vengono archiviati, perché si visualizzano le metriche in tempo reale, ma i dati di telemetria possono essere raccolti e analizzati in un secondo momento.</span><span class="sxs-lookup"><span data-stu-id="39d69-204">This data is not stored &mdash; you are viewing real-time metrics &mdash; but the telemetry can be collected and analyzed later.</span></span> <span data-ttu-id="39d69-205">Non sono previste spese per i dati di Live Stream.</span><span class="sxs-lookup"><span data-stu-id="39d69-205">There is no charge for Live Stream data.</span></span>

<span data-ttu-id="39d69-206">La fatturazione di Log Analytics si basa su ogni gigabyte (GB) di dati inseriti nel servizio.</span><span class="sxs-lookup"><span data-stu-id="39d69-206">Log Analytics is billed per gigabyte (GB) of data ingested into the service.</span></span> <span data-ttu-id="39d69-207">I primi 5 GB di dati inseriti nel servizio Azure Log Analytics ogni mese sono gratuiti e i dati vengono conservati senza alcun addebito per i primi 31 giorni nell'area di lavoro Log Analytics.</span><span class="sxs-lookup"><span data-stu-id="39d69-207">The first 5 GB of data ingested to the Azure Log Analytics service every month is offered free, and the data is retained at no charge for first 31 days in your Log Analytics workspace.</span></span>

## <a name="next-steps"></a><span data-ttu-id="39d69-208">Passaggi successivi</span><span class="sxs-lookup"><span data-stu-id="39d69-208">Next steps</span></span>

<span data-ttu-id="39d69-209">Vedere queste risorse progettate per poter iniziare con la propria soluzione di monitoraggio:</span><span class="sxs-lookup"><span data-stu-id="39d69-209">Check out these resources designed to help you get started with your own monitoring solution:</span></span>

<span data-ttu-id="39d69-210">[Architettura di riferimento per le applicazioni Web di base][Basic web application reference architecture]</span><span class="sxs-lookup"><span data-stu-id="39d69-210">[Basic web application reference architecture][Basic web application reference architecture]</span></span>

<span data-ttu-id="39d69-211">[Iniziare a monitorare l'applicazione Web ASP.NET][Start monitoring your ASP.NET Web Application]</span><span class="sxs-lookup"><span data-stu-id="39d69-211">[Start monitoring your ASP.NET Web Application][Start monitoring your ASP.NET Web Application]</span></span>

<span data-ttu-id="39d69-212">[Raccogliere dati sulle macchine virtuali di Azure][Collect data about Azure Virtual Machines]</span><span class="sxs-lookup"><span data-stu-id="39d69-212">[Collect data about Azure Virtual Machines][Collect data about Azure Virtual Machines]</span></span>

## <a name="related-resources"></a><span data-ttu-id="39d69-213">Risorse correlate</span><span class="sxs-lookup"><span data-stu-id="39d69-213">Related resources</span></span>

<span data-ttu-id="39d69-214">[Monitoraggio di applicazioni e risorse di Azure][Monitoring Azure applications and resources]</span><span class="sxs-lookup"><span data-stu-id="39d69-214">[Monitoring Azure applications and resources][Monitoring Azure applications and resources]</span></span>

<span data-ttu-id="39d69-215">[Rilevare e diagnosticare le eccezioni di runtime con Azure Application Insights][Find and diagnose run-time exceptions with Azure Application Insights]</span><span class="sxs-lookup"><span data-stu-id="39d69-215">[Find and diagnose run-time exceptions with Azure Application Insights][Find and diagnose run-time exceptions with Azure Application Insights]</span></span>

<!-- links -->
[architecture]: ./images/architecture-diagram-app-monitoring.svg
[availability-tests]: /azure/application-insights/app-insights-monitor-web-app-availability
[application-insights]: /azure/application-insights/app-insights-overview
[azure-monitor]: /azure/monitoring-and-diagnostics/monitoring-overview-azure-monitor
[metrics]: /azure/monitoring-and-diagnostics/monitoring-supported-metrics
[Log Analytics e altri servizi]: /azure/log-analytics/log-analytics-azure-storage
[Log Analytics and other services]: /azure/log-analytics/log-analytics-azure-storage
[log-analytics]: /azure/log-analytics/log-analytics-overview
[Azure Log Analytics agent]: https://blogs.msdn.microsoft.com/sqlsecurity/2017/12/28/azure-log-analytics-oms-agent-now-collects-sql-server-audit-logs/
[application-insights-pricing]: https://azure.microsoft.com/pricing/details/application-insights/
[Application Insights SDKs]: /azure/application-insights/app-insights-asp-net
[Application Insights Status Monitor]: https://azure.microsoft.com/updates/application-insights-status-monitor-and-sdk-updated/
[analyzing data across sources]: /azure/log-analytics/log-analytics-dashboards
[sending proactive alerts]: /azure/log-analytics/log-analytics-alerts
[the Azure portal]: /azure/log-analytics/log-analytics-tutorial-dashboards
[Azure Log Analytics Query Language]: https://docs.loganalytics.io/docs/Learn
[cross-resource queries]: https://azure.microsoft.com/blog/query-across-resources/
[alerts]: /azure/monitoring-and-diagnostics/monitoring-overview-alerts
[Alerts (Preview)]: /azure/monitoring-and-diagnostics/monitoring-overview-unified-alerts
[Azure Monitor Data Source For Grafana]: https://grafana.com/plugins/grafana-azure-monitor-datasource
[Azure Automation]: /azure/automation/automation-intro
[ITSM solutions]: https://azure.microsoft.com/blog/itsm-connector-for-azure-is-now-generally-available/
[management solution]: /azure/monitoring/monitoring-solutions
[SLA]: https://azure.microsoft.com/support/legal/sla/app-service/v1_4/
[monitor its availability]: /azure/application-insights/app-insights-monitor-web-app-availability
[Resources, roles, and access control in Application Insights]: /azure/application-insights/app-insights-resources-roles-access-control
[basic metrics]: /azure/monitoring-and-diagnostics/monitoring-supported-metrics
[pricing]: https://azure.microsoft.com/pricing/calculator/#log-analyticsc126d8c1-ec9c-4e5b-9b51-4db95d06a9b1
[Sampling in Application Insights]: /azure/application-insights/app-insights-sampling
[Live Metrics Stream]: /azure/application-insights/app-insights-live-stream
[Basic web application reference architecture]: /azure/architecture/reference-architectures/app-service-web-app/basic-web-app#scalability-considerations
[Start monitoring your ASP.NET Web Application]: /azure/application-insights/quick-monitor-portal
[Collect data about Azure Virtual Machines]: /azure/log-analytics/log-analytics-quick-collect-azurevm
[Monitoring Azure applications and resources]: /azure/monitoring-and-diagnostics/monitoring-overview
[Find and diagnose run-time exceptions with Azure Application Insights]: /azure/application-insights/app-insights-tutorial-runtime-exceptions
[data-dog]: https://www.datadoghq.com/blog/azure-monitoring-enhancements/
[app-insights-limits]: /azure/azure-subscription-service-limits#application-insights-limits
[message-filtering]: /azure/application-insights/app-insights-api-filtering-sampling
[message-sampling]: /azure/application-insights/app-insights-sampling
