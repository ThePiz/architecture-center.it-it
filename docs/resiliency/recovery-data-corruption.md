---
title: Ripristino dal danneggiamento o dall'eliminazione accidentale dei dati
description: "Articolo incentrato sul ripristino dal danneggiamento dei dati o dall'eliminazione accidentale di dati e sulla progettazione di applicazioni resilienti, a disponibilità elevata e con tolleranza di errore, oltre che sulla pianificazione del ripristino di emergenza."
author: MikeWasson
ms.date: 01/10/2018
ms.openlocfilehash: 76d2f996750d5a67b67bd5dc4977580f3b8abbc3
ms.sourcegitcommit: 3d6dba524cc7661740bdbaf43870de7728d60a01
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 01/11/2018
---
# <a name="recover-from-data-corruption-or-accidental-deletion"></a><span data-ttu-id="bfebc-103">Ripristino dal danneggiamento o dall'eliminazione accidentale dei dati</span><span class="sxs-lookup"><span data-stu-id="bfebc-103">Recover from data corruption or accidental deletion</span></span> 

<span data-ttu-id="bfebc-104">Un piano affidabile per la continuità aziendale deve includere un piano in caso di danneggiamento o eliminazione accidentale dei dati.</span><span class="sxs-lookup"><span data-stu-id="bfebc-104">Part of a robust business continuity plan is having a plan if your data gets corrupted or accidentally deleted.</span></span> <span data-ttu-id="bfebc-105">Le informazioni seguenti illustrano il ripristino dopo il danneggiamento o l'eliminazione accidentale di dati a causa di errori dell'applicazione o di errore dell'operatore.</span><span class="sxs-lookup"><span data-stu-id="bfebc-105">The following is information about recovery after data has been corrupted or accidentally deleted, due to application errors or operator error.</span></span>

## <a name="virtual-machines"></a><span data-ttu-id="bfebc-106">Macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="bfebc-106">Virtual Machines</span></span>

<span data-ttu-id="bfebc-107">Per proteggere le macchine virtuali (VM) di Azure da errori delle applicazioni o dall'eliminazione accidentale, usare [Backup di Azure](/azure/backup/).</span><span class="sxs-lookup"><span data-stu-id="bfebc-107">To protect Azure Virtual Machines (VMs) from application errors or accidental deletion, use [Azure Backup](/azure/backup/).</span></span> <span data-ttu-id="bfebc-108">Backup di Azure consente la creazione di backup coerenti in più dischi di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="bfebc-108">Azure Backup enables the creation of backups that are consistent across multiple VM disks.</span></span> <span data-ttu-id="bfebc-109">È inoltre possibile replicare un insieme di credenziali per il backup in diverse aree per offrire il ripristino dalla perdita di un'area.</span><span class="sxs-lookup"><span data-stu-id="bfebc-109">In addition, the Backup Vault can be replicated across regions to provide recovery from region loss.</span></span>

## <a name="storage"></a><span data-ttu-id="bfebc-110">Archiviazione</span><span class="sxs-lookup"><span data-stu-id="bfebc-110">Storage</span></span>

<span data-ttu-id="bfebc-111">Archiviazione di Azure offre la resilienza dei dati tramite repliche automatizzate.</span><span class="sxs-lookup"><span data-stu-id="bfebc-111">Azure Storage provides data resiliency through automated replicas.</span></span> <span data-ttu-id="bfebc-112">Ciò non impedisce tuttavia al codice delle applicazioni o agli utenti di danneggiare i dati, intenzionalmente o accidentalmente.</span><span class="sxs-lookup"><span data-stu-id="bfebc-112">However, this does not prevent application code or users from corrupting data, whether accidentally or maliciously.</span></span> <span data-ttu-id="bfebc-113">Per mantenere la conformità dei dati in caso di errore dell'applicazione o da parte dell'utente sono richieste tecniche più avanzate, ad esempio la copia dei dati in un percorso di archiviazione secondario con un log di controllo.</span><span class="sxs-lookup"><span data-stu-id="bfebc-113">Maintaining data fidelity in the face of application or user error requires more advanced techniques, such as copying the data to a secondary storage location with an audit log.</span></span> 

- <span data-ttu-id="bfebc-114">**BLOB in blocchi**.</span><span class="sxs-lookup"><span data-stu-id="bfebc-114">**Block blobs**.</span></span> <span data-ttu-id="bfebc-115">Creare uno snapshot temporizzato di ogni BLOB in blocchi.</span><span class="sxs-lookup"><span data-stu-id="bfebc-115">Create a point-in-time snapshot of each block blob.</span></span> <span data-ttu-id="bfebc-116">Per ulteriori informazioni, vedere [Creazione di uno Snapshot di un BLOB](/rest/api/storageservices/creating-a-snapshot-of-a-blob).</span><span class="sxs-lookup"><span data-stu-id="bfebc-116">For more information, see [Creating a Snapshot of a Blob](/rest/api/storageservices/creating-a-snapshot-of-a-blob).</span></span> <span data-ttu-id="bfebc-117">Per ogni snapshot viene addebitato solo lo spazio richiesto per l'archiviazione delle differenze all'interno del BLOB dall'ultimo stato dello snapshot.</span><span class="sxs-lookup"><span data-stu-id="bfebc-117">For each snapshot, you are only charged for the storage required to store the differences within the blob since the last snapshot state.</span></span> <span data-ttu-id="bfebc-118">Gli snapshot dipendono dall'esistenza del BLOB originale su cui si basano, quindi è consigliabile un'operazione di copia in un altro BLOB o in un altro account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="bfebc-118">The snapshots are dependent on the existence of the original blob they are based on, so a copy operation to another blob or even another storage account is advisable.</span></span> <span data-ttu-id="bfebc-119">In questo modo si garantisce che i dati di backup vengano correttamente protetti da eliminazioni accidentali.</span><span class="sxs-lookup"><span data-stu-id="bfebc-119">This ensures that backup data is properly protected against accidental deletion.</span></span> <span data-ttu-id="bfebc-120">È possibile usare [AzCopy](/azure/storage/common/storage-use-azcopy) o [Azure PowerShell](/azure/storage/common/storage-powershell-guide-full) per copiare i BLOB in un altro account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="bfebc-120">You can use [AzCopy](/azure/storage/common/storage-use-azcopy) or [Azure PowerShell](/azure/storage/common/storage-powershell-guide-full) to copy the blobs to another storage account.</span></span>

- <span data-ttu-id="bfebc-121">**File**.</span><span class="sxs-lookup"><span data-stu-id="bfebc-121">**Files**.</span></span> <span data-ttu-id="bfebc-122">Usare gli [snapshot di condivisione (anteprima)](/azure/storage/files/storage-how-to-use-files-snapshots), AzCopy o PowerShell per copiare i file in un altro account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="bfebc-122">Use [share snapshots (preview)](/azure/storage/files/storage-how-to-use-files-snapshots), or use AzCopy or PowerShell to copy your files to another storage account.</span></span>

- <span data-ttu-id="bfebc-123">**Tabelle**.</span><span class="sxs-lookup"><span data-stu-id="bfebc-123">**Tables**.</span></span> <span data-ttu-id="bfebc-124">Usare AzCopy per esportare i dati delle tabelle in un altro account di archiviazione in un'altra area.</span><span class="sxs-lookup"><span data-stu-id="bfebc-124">Use AzCopy to export the table data into another storage account in another region.</span></span>

## <a name="database"></a><span data-ttu-id="bfebc-125">Database</span><span class="sxs-lookup"><span data-stu-id="bfebc-125">Database</span></span>

### <a name="azure-sql-database"></a><span data-ttu-id="bfebc-126">database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="bfebc-126">Azure SQL Database</span></span> 

<span data-ttu-id="bfebc-127">Il database SQL esegue automaticamente una combinazione di backup completi su base settimanale, backup differenziali del database di backup ogni ora e backup dei log delle transazioni ogni 5-10 minuti per proteggere l'azienda dalla perdita di dati.</span><span class="sxs-lookup"><span data-stu-id="bfebc-127">SQL Database automatically performs a combination of full database backups weekly, differential database backups hourly, and transaction log backups every five - ten minutes to protect your business from data loss.</span></span> <span data-ttu-id="bfebc-128">Usare il ripristino temporizzato per ripristinare un database a un momento precedente.</span><span class="sxs-lookup"><span data-stu-id="bfebc-128">Use point-in-time restore to restore a database to an earlier time.</span></span> <span data-ttu-id="bfebc-129">Per altre informazioni, vedere:</span><span class="sxs-lookup"><span data-stu-id="bfebc-129">For more information, see:</span></span>

- [<span data-ttu-id="bfebc-130">Ripristinare un database SQL di Azure mediante i backup automatici del database</span><span class="sxs-lookup"><span data-stu-id="bfebc-130">Recover an Azure SQL database using automated database backups</span></span>](/azure/sql-database/sql-database-recovery-using-backups)

- [<span data-ttu-id="bfebc-131">Panoramica della continuità aziendale del database SQL di Azure</span><span class="sxs-lookup"><span data-stu-id="bfebc-131">Overview of business continuity with Azure SQL Database</span></span>](/azure/sql-database/sql-database-business-continuity)

### <a name="sql-server-on-vms"></a><span data-ttu-id="bfebc-132">SQL Server in VM</span><span class="sxs-lookup"><span data-stu-id="bfebc-132">SQL Server on VMs</span></span>

<span data-ttu-id="bfebc-133">In caso di esecuzione di SQL Server in VM, sono disponibili due opzioni: backup tradizionali e log shipping.</span><span class="sxs-lookup"><span data-stu-id="bfebc-133">For SQL Server running on VMs, there are two options: traditional backups and log shipping.</span></span> <span data-ttu-id="bfebc-134">I backup tradizionali consentono il ripristino a un momento specifico, ma il processo di recupero è lento.</span><span class="sxs-lookup"><span data-stu-id="bfebc-134">Traditional backups enables you to restore to a specific point in time, but the recovery process is slow.</span></span> <span data-ttu-id="bfebc-135">Il ripristino dei backup tradizionali richiede inizialmente l'esecuzione di un backup completo e quindi l'applicazione di tutti i backup eseguiti successivamente.</span><span class="sxs-lookup"><span data-stu-id="bfebc-135">Restoring traditional backups requires starting with an initial full backup, and then applying any backups taken after that.</span></span> <span data-ttu-id="bfebc-136">La seconda opzione consiste nel configurare una sessione di log shipping per ritardare il ripristino dei backup del log, ad esempio di due ore,</span><span class="sxs-lookup"><span data-stu-id="bfebc-136">The second option is to configure a log shipping session to delay the restore of log backups (for example, by two hours).</span></span> <span data-ttu-id="bfebc-137">in modo da disporre di una finestra per il ripristino da errori nel server primario.</span><span class="sxs-lookup"><span data-stu-id="bfebc-137">This provides a window to recover from errors made on the primary.</span></span>

### <a name="azure-cosmos-db"></a><span data-ttu-id="bfebc-138">Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="bfebc-138">Azure Cosmos DB</span></span>

<span data-ttu-id="bfebc-139">Azure Cosmos DB esegue automaticamente il backup a intervalli regolari.</span><span class="sxs-lookup"><span data-stu-id="bfebc-139">Azure Cosmos DB automatically takes backups at regular intervals.</span></span> <span data-ttu-id="bfebc-140">I backup vengono archiviati separatamente in un altro servizio di archiviazione e replicati a livello globale per garantire la resilienza in caso di emergenze a livello di area.</span><span class="sxs-lookup"><span data-stu-id="bfebc-140">Backups are stored separately in another storage service, and those backups are globally replicated for resiliency against regional disasters.</span></span> <span data-ttu-id="bfebc-141">Se si elimina accidentalmente il database o la raccolta, è possibile inviare un ticket di supporto o contattare il supporto di Azure per ripristinare i dati dall'ultimo backup automatico.</span><span class="sxs-lookup"><span data-stu-id="bfebc-141">If you accidentally delete your database or collection, you can file a support ticket or call Azure support to restore the data from the last automatic backup.</span></span> <span data-ttu-id="bfebc-142">Per altre informazioni, vedere [Backup online automatico e ripristino con Azure Cosmos DB](/azure/cosmos-db/online-backup-and-restore).</span><span class="sxs-lookup"><span data-stu-id="bfebc-142">For more information, see [Automatic online backup and restore with Azure Cosmos DB](/azure/cosmos-db/online-backup-and-restore).</span></span>

### <a name="azure-database-for-mysql-azure-database-for-postresql"></a><span data-ttu-id="bfebc-143">Database di Azure per MySQL e Database di Azure per PostgreSQL</span><span class="sxs-lookup"><span data-stu-id="bfebc-143">Azure Database for MySQL, Azure Database for PostreSQL</span></span>

<span data-ttu-id="bfebc-144">Quando si usa Database di Azure per MySQL o Database di Azure per PostgreSQL, il servizio di database esegue automaticamente il backup del servizio ogni cinque minuti.</span><span class="sxs-lookup"><span data-stu-id="bfebc-144">When using Azure Database for MySQL or Azure Database for PostreSQL, the database service automatically makes a backup of the service every five minutes.</span></span> <span data-ttu-id="bfebc-145">L'uso di questa funzionalità di backup automatico permette di ripristinare il server e tutti i suoi database in un nuovo server a un precedente punto temporizzato.</span><span class="sxs-lookup"><span data-stu-id="bfebc-145">Using this automatic backup feature you may restore the server and all its databases into a new server to an earlier point-in-time.</span></span> <span data-ttu-id="bfebc-146">Per altre informazioni, vedere:</span><span class="sxs-lookup"><span data-stu-id="bfebc-146">For more information, see:</span></span>

- [<span data-ttu-id="bfebc-147">Come eseguire la procedura di backup e ripristino di un server in Database di Azure per MySQL tramite il portale di Azure</span><span class="sxs-lookup"><span data-stu-id="bfebc-147">How to back up and restore a server in Azure Database for MySQL by using the Azure portal</span></span>](/azure/mysql/howto-restore-server-portal)

- [<span data-ttu-id="bfebc-148">Come eseguire la procedura di backup e ripristino di un server in Database di Azure per PostgreSQL usando il portale di Azure</span><span class="sxs-lookup"><span data-stu-id="bfebc-148">How to backup and restore a server in Azure Database for PostgreSQL using the Azure portal</span></span>](/azure/postgresql/howto-restore-server-portal)

