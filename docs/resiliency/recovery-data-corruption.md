---
title: Ripristino dal danneggiamento o dall'eliminazione accidentale dei dati
description: "Articolo incentrato sul ripristino dal danneggiamento dei dati o dall'eliminazione accidentale di dati e sulla progettazione di applicazioni resilienti, a disponibilità elevata e con tolleranza di errore, oltre che sulla pianificazione del ripristino di emergenza."
author: adamglick
ms.date: 08/18/2016
ms.openlocfilehash: b75c774f85c42f64472167897f08a7302ab50a3f
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 11/14/2017
---
[!INCLUDE [header](../_includes/header.md)]
# <a name="azure-resiliency-technical-guidance-recovery-from-data-corruption-or-accidental-deletion"></a><span data-ttu-id="3f75b-103">Informazioni tecniche sulla resilienza di Azure: ripristino dal danneggiamento o dall'eliminazione accidentale dei dati</span><span class="sxs-lookup"><span data-stu-id="3f75b-103">Azure resiliency technical guidance: recovery from data corruption or accidental deletion</span></span>
<span data-ttu-id="3f75b-104">Un piano affidabile per la continuità aziendale deve includere un piano in caso di danneggiamento o eliminazione accidentale dei dati.</span><span class="sxs-lookup"><span data-stu-id="3f75b-104">Part of a robust business continuity plan is having a plan if your data gets corrupted or accidentally deleted.</span></span> <span data-ttu-id="3f75b-105">Le informazioni seguenti illustrano il ripristino dopo il danneggiamento o l'eliminazione accidentale di dati a causa di errori dell'applicazione o di errore dell'operatore.</span><span class="sxs-lookup"><span data-stu-id="3f75b-105">The following is information about recovery after data has been corrupted or accidentally deleted, due to application errors or operator error.</span></span>

## <a name="virtual-machines"></a><span data-ttu-id="3f75b-106">Macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="3f75b-106">Virtual Machines</span></span>
<span data-ttu-id="3f75b-107">Per proteggere le macchine virtuali di Azure, definite a volte VM IaaS (Infrastructure as a Service), da errori dell'applicazione o dall'eliminazione accidentale, usare [Backup di Azure](https://azure.microsoft.com/services/backup/).</span><span class="sxs-lookup"><span data-stu-id="3f75b-107">To protect your Azure Virtual Machines (sometimes called infrastructure-as-a-service VMs) from application errors or accidental deletion, use [Azure Backup](https://azure.microsoft.com/services/backup/).</span></span> <span data-ttu-id="3f75b-108">Backup di Azure consente la creazione di backup coerenti in più dischi di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="3f75b-108">Azure Backup enables the creation of backups that are consistent across multiple VM disks.</span></span> <span data-ttu-id="3f75b-109">È inoltre possibile replicare un insieme di credenziali per il backup in diverse aree per offrire il ripristino dalla perdita di un'area.</span><span class="sxs-lookup"><span data-stu-id="3f75b-109">In addition, the Backup Vault can be replicated across regions to provide recovery from region loss.</span></span>

## <a name="storage"></a><span data-ttu-id="3f75b-110">Archiviazione</span><span class="sxs-lookup"><span data-stu-id="3f75b-110">Storage</span></span>
<span data-ttu-id="3f75b-111">Si noti che anche se l'Archiviazione di Azure offre la resilienza dei dati tramite le repliche automatiche, ciò non impedisce al codice dell'applicazione o agli sviluppatori/utenti di danneggiare i dati tramite eliminazione accidentale o indesiderata, aggiornamento e così via.</span><span class="sxs-lookup"><span data-stu-id="3f75b-111">Note that while Azure Storage provides data resiliency through automated replicas, this does not prevent your application code (or developers/users) from corrupting data through accidental or unintended deletion, update, and so on.</span></span> <span data-ttu-id="3f75b-112">Per mantenere la conformità dei dati in caso di errore dell'applicazione o da parte dell'utente sono richieste tecniche più avanzate, ad esempio la copia dei dati in un percorso di archiviazione secondario con un log di controllo.</span><span class="sxs-lookup"><span data-stu-id="3f75b-112">Maintaining data fidelity in the face of application or user error requires more advanced techniques, such as copying the data to a secondary storage location with an audit log.</span></span> <span data-ttu-id="3f75b-113">Gli sviluppatori possono usare la [funzionalità snapshot](https://msdn.microsoft.com/library/azure/ee691971.aspx)dei BLOB che consente di creare snapshot di sola lettura di momenti specifici del contenuto del BLOB.</span><span class="sxs-lookup"><span data-stu-id="3f75b-113">Developers can take advantage of the blob [snapshot capability](https://msdn.microsoft.com/library/azure/ee691971.aspx), which can create read-only point-in-time snapshots of blob contents.</span></span> <span data-ttu-id="3f75b-114">Questa tecnica può essere usata come base per una soluzione di conformità dei dati per i BLOB di Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="3f75b-114">This can be used as the basis of a data-fidelity solution for Azure Storage blobs.</span></span>

### <a name="blob-and-table-storage-backup"></a><span data-ttu-id="3f75b-115">Backup dell'archivio BLOB e tabelle</span><span class="sxs-lookup"><span data-stu-id="3f75b-115">Blob and Table Storage Backup</span></span>
<span data-ttu-id="3f75b-116">Nonostante BLOB e tabelle siano altamente durevoli, rappresentano sempre lo stato corrente dei dati.</span><span class="sxs-lookup"><span data-stu-id="3f75b-116">While blobs and tables are highly durable, they always represent the current state of the data.</span></span> <span data-ttu-id="3f75b-117">Il recupero da una modifica o da un'eliminazione di dati indesiderata può richiedere il ripristino dei dati a uno stato precedente.</span><span class="sxs-lookup"><span data-stu-id="3f75b-117">Recovery from unwanted modification or deletion of data may require restoring data to a previous state.</span></span> <span data-ttu-id="3f75b-118">A questo scopo, è possibile sfruttare le funzionalità disponibili in Azure per l'archiviazione e il mantenimento di copie temporizzate.</span><span class="sxs-lookup"><span data-stu-id="3f75b-118">This can be achieved by taking advantage of the capabilities provided by Azure to store and retain point-in-time copies.</span></span>

<span data-ttu-id="3f75b-119">Per i BLOB di Azure è possibile eseguire backup temporizzati tramite la [funzionalità per la creazione di snapshot di BLOB](https://msdn.microsoft.com/library/ee691971.aspx).</span><span class="sxs-lookup"><span data-stu-id="3f75b-119">For Azure Blobs, you can perform point-in-time backups using the [blob snapshot feature](https://msdn.microsoft.com/library/ee691971.aspx).</span></span> <span data-ttu-id="3f75b-120">Per ogni snapshot viene addebitato solo lo spazio richiesto per l'archiviazione delle differenze all'interno del BLOB dall'ultimo stato dello snapshot.</span><span class="sxs-lookup"><span data-stu-id="3f75b-120">For each snapshot, you are only charged for the storage required to store the differences within the blob since the last snapshot state.</span></span> <span data-ttu-id="3f75b-121">Gli snapshot dipendono dall'esistenza del BLOB originale su cui si basano, quindi è consigliabile un'operazione di copia in un altro BLOB o in un altro account di archiviazione.</span><span class="sxs-lookup"><span data-stu-id="3f75b-121">The snapshots are dependent on the existence of the original blob they are based on, so a copy operation to another blob or even another storage account is advisable.</span></span> <span data-ttu-id="3f75b-122">In questo modo si garantisce che i dati di backup vengano correttamente protetti da eliminazioni accidentali.</span><span class="sxs-lookup"><span data-stu-id="3f75b-122">This ensures that backup data is properly protected against accidental deletion.</span></span> <span data-ttu-id="3f75b-123">Per le tabelle di Azure è possibile eseguire copie temporizzate in una tabella diversa o in BLOB di Azure.</span><span class="sxs-lookup"><span data-stu-id="3f75b-123">For Azure Tables, you can make point-in-time copies to a different table or to Azure Blobs.</span></span> <span data-ttu-id="3f75b-124">Informazioni aggiuntive più dettagliate ed esempi relativi all'esecuzione di backup a livello di applicazione di tabelle e BLOB sono disponibili qui:</span><span class="sxs-lookup"><span data-stu-id="3f75b-124">More detailed guidance and examples of performing application-level backups of tables and blobs can be found here:</span></span>

* [<span data-ttu-id="3f75b-125">Protezione delle tabelle da errori dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="3f75b-125">Protecting Your Tables Against Application Errors</span></span>](https://blogs.msdn.microsoft.com/windowsazurestorage/2010/05/03/protecting-your-tables-against-application-errors/)
* [<span data-ttu-id="3f75b-126">Protezione dei BLOB da errori dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="3f75b-126">Protecting Your Blobs Against Application Errors</span></span>](https://blogs.msdn.microsoft.com/windowsazurestorage/2010/04/29/protecting-your-blobs-against-application-errors/)

## <a name="database"></a><span data-ttu-id="3f75b-127">Database</span><span class="sxs-lookup"><span data-stu-id="3f75b-127">Database</span></span>
<span data-ttu-id="3f75b-128">Sono disponibili alcune opzioni per la [continuità aziendale](/azure/sql-database/sql-database-business-continuity/) (backup, ripristino) per il database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="3f75b-128">There are several [business continuity](/azure/sql-database/sql-database-business-continuity/) (backup, restore) options available for Azure SQL Database.</span></span> <span data-ttu-id="3f75b-129">I database possono essere copiati tramite la funzionalità di [copia del database](/azure/sql-database/sql-database-copy/) o tramite l'[esportazione](/azure/sql-database/sql-database-export/) e l'[importazione](https://msdn.microsoft.com/library/hh710052.aspx) di un file bacpac di SQL Server.</span><span class="sxs-lookup"><span data-stu-id="3f75b-129">Databases can be copied by using the [Database Copy](/azure/sql-database/sql-database-copy/) functionality, or by  [exporting](/azure/sql-database/sql-database-export/) and [importing](https://msdn.microsoft.com/library/hh710052.aspx) a SQL Server bacpac file.</span></span> <span data-ttu-id="3f75b-130">A differenza di un file bacpac generato dal servizio di importazione/esportazione, la funzionalità di copia del database fornisce risultati coerenti dal punto di vista transazionale.</span><span class="sxs-lookup"><span data-stu-id="3f75b-130">Database Copy provides transactionally consistent results, while a bacpac (through the import/export service) does not.</span></span> <span data-ttu-id="3f75b-131">Entrambe le opzioni vengono eseguite come servizi basati su coda nel data center e non forniscono attualmente un contratto di servizio sul tempo necessario per il completamento.</span><span class="sxs-lookup"><span data-stu-id="3f75b-131">Both of these options run as queue-based services within the data center, and they do not currently provide a time-to-completion SLA.</span></span>

> [!NOTE]
> <span data-ttu-id="3f75b-132">Le opzioni per la copia del database e l'importazione/esportazione comportano un livello di carico significativo nel database di origine.</span><span class="sxs-lookup"><span data-stu-id="3f75b-132">The database copy and import/export options place a significant degree of load on the source database.</span></span> <span data-ttu-id="3f75b-133">Possono attivare eventi di contesa o di limitazione delle risorse.</span><span class="sxs-lookup"><span data-stu-id="3f75b-133">They can trigger resource contention or throttling events.</span></span>
> 
> 

### <a name="sql-database-backup"></a><span data-ttu-id="3f75b-134">Backup del database SQL</span><span class="sxs-lookup"><span data-stu-id="3f75b-134">SQL Database Backup</span></span>
<span data-ttu-id="3f75b-135">I backup temporizzati per il database SQL di Microsoft Azure vengono creati tramite la [copia del database SQL di Azure](/azure/sql-database/sql-database-copy/).</span><span class="sxs-lookup"><span data-stu-id="3f75b-135">Point-in-time backups for Microsoft Azure SQL Database are achieved by [copying your Azure SQL database](/azure/sql-database/sql-database-copy/).</span></span> <span data-ttu-id="3f75b-136">È possibile usare questo comando per creare una copia coerente dal punto di vista transazionale di un database nello stesso server di database logico o in un server diverso.</span><span class="sxs-lookup"><span data-stu-id="3f75b-136">You can use this command to create a transactionally consistent copy of a database on the same logical database server or to a different server.</span></span> <span data-ttu-id="3f75b-137">In entrambi i casi, la copia del database è completamente funzionale e indipendente dal database di origine.</span><span class="sxs-lookup"><span data-stu-id="3f75b-137">In either case, the database copy is fully functional and completely independent of the source database.</span></span> <span data-ttu-id="3f75b-138">Ogni copia creata rappresenta un'opzione di recupero temporizzato.</span><span class="sxs-lookup"><span data-stu-id="3f75b-138">Each copy you create represents a point-in-time recovery option.</span></span> <span data-ttu-id="3f75b-139">È possibile recuperare completamente lo stato del database rinominando il nuovo database con il nome del database di origine.</span><span class="sxs-lookup"><span data-stu-id="3f75b-139">You can recover the database state completely by renaming the new database with the source database name.</span></span> <span data-ttu-id="3f75b-140">In alternativa, è possibile recuperare un subset specifico di dati dal nuovo database usando query Transact-SQL.</span><span class="sxs-lookup"><span data-stu-id="3f75b-140">Alternatively, you can recover a specific subset of data from the new database by using Transact-SQL queries.</span></span> <span data-ttu-id="3f75b-141">Per altre informazioni sul database SQL, vedere [Panoramica della continuità aziendale del database SQL di Azure](/azure/sql-database/sql-database-business-continuity/).</span><span class="sxs-lookup"><span data-stu-id="3f75b-141">For additional details about SQL Database, see [Overview of business continuity with Azure SQL Database](/azure/sql-database/sql-database-business-continuity/).</span></span>

### <a name="sql-server-on-virtual-machines-backup"></a><span data-ttu-id="3f75b-142">Backup di SQL Server nelle macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="3f75b-142">SQL Server on Virtual Machines Backup</span></span>
<span data-ttu-id="3f75b-143">Sono disponibili due opzioni per SQL Server usato con macchine virtuali IaaS (Infrastructure as a Service) di Azure, ovvero i backup tradizionali e il log shipping.</span><span class="sxs-lookup"><span data-stu-id="3f75b-143">For SQL Server used with Azure infrastructure as a service virtual machines (often called IaaS or IaaS VMs), there are two options: traditional backups and log shipping.</span></span> <span data-ttu-id="3f75b-144">I backup tradizionali consentono di ripristinare a un momento specifico, ma il processo di recupero è lento.</span><span class="sxs-lookup"><span data-stu-id="3f75b-144">Using traditional backups enables you to restore to a specific point in time, but the recovery process is slow.</span></span> <span data-ttu-id="3f75b-145">Il ripristino dei backup tradizionali richiede inizialmente l'esecuzione di un backup completo e quindi l'applicazione di tutti i backup eseguiti successivamente.</span><span class="sxs-lookup"><span data-stu-id="3f75b-145">Restoring traditional backups requires starting with an initial full backup, and then applying any backups taken after that.</span></span> <span data-ttu-id="3f75b-146">La seconda opzione consiste nel configurare una sessione di log shipping per ritardare il ripristino dei backup del log, ad esempio di due ore,</span><span class="sxs-lookup"><span data-stu-id="3f75b-146">The second option is to configure a log shipping session to delay the restore of log backups (for example, by two hours).</span></span> <span data-ttu-id="3f75b-147">in modo da disporre di una finestra per il ripristino da errori nel server primario.</span><span class="sxs-lookup"><span data-stu-id="3f75b-147">This provides a window to recover from errors made on the primary.</span></span>

## <a name="other-azure-platform-services"></a><span data-ttu-id="3f75b-148">Altri servizi della piattaforma Azure</span><span class="sxs-lookup"><span data-stu-id="3f75b-148">Other Azure platform services</span></span>
<span data-ttu-id="3f75b-149">Alcuni servizi della piattaforma Azure archiviano le informazioni in un account di archiviazione controllato dall'utente o nel database SQL di Azure.</span><span class="sxs-lookup"><span data-stu-id="3f75b-149">Some Azure platform services store information in a user-controlled storage account or Azure SQL Database.</span></span> <span data-ttu-id="3f75b-150">In caso di eliminazione o danneggiamento dell'account o della risorsa di archiviazione, si potrebbero verificare errori gravi relativi al servizio.</span><span class="sxs-lookup"><span data-stu-id="3f75b-150">If the account or storage resource is deleted or corrupted, this could cause serious errors with the service.</span></span> <span data-ttu-id="3f75b-151">In questi casi è importante mantenere i backup che consentono di ricreare tali risorse se vengono eliminate o danneggiate.</span><span class="sxs-lookup"><span data-stu-id="3f75b-151">In these cases, it is important to maintain backups that would enable you to re-create these resources if they were deleted or corrupted.</span></span>

<span data-ttu-id="3f75b-152">Per i siti Web di Azure e i servizi mobili di Azure è necessario eseguire il backup e gestire i database associati.</span><span class="sxs-lookup"><span data-stu-id="3f75b-152">For Azure Web Sites and Azure Mobile Services, you must backup and maintain the associated databases.</span></span> <span data-ttu-id="3f75b-153">Per i servizi multimediali e le macchine virtuali di Azure è necessario gestire l'account di archiviazione di Azure associato e tutte le risorse dell'account.</span><span class="sxs-lookup"><span data-stu-id="3f75b-153">For Azure Media Service and Virtual Machines, you must maintain the associated Azure Storage account and all resources in that account.</span></span> <span data-ttu-id="3f75b-154">Ad esempio, per le macchine virtuali è necessario eseguire il backup e gestire i dischi di macchina virtuale nel servizio di archiviazione BLOB di Azure.</span><span class="sxs-lookup"><span data-stu-id="3f75b-154">For example, for Virtual Machines, you must back up and manage the VM disks in Azure blob storage.</span></span>

## <a name="checklists-for-data-corruption-or-accidental-deletion"></a><span data-ttu-id="3f75b-155">Elenchi di controllo per il danneggiamento o l'eliminazione accidentale dei dati</span><span class="sxs-lookup"><span data-stu-id="3f75b-155">Checklists for data corruption or accidental deletion</span></span>
## <a name="virtual-machines-checklist"></a><span data-ttu-id="3f75b-156">Elenco di controllo per le macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="3f75b-156">Virtual Machines checklist</span></span>
1. <span data-ttu-id="3f75b-157">Vedere la sezione Macchine virtuali di questo documento.</span><span class="sxs-lookup"><span data-stu-id="3f75b-157">Review the Virtual Machines section of this document.</span></span>
2. <span data-ttu-id="3f75b-158">Eseguire il backup e gestire i dischi delle VM con Backup di Azure oppure nel proprio sistema mediante il servizio di archiviazione BLOB di Azure e gli snapshot VHD.</span><span class="sxs-lookup"><span data-stu-id="3f75b-158">Back up and maintain the VM disks with Azure Backup (or your own backup system by using Azure blob storage and VHD snapshots).</span></span>

## <a name="storage-checklist"></a><span data-ttu-id="3f75b-159">Elenco di controllo per l'archiviazione</span><span class="sxs-lookup"><span data-stu-id="3f75b-159">Storage checklist</span></span>
1. <span data-ttu-id="3f75b-160">Vedere la sezione Archiviazione di questo documento.</span><span class="sxs-lookup"><span data-stu-id="3f75b-160">Review the Storage section of this document.</span></span>
2. <span data-ttu-id="3f75b-161">Eseguire regolarmente il backup delle risorse di archiviazione essenziali.</span><span class="sxs-lookup"><span data-stu-id="3f75b-161">Regularly back up critical storage resources.</span></span>
3. <span data-ttu-id="3f75b-162">Prendere in considerazione l'uso della funzionalità snapshot per i BLOB.</span><span class="sxs-lookup"><span data-stu-id="3f75b-162">Consider using the snapshot feature for blobs.</span></span>

## <a name="database-checklist"></a><span data-ttu-id="3f75b-163">Elenco di controllo per database</span><span class="sxs-lookup"><span data-stu-id="3f75b-163">Database checklist</span></span>
1. <span data-ttu-id="3f75b-164">Vedere la sezione Database di questo documento.</span><span class="sxs-lookup"><span data-stu-id="3f75b-164">Review the Database section of this document.</span></span>
2. <span data-ttu-id="3f75b-165">Creare backup temporizzati usando il comando per la copia del database.</span><span class="sxs-lookup"><span data-stu-id="3f75b-165">Create point-in-time backups by using the Database Copy command.</span></span>

## <a name="sql-server-on-virtual-machines-backup-checklist"></a><span data-ttu-id="3f75b-166">Elenco di controllo per il backup di SQL Server nelle macchine virtuali</span><span class="sxs-lookup"><span data-stu-id="3f75b-166">SQL Server on Virtual Machines Backup checklist</span></span>
1. <span data-ttu-id="3f75b-167">Vedere la sezione Backup di SQL Server nelle macchine virtuali di questo documento.</span><span class="sxs-lookup"><span data-stu-id="3f75b-167">Review the SQL Server on Virtual Machines Backup section of this document.</span></span>
2. <span data-ttu-id="3f75b-168">Usare le tecniche tradizionali di backup e ripristino.</span><span class="sxs-lookup"><span data-stu-id="3f75b-168">Use traditional backup and restore techniques.</span></span>
3. <span data-ttu-id="3f75b-169">Creare una sessione di log shipping ritardata.</span><span class="sxs-lookup"><span data-stu-id="3f75b-169">Create a delayed log shipping session.</span></span>

## <a name="web-apps-checklist"></a><span data-ttu-id="3f75b-170">Elenco di controllo per app Web</span><span class="sxs-lookup"><span data-stu-id="3f75b-170">Web Apps checklist</span></span>
1. <span data-ttu-id="3f75b-171">Eseguire il backup e gestire l'eventuale database associato.</span><span class="sxs-lookup"><span data-stu-id="3f75b-171">Back up and maintain the associated database, if any.</span></span>

## <a name="media-services-checklist"></a><span data-ttu-id="3f75b-172">Elenco di controllo per Servizi multimediali</span><span class="sxs-lookup"><span data-stu-id="3f75b-172">Media Services checklist</span></span>
1. <span data-ttu-id="3f75b-173">Eseguire il backup e gestire le risorse di archiviazione associate.</span><span class="sxs-lookup"><span data-stu-id="3f75b-173">Back up and maintain the associated storage resources.</span></span>

## <a name="more-information"></a><span data-ttu-id="3f75b-174">Altre informazioni</span><span class="sxs-lookup"><span data-stu-id="3f75b-174">More information</span></span>
<span data-ttu-id="3f75b-175">Per altre informazioni sulle funzionalità di backup e ripristino di Azure, vedere [Scenari di archiviazione, backup e ripristino](https://azure.microsoft.com/documentation/scenarios/storage-backup-recovery/).</span><span class="sxs-lookup"><span data-stu-id="3f75b-175">For more information about backup and restore features in Azure, see [Storage, backup and recovery scenarios](https://azure.microsoft.com/documentation/scenarios/storage-backup-recovery/).</span></span>


