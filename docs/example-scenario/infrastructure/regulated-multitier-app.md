---
title: Applicazione Web Windows sicura per i settori regolamentati
description: Scenario collaudato per la creazione di un'applicazione Web multilivello sicura con Windows Server in Azure che usa set di scalabilità, gateway applicazione e servizi di bilanciamento del carico.
author: iainfoulds
ms.date: 07/11/2018
ms.openlocfilehash: 3572f215d9134a6650d76e1b14458226334c6f42
ms.sourcegitcommit: c49aeef818d7dfe271bc4128b230cfc676f05230
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 09/11/2018
ms.locfileid: "44389285"
---
# <a name="secure-windows-web-application-for-regulated-industries"></a><span data-ttu-id="da4bd-103">Applicazione Web Windows sicura per i settori regolamentati</span><span class="sxs-lookup"><span data-stu-id="da4bd-103">Secure Windows web application for regulated industries</span></span>

<span data-ttu-id="da4bd-104">Questo scenario di esempio è applicabile ai settori regolamentati che devono proteggere le applicazioni multilivello.</span><span class="sxs-lookup"><span data-stu-id="da4bd-104">This sample scenario is applicable to regulated industries that have a need to secure multi-tier applications.</span></span> <span data-ttu-id="da4bd-105">In questo scenario, un'applicazione ASP.NET front-end si connette in modo sicuro a un cluster Microsoft SQL Server di back-end protetto.</span><span class="sxs-lookup"><span data-stu-id="da4bd-105">In this scenario, a front-end ASP.NET application securely connects to a protected back-end Microsoft SQL Server cluster.</span></span>

<span data-ttu-id="da4bd-106">Esempi di scenari di applicazioni includono esecuzione di applicazioni per la sala operatoria, gestione di appuntamenti e cartelle cliniche dei pazienti oppure rinnovo di prescrizioni e ordini di farmaci.</span><span class="sxs-lookup"><span data-stu-id="da4bd-106">Example application scenarios include running operating room applications, patient appointments and records keeping, or prescription refills and ordering.</span></span> <span data-ttu-id="da4bd-107">In passato, le organizzazioni dovevano gestire applicazioni e servizi legacy locali per questi scenari.</span><span class="sxs-lookup"><span data-stu-id="da4bd-107">Traditionally, organizations had to maintain legacy on-premises applications and services for these scenarios.</span></span> <span data-ttu-id="da4bd-108">Con una modalità sicura e scalabile per distribuire queste applicazioni Windows Server in Azure, le organizzazioni possono modernizzare le proprie distribuzioni e ridurre i costi operativi e le spese di gestione locali.</span><span class="sxs-lookup"><span data-stu-id="da4bd-108">With a secure way and scalable way to deploy these Windows Server applications in Azure, organizations can modernize their deployments are reduce their on-premises operating costs and management overhead.</span></span>

## <a name="related-use-cases"></a><span data-ttu-id="da4bd-109">Casi d'uso correlati</span><span class="sxs-lookup"><span data-stu-id="da4bd-109">Related use cases</span></span>

<span data-ttu-id="da4bd-110">Prendere in considerazione questo scenario per i casi d'uso seguenti:</span><span class="sxs-lookup"><span data-stu-id="da4bd-110">Consider this scenario for the following use cases:</span></span>

* <span data-ttu-id="da4bd-111">Modernizzazione delle distribuzioni di applicazioni in un ambiente cloud sicuro.</span><span class="sxs-lookup"><span data-stu-id="da4bd-111">Modernizing application deployments in a secure cloud environment.</span></span>
* <span data-ttu-id="da4bd-112">Minore gestione di applicazioni e servizi legacy locali.</span><span class="sxs-lookup"><span data-stu-id="da4bd-112">Reducing legacy on-premises application and service management.</span></span>
* <span data-ttu-id="da4bd-113">Miglioramento dell'assistenza e dell'esperienza dei pazienti con nuove piattaforme applicative.</span><span class="sxs-lookup"><span data-stu-id="da4bd-113">Improving patient healthcare and experience with new application platforms.</span></span>

## <a name="architecture"></a><span data-ttu-id="da4bd-114">Architettura</span><span class="sxs-lookup"><span data-stu-id="da4bd-114">Architecture</span></span>

![Panoramica dell'architettura dei componenti di Azure usati nell'applicazione Windows Server multilivello per i settori regolamentati][architecture]

<span data-ttu-id="da4bd-116">Questo scenario descrive un'applicazione multilivello per settori regolamentati che usa ASP.NET e Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="da4bd-116">This scenario covers a multi-tier regulated industries application that uses ASP.NET and Microsoft SQL Server.</span></span> <span data-ttu-id="da4bd-117">Il flusso dei dati nello scenario avviene come segue:</span><span class="sxs-lookup"><span data-stu-id="da4bd-117">The data flows through the scenario as follows:</span></span>

1. <span data-ttu-id="da4bd-118">Gli utenti accedono all'applicazione front-end ASP.NET del settore regolamentato tramite un gateway applicazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="da4bd-118">Users access the frontend ASP.NET regulated industries application through an Azure Application Gateway.</span></span>
2. <span data-ttu-id="da4bd-119">Il gateway applicazione distribuisce il traffico alle istanze di macchina virtuale all'interno di un set di scalabilità di macchine virtuali di Azure.</span><span class="sxs-lookup"><span data-stu-id="da4bd-119">The Application Gateway distributes traffic to VM instances within an Azure virtual machine scale set.</span></span>
3. <span data-ttu-id="da4bd-120">L'applicazione ASP.NET si connette al cluster Microsoft SQL Server in un livello back-end tramite un servizio di bilanciamento del carico di Azure.</span><span class="sxs-lookup"><span data-stu-id="da4bd-120">The ASP.NET application connects to Microsoft SQL Server cluster in a backend tier via an Azure load balancer.</span></span> <span data-ttu-id="da4bd-121">Queste istanze di SQL Server di back-end si trovano in una rete virtuale di Azure separata, protetta da regole dei gruppi di sicurezza di rete che limitano il flusso di traffico.</span><span class="sxs-lookup"><span data-stu-id="da4bd-121">These backend SQL Server instances are in a separate Azure virtual network, secured by network security group rules that limit traffic flow.</span></span>
4. <span data-ttu-id="da4bd-122">Il servizio di bilanciamento del carico distribuisce il traffico di SQL Server alle istanze di macchina virtuale in un altro set di scalabilità di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="da4bd-122">The load balancer distributes SQL Server traffic to VM instances in another virtual machine scale set.</span></span>
5. <span data-ttu-id="da4bd-123">Archiviazione BLOB di Azure funge da cloud di controllo per il cluster SQL Server nel livello back-end.</span><span class="sxs-lookup"><span data-stu-id="da4bd-123">Azure Blob Storage acts as a Cloud Witness for the SQL Server cluster in the backend tier.</span></span>  <span data-ttu-id="da4bd-124">La connessione dall'interno della rete virtuale è abilitata con un endpoint di servizio di rete virtuale per Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="da4bd-124">The connection from within the VNet is enabled with a VNet Service Endpoint for Azure Storage.</span></span>

### <a name="components"></a><span data-ttu-id="da4bd-125">Componenti</span><span class="sxs-lookup"><span data-stu-id="da4bd-125">Components</span></span>

* <span data-ttu-id="da4bd-126">Il [gateway applicazione di Azure][appgateway-docs] è un servizio di bilanciamento del carico del traffico Web di livello 7, con riconoscimento delle applicazioni e in grado di distribuire il traffico in base a regole di routing specifiche.</span><span class="sxs-lookup"><span data-stu-id="da4bd-126">[Azure Application Gateway][appgateway-docs] is a layer 7 web traffic load balancer that is application-aware and can distribute traffic based on specific routing rules.</span></span> <span data-ttu-id="da4bd-127">Il gateway applicazione può anche gestire l'offload SSL per migliorare le prestazioni del server Web.</span><span class="sxs-lookup"><span data-stu-id="da4bd-127">App Gateway can also handle SSL offloading for improved web server performance.</span></span>
* <span data-ttu-id="da4bd-128">La [rete virtuale di Azure][vnet-docs] consente a risorse quali le macchine virtuali di comunicare in modo sicuro tra loro, con Internet e con le reti locali.</span><span class="sxs-lookup"><span data-stu-id="da4bd-128">[Azure Virtual Network][vnet-docs] allows resources such as VMs to securely communicate with each other, the Internet, and on-premises networks.</span></span> <span data-ttu-id="da4bd-129">Le reti virtuali forniscono isolamento e segmentazione, filtrano e instradano il traffico e consentono la connessione tra posizioni.</span><span class="sxs-lookup"><span data-stu-id="da4bd-129">Virtual networks provide isolation and segmentation, filter and route traffic, and allow connection between locations.</span></span> <span data-ttu-id="da4bd-130">Questo scenario usa due reti virtuali combinate con i gruppi di sicurezza di rete appropriati per fornire una [rete perimetrale][dmz] e l'isolamento dei componenti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="da4bd-130">Two virtual networks combined with the appropriate NSGs are used in this scenario to provide a [demilitarized zone][dmz] (DMZ) and isolation of the application components.</span></span> <span data-ttu-id="da4bd-131">Il peering di rete virtuale collega le due reti.</span><span class="sxs-lookup"><span data-stu-id="da4bd-131">Virtual network peering connects the two networks together.</span></span>
* <span data-ttu-id="da4bd-132">I [set di scalabilità di macchine virtuali di Azure][scaleset-docs] consentono di creare e gestire un gruppo di macchine virtuali con bilanciamento del carico identiche.</span><span class="sxs-lookup"><span data-stu-id="da4bd-132">[Azure virtual machine scale set][scaleset-docs] lets you create and manager a group of identical, load balanced, VMs.</span></span> <span data-ttu-id="da4bd-133">Il numero di istanze di macchine virtuali può aumentare o diminuire automaticamente in risposta alla domanda o a una pianificazione definita.</span><span class="sxs-lookup"><span data-stu-id="da4bd-133">The number of VM instances can automatically increase or decrease in response to demand or a defined schedule.</span></span> <span data-ttu-id="da4bd-134">Questo scenario usa due set di scalabilità di macchine virtuali separati, uno per le istanze dell'applicazione ASP.NET di front-end e uno per le istanze di macchina virtuale del cluster SQL Server di back-end.</span><span class="sxs-lookup"><span data-stu-id="da4bd-134">Two separate virtual machine scale sets are used in this scenario - one for the frontend ASP.NET application instances, and one for the backend SQL Server cluster VM instances.</span></span> <span data-ttu-id="da4bd-135">È possibile usare la configurazione dello stato desiderato di PowerShell o l'estensione di script personalizzati di Azure per fornire alle istanze di macchina virtuale il software e le impostazioni di configurazione necessari.</span><span class="sxs-lookup"><span data-stu-id="da4bd-135">PowerShell desired state configuration (DSC) or the Azure custom script extension can be used to provision the VM instances with the required software and configuration settings.</span></span>
* <span data-ttu-id="da4bd-136">I [gruppi di sicurezza di rete][nsg-docs] contengono un elenco di regole di sicurezza che consentono o impediscono il traffico di rete in ingresso o in uscita in base all'indirizzo IP di origine o di destinazione, alla porta e al protocollo.</span><span class="sxs-lookup"><span data-stu-id="da4bd-136">[Azure network security groups][nsg-docs] contain a list of security rules that allow or deny inbound or outbound network traffic based on source or destination IP address, port, and protocol.</span></span> <span data-ttu-id="da4bd-137">Le reti virtuali in questo scenario sono protette da regole dei gruppi di sicurezza di rete che limitano il flusso del traffico tra i componenti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="da4bd-137">The virtual networks in this scenario are secured with network security group rules that restrict the flow of traffic between the application components.</span></span>
* <span data-ttu-id="da4bd-138">[Azure Load Balancer][loadbalancer-docs] distribuisce il traffico in ingresso in base a regole e probe di integrità.</span><span class="sxs-lookup"><span data-stu-id="da4bd-138">[Azure load balancer][loadbalancer-docs] distributes inbound traffic according to rules and health probes.</span></span> <span data-ttu-id="da4bd-139">Un servizio di bilanciamento del carico offre bassa latenza e velocità effettiva elevata, oltre a una scalabilità fino a milioni di flussi per tutte le applicazioni TCP e UDP.</span><span class="sxs-lookup"><span data-stu-id="da4bd-139">A load balancer provides low latency and high throughput, and scales up to millions of flows for all TCP and UDP applications.</span></span> <span data-ttu-id="da4bd-140">Questo scenario usa un servizio di bilanciamento del carico interno per distribuire il traffico dal livello dell'applicazione front-end al cluster SQL Server di back-end.</span><span class="sxs-lookup"><span data-stu-id="da4bd-140">An internal load balancer is used in this scenario to distribute traffic from the frontend application tier to the backend SQL Server cluster.</span></span>
* <span data-ttu-id="da4bd-141">[Archiviazione BLOB di Azure][cloudwitness-docs] funge da posizione di cloud di controllo per il cluster SQL Server.</span><span class="sxs-lookup"><span data-stu-id="da4bd-141">[Azure Blob Storage][cloudwitness-docs] acts a Cloud Witness location for the SQL Server cluster.</span></span> <span data-ttu-id="da4bd-142">Questo controllo viene usato per operazioni e decisioni di cluster che richiedono un voto aggiuntivo per stabilire il quorum.</span><span class="sxs-lookup"><span data-stu-id="da4bd-142">This witness is used for cluster operations and decisions that require an additional vote to decide quorum.</span></span> <span data-ttu-id="da4bd-143">L'uso del cloud di controllo elimina la necessità di una VM aggiuntiva che funga da controllo di condivisione file tradizionale.</span><span class="sxs-lookup"><span data-stu-id="da4bd-143">Using Cloud Witness removes the need for an additional VM to act as a traditional File Share Witness.</span></span>

### <a name="alternatives"></a><span data-ttu-id="da4bd-144">Alternative</span><span class="sxs-lookup"><span data-stu-id="da4bd-144">Alternatives</span></span>

* <span data-ttu-id="da4bd-145">\*Unix e Windows possono essere sostituiti facilmente con una serie di altri sistemi operativi, perché l'infrastruttura non dipende dai sistemi operativi.</span><span class="sxs-lookup"><span data-stu-id="da4bd-145">\*nix, windows can easily be replaced by a variety of other operating systems as nothing in the infrastructure depends on the operating system.</span></span>

* <span data-ttu-id="da4bd-146">[SQL Server per Linux][sql-linux] può sostituire l'archivio dati di back-end.</span><span class="sxs-lookup"><span data-stu-id="da4bd-146">[SQL Server for Linux][sql-linux] can replace the backend data store.</span></span>

* <span data-ttu-id="da4bd-147">[Cosmos DB][cosmos] rappresenta un'altra alternativa per l'archivio dati.</span><span class="sxs-lookup"><span data-stu-id="da4bd-147">[Cosmos DB][cosmos] is another alternative for the data store.</span></span>

## <a name="considerations"></a><span data-ttu-id="da4bd-148">Considerazioni</span><span class="sxs-lookup"><span data-stu-id="da4bd-148">Considerations</span></span>

### <a name="availability"></a><span data-ttu-id="da4bd-149">Disponibilità</span><span class="sxs-lookup"><span data-stu-id="da4bd-149">Availability</span></span>

<span data-ttu-id="da4bd-150">Le istanze di macchina virtuale in questo scenario vengono distribuite tra zone di disponibilità.</span><span class="sxs-lookup"><span data-stu-id="da4bd-150">The VM instances in this scenario are deployed across Availability Zones.</span></span> <span data-ttu-id="da4bd-151">Ogni zona è costituita da uno o più data center dotati di impianti indipendenti per l'alimentazione, il raffreddamento e la connettività di rete.</span><span class="sxs-lookup"><span data-stu-id="da4bd-151">Each zone is made up of one or more datacenters equipped with independent power, cooling, and networking.</span></span> <span data-ttu-id="da4bd-152">Sono disponibili almeno tre zone in tutte le aree abilitate.</span><span class="sxs-lookup"><span data-stu-id="da4bd-152">A minimum of three zones are available in all enabled regions.</span></span> <span data-ttu-id="da4bd-153">Questa distribuzione di istanze di macchina virtuale tra zone garantisce la disponibilità elevata ai livelli dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="da4bd-153">This distribution of VM instances across zones provides high availability to the application tiers.</span></span> <span data-ttu-id="da4bd-154">Per altre informazioni, vedere [Informazioni sulle zone di disponibilità di Azure][azureaz-docs]</span><span class="sxs-lookup"><span data-stu-id="da4bd-154">For more information, see [what are Availability Zones in Azure?][azureaz-docs]</span></span>

<span data-ttu-id="da4bd-155">Il livello di database può essere configurato per l'uso dei gruppi di disponibilità AlwaysOn.</span><span class="sxs-lookup"><span data-stu-id="da4bd-155">The database tier can be configured to use Always On availability groups.</span></span> <span data-ttu-id="da4bd-156">Con questa configurazione di SQL Server, un database primario in un cluster viene configurato con un massimo di otto database secondari.</span><span class="sxs-lookup"><span data-stu-id="da4bd-156">With this SQL Server configuration, one primary database within a cluster is configured with up to eight secondary databases.</span></span> <span data-ttu-id="da4bd-157">Se si verifica un problema con il database primario, il cluster esegue il failover a uno dei database secondari e l'applicazione continua a essere disponibile.</span><span class="sxs-lookup"><span data-stu-id="da4bd-157">If an issue occurs with the primary database, the cluster fails over to one of the secondary databases, which allows the application to continue to be available.</span></span> <span data-ttu-id="da4bd-158">Per altre informazioni, vedere [Panoramica di Gruppi di disponibilità AlwaysOn (SQL Server)][sqlalwayson-docs].</span><span class="sxs-lookup"><span data-stu-id="da4bd-158">For more information, see [Overview of Always On availability groups for SQL Server][sqlalwayson-docs].</span></span>

<span data-ttu-id="da4bd-159">Per altri argomenti relativi alla disponibilità, vedere l'[elenco di controllo per la disponibilità][availability] in Centro architetture Azure.</span><span class="sxs-lookup"><span data-stu-id="da4bd-159">For other availability topics, see the [availability checklist][availability] in the Azure Architecture Center.</span></span>

### <a name="scalability"></a><span data-ttu-id="da4bd-160">Scalabilità</span><span class="sxs-lookup"><span data-stu-id="da4bd-160">Scalability</span></span>

<span data-ttu-id="da4bd-161">Questo scenario usa i set di scalabilità di macchine virtuali per i componenti front-end e back-end.</span><span class="sxs-lookup"><span data-stu-id="da4bd-161">This scenario uses virtual machine scale sets for the frontend and backend components.</span></span> <span data-ttu-id="da4bd-162">Con i set di scalabilità, il numero di istanze di macchina virtuale che eseguono il livello dell'applicazione front-end può essere ridimensionato automaticamente in base alle richieste dei clienti o a una pianificazione definita.</span><span class="sxs-lookup"><span data-stu-id="da4bd-162">With scale sets, the number of VM instances that run the frontend application tier can automatically scale in response to customer demand, or based on a defined schedule.</span></span> <span data-ttu-id="da4bd-163">Per altre informazioni, vedere [Panoramica della scalabilità automatica con i set di scalabilità di macchine virtuali di Azure][vmssautoscale-docs].</span><span class="sxs-lookup"><span data-stu-id="da4bd-163">For more information, see [Overview of autoscale with virtual machine scale sets][vmssautoscale-docs].</span></span>

<span data-ttu-id="da4bd-164">Per altri argomenti relativi alla scalabilità, vedere l'[elenco di controllo per la scalabilità][scalability] in Centro architetture Azure.</span><span class="sxs-lookup"><span data-stu-id="da4bd-164">For other scalability topics, see the [scalability checklist][scalability] in the Azure Architecture Center.</span></span>

### <a name="security"></a><span data-ttu-id="da4bd-165">Sicurezza</span><span class="sxs-lookup"><span data-stu-id="da4bd-165">Security</span></span>

<span data-ttu-id="da4bd-166">Tutto il traffico di rete virtuale nel livello dell'applicazione front-end è protetto da gruppi di sicurezza di rete.</span><span class="sxs-lookup"><span data-stu-id="da4bd-166">All the virtual network traffic into the frontend application tier and protected by network security groups.</span></span> <span data-ttu-id="da4bd-167">Le regole limitano il flusso del traffico in modo che solo le istanze di macchina virtuale a livello di applicazione front-end possano accedere al livello di database di backend.</span><span class="sxs-lookup"><span data-stu-id="da4bd-167">Rules limit the flow of traffic so that only the frontend application tier VM instances can access the backend database tier.</span></span> <span data-ttu-id="da4bd-168">Non è consentito il traffico Internet in uscita dal livello di database.</span><span class="sxs-lookup"><span data-stu-id="da4bd-168">No outbound Internet traffic is allowed from the database tier.</span></span> <span data-ttu-id="da4bd-169">Per ridurre la superficie di attacco, non sono aperte porte di gestione remota diretta.</span><span class="sxs-lookup"><span data-stu-id="da4bd-169">To reduce the attack footprint, no direct remote management ports are open.</span></span> <span data-ttu-id="da4bd-170">Per altre informazioni, vedere [Gruppi di sicurezza di rete di Azure][nsg-docs].</span><span class="sxs-lookup"><span data-stu-id="da4bd-170">For more information, see [Azure network security groups][nsg-docs].</span></span>

<span data-ttu-id="da4bd-171">Per istruzioni sulla distribuzione di PCI DSS (Payment Card Industry Data Security Standards) 3.2, vedere l'[infrastruttura conforme][pci-dss].</span><span class="sxs-lookup"><span data-stu-id="da4bd-171">To view guidance on deploying Payment Card Industry Data Security Standards (PCI DSS 3.2) [compliant infrastructure][pci-dss].</span></span> <span data-ttu-id="da4bd-172">Per indicazioni generali sulla progettazione di scenari sicuri, vedere la [documentazione sulla sicurezza di Azure][security].</span><span class="sxs-lookup"><span data-stu-id="da4bd-172">For general guidance on designing secure scenarios, see the [Azure Security Documentation][security].</span></span>

### <a name="resiliency"></a><span data-ttu-id="da4bd-173">Resilienza</span><span class="sxs-lookup"><span data-stu-id="da4bd-173">Resiliency</span></span>

<span data-ttu-id="da4bd-174">Insieme alle zone di disponibilità e ai set di scalabilità di macchine virtuali, questo scenario usa il gateway applicazione di Azure e Azure Load Balancer.</span><span class="sxs-lookup"><span data-stu-id="da4bd-174">In combination with the use of Availability Zones and virtual machine scale sets, this scenario uses Azure Application Gateway and load balancer.</span></span> <span data-ttu-id="da4bd-175">Questi due componenti di rete distribuiscono il traffico alle istanze di macchina virtuale connesse e includono probe di integrità che garantiscono che il traffico venga distribuito solo alle macchine virtuali integre.</span><span class="sxs-lookup"><span data-stu-id="da4bd-175">These two networking components distribute traffic to the connected VM instances, and include health probes that ensure traffic is only distributed to healthy VMs.</span></span> <span data-ttu-id="da4bd-176">Due istanze del gateway applicazione hanno una configurazione attiva-passiva e viene usato un servizio di bilanciamento del carico con ridondanza della zona.</span><span class="sxs-lookup"><span data-stu-id="da4bd-176">Two Application Gateway instances are configured in an active-passive configuration, and a zone-redundant load balancer is used.</span></span> <span data-ttu-id="da4bd-177">Questa configurazione rende le risorse di rete e le applicazioni resilienti rispetto a problemi che potrebbero altrimenti interrompere il traffico e compromettere l'accesso degli utenti finali.</span><span class="sxs-lookup"><span data-stu-id="da4bd-177">This configuration makes the networking resources and application resilient to issues that would otherwise disrupt traffic and impact end-user access.</span></span>

<span data-ttu-id="da4bd-178">Per indicazioni generali sulla progettazione di scenari resilienti, vedere [Progettazione di applicazioni resilienti per Azure][resiliency].</span><span class="sxs-lookup"><span data-stu-id="da4bd-178">For general guidance on designing resilient scenarios, see [Designing resilient applications for Azure][resiliency].</span></span>

## <a name="deploy-the-scenario"></a><span data-ttu-id="da4bd-179">Distribuire lo scenario</span><span class="sxs-lookup"><span data-stu-id="da4bd-179">Deploy the scenario</span></span>

<span data-ttu-id="da4bd-180">**Prerequisiti**</span><span class="sxs-lookup"><span data-stu-id="da4bd-180">**Prerequisites.**</span></span>

* <span data-ttu-id="da4bd-181">È necessario un account Azure esistente.</span><span class="sxs-lookup"><span data-stu-id="da4bd-181">You must have an existing Azure account.</span></span> <span data-ttu-id="da4bd-182">Se non si ha una sottoscrizione di Azure, creare un [account gratuito](https://azure.microsoft.com/free/?WT.mc_id=A261C142F) prima di iniziare.</span><span class="sxs-lookup"><span data-stu-id="da4bd-182">If you don't have an Azure subscription, create a [free account](https://azure.microsoft.com/free/?WT.mc_id=A261C142F) before you begin.</span></span>
* <span data-ttu-id="da4bd-183">Per distribuire un cluster SQL Server nel set di scalabilità di back-end, è necessario un dominio di Azure Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="da4bd-183">To deploy a SQL Server cluster into the backend scale set, you would need a domain in Azure Active Directory (AD) Domain Services.</span></span>

<span data-ttu-id="da4bd-184">Per distribuire l'infrastruttura di base per questo scenario con un modello di Azure Resource Manager, seguire questa procedura.</span><span class="sxs-lookup"><span data-stu-id="da4bd-184">To deploy the core infrastructure for this scenario with an Azure Resource Manager template, perform the following steps.</span></span>

1. <span data-ttu-id="da4bd-185">Selezionare il pulsante **Distribuisci in Azure**:</span><span class="sxs-lookup"><span data-stu-id="da4bd-185">Select the **Deploy to Azure** button:</span></span><br><a href="https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Fmspnp%2Fsolution-architectures%2Fmaster%2Finfrastructure%2Fregulated-multitier-app%2Fazuredeploy.json" target="_blank"><img src="http://azuredeploy.net/deploybutton.png"/></a>
2. <span data-ttu-id="da4bd-186">Attendere l'apertura della distribuzione del modello nel portale di Azure e quindi completare la procedura seguente:</span><span class="sxs-lookup"><span data-stu-id="da4bd-186">Wait for the template deployment to open in the Azure portal, then complete the following steps:</span></span>
   * <span data-ttu-id="da4bd-187">Scegliere **Crea nuovo** per creare un nuovo gruppo di risorse e quindi specificare un nome nella casella di testo, ad esempio *myWindowsscenario*.</span><span class="sxs-lookup"><span data-stu-id="da4bd-187">Choose to **Create new** resource group, then provide a name such as *myWindowsscenario* in the text box.</span></span>
   * <span data-ttu-id="da4bd-188">Selezionare un'area nella casella a discesa **Località**.</span><span class="sxs-lookup"><span data-stu-id="da4bd-188">Select a region from the **Location** drop-down box.</span></span>
   * <span data-ttu-id="da4bd-189">Specificare un nome utente e una password sicura per le istanze di set di scalabilità di macchine virtuali.</span><span class="sxs-lookup"><span data-stu-id="da4bd-189">Provide a username and secure password for the virtual machine scale set instances.</span></span>
   * <span data-ttu-id="da4bd-190">Esaminare le condizioni e quindi selezionare **Accetto le condizioni riportate sopra**.</span><span class="sxs-lookup"><span data-stu-id="da4bd-190">Review the terms and conditions, then check **I agree to the terms and conditions stated above**.</span></span>
   * <span data-ttu-id="da4bd-191">Selezionare il pulsante **Acquista**.</span><span class="sxs-lookup"><span data-stu-id="da4bd-191">Select the **Purchase** button.</span></span>

<span data-ttu-id="da4bd-192">Il completamento della distribuzione può richiedere 15-20 minuti.</span><span class="sxs-lookup"><span data-stu-id="da4bd-192">It can take 15-20 minutes for the deployment to complete.</span></span>

## <a name="pricing"></a><span data-ttu-id="da4bd-193">Prezzi</span><span class="sxs-lookup"><span data-stu-id="da4bd-193">Pricing</span></span>

<span data-ttu-id="da4bd-194">Per esaminare il costo di esecuzione dello scenario, nel calcolatore dei costi sono preconfigurati tutti i servizi.</span><span class="sxs-lookup"><span data-stu-id="da4bd-194">To explore the cost of running this scenario, all of the services are pre-configured in the cost calculator.</span></span>  <span data-ttu-id="da4bd-195">Per verificare la variazione dei prezzi per un determinato caso d'uso, modificare le variabili appropriate in base</span><span class="sxs-lookup"><span data-stu-id="da4bd-195">To see how the pricing would change for your particular use case, change the appropriate variables to match your expected traffic.</span></span>

<span data-ttu-id="da4bd-196">Sono disponibili tre profili di costo di esempio, basati sul numero di istanze di macchina virtuale del set di scalabilità che eseguono le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="da4bd-196">We have provided three sample cost profiles based on the number of scale set VM instances that run your applications.</span></span>

* <span data-ttu-id="da4bd-197">[Small][small-pricing]: in questo esempio di prezzi vengono correlate due istanze di macchina virtuale front-end e due istanze di macchina virtuale back-end.</span><span class="sxs-lookup"><span data-stu-id="da4bd-197">[Small][small-pricing]: this pricing example correlates to two frontend and two backend VM instances.</span></span>
* <span data-ttu-id="da4bd-198">[Medium][medium-pricing]: in questo esempio di prezzi vengono correlate 20 istanze di macchina virtuale front-end e 5 istanze di macchina virtuale back-end.</span><span class="sxs-lookup"><span data-stu-id="da4bd-198">[Medium][medium-pricing]: this pricing example correlates to 20 frontend and 5 backend VM instances.</span></span>
* <span data-ttu-id="da4bd-199">[Large][large-pricing]: in questo esempio di prezzi vengono correlate 100 istanze di macchina virtuale front-end e 10 istanze di macchina virtuale back-end.</span><span class="sxs-lookup"><span data-stu-id="da4bd-199">[Large][large-pricing]: this pricing example correlates to 100 frontend and 10 backend VM instances.</span></span>

## <a name="related-resources"></a><span data-ttu-id="da4bd-200">Risorse correlate</span><span class="sxs-lookup"><span data-stu-id="da4bd-200">Related Resources</span></span>

<span data-ttu-id="da4bd-201">In questo scenario viene usato un set di scalabilità di macchine virtuali back-end che esegue un cluster Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="da4bd-201">This scenario used a backend virtual machine scale set that runs a Microsoft SQL Server cluster.</span></span> <span data-ttu-id="da4bd-202">Azure Cosmos DB può anche essere usato come livello di database scalabile e sicuro per i dati dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="da4bd-202">Azure Cosmos DB could also be used as a scalable and secure database tier for the application data.</span></span> <span data-ttu-id="da4bd-203">Un [endpoint del servizio di rete virtuale][vnetendpoint-docs] consente di associare le risorse critiche dei servizi di Azure solo alle proprie reti virtuali.</span><span class="sxs-lookup"><span data-stu-id="da4bd-203">An [Azure virtual network service endpoint][vnetendpoint-docs] allows you to secure your critical Azure service resources to only your virtual networks.</span></span> <span data-ttu-id="da4bd-204">In questo scenario, gli endpoint della rete virtuale consentono di proteggere il traffico tra il livello dell'applicazione front-end e Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="da4bd-204">In this scenario, VNet endpoints allow you to secure traffic between the frontend application tier and Cosmos DB.</span></span> <span data-ttu-id="da4bd-205">Per altre informazioni su Cosmos DB, vedere [Panoramica di Azure Cosmos DB][azurecosmosdb-docs].</span><span class="sxs-lookup"><span data-stu-id="da4bd-205">For more information on Cosmos DB, see [Azure Cosmos DB overview][azurecosmosdb-docs].</span></span>

<span data-ttu-id="da4bd-206">È anche disponibile l'[architettura di riferimento completa per un'applicazione generica a più livelli con SQL Server][ntiersql-ra].</span><span class="sxs-lookup"><span data-stu-id="da4bd-206">You also view a thorough [reference architecture for a generic N-tier application with SQL Server][ntiersql-ra].</span></span>

<!-- links -->
[appgateway-docs]: /azure/application-gateway/overview
[architecture]: ./media/regulated-multitier-app/architecture-regulated-multitier-app.png
[autoscaling]: /azure/architecture/best-practices/auto-scaling
[availability]: /architecture/checklist/availability
[azureaz-docs]: /azure/availability-zones/az-overview
[azurecosmosdb-docs]: /azure/cosmos-db/introduction
[cloudwitness-docs]: /windows-server/failover-clustering/deploy-cloud-witness
[loadbalancer-docs]: /azure/load-balancer/load-balancer-overview
[nsg-docs]: /azure/virtual-network/security-overview
[ntiersql-ra]: /azure/architecture/reference-architectures/n-tier/n-tier-sql-server
[resiliency]: /azure/architecture/resiliency/ 
[security]: /azure/security/
[scalability]: /azure/architecture/checklist/scalability 
[scaleset-docs]: /azure/virtual-machine-scale-sets/overview
[sqlalwayson-docs]: /sql/database-engine/availability-groups/windows/overview-of-always-on-availability-groups-sql-server
[vmssautoscale-docs]: /azure/virtual-machine-scale-sets/virtual-machine-scale-sets-autoscale-overview
[vnet-docs]: /azure/virtual-network/virtual-networks-overview
[vnetendpoint-docs]: /azure/virtual-network/virtual-network-service-endpoints-overview
[pci-dss]: /azure/security/blueprints/pcidss-iaaswa-overview
[dmz]: /azure/virtual-network/virtual-networks-dmz-nsg
[cosmos]: /azure/cosmos-db/
[sql-linux]: /sql/linux/sql-server-linux-overview?view=sql-server-linux-2017

[small-pricing]: https://azure.com/e/711bbfcbbc884ef8aa91cdf0f2caff72
[medium-pricing]: https://azure.com/e/b622d82d79b34b8398c4bce35477856f
[large-pricing]: https://azure.com/e/1d99d8b92f90496787abecffa1473a93