---
title: Progettare per le modifiche
description: Una progettazione in grado di evolversi è fondamentale per l'innovazione continua.
author: MikeWasson
ms.openlocfilehash: 9873d5c4e19d738a77a222e1f9a878ac5f5d125f
ms.sourcegitcommit: 26b04f138a860979aea5d253ba7fecffc654841e
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 06/19/2018
ms.locfileid: "36206631"
---
# <a name="design-for-evolution"></a><span data-ttu-id="72f06-103">Progettare per l'evoluzione</span><span class="sxs-lookup"><span data-stu-id="72f06-103">Design for evolution</span></span>

## <a name="an-evolutionary-design-is-key-for-continuous-innovation"></a><span data-ttu-id="72f06-104">Una progettazione in grado di evolversi è fondamentale per l'innovazione continua</span><span class="sxs-lookup"><span data-stu-id="72f06-104">An evolutionary design is key for continuous innovation</span></span>

<span data-ttu-id="72f06-105">Tutte le applicazioni di successo cambiano nel tempo, per correggere i bug, aggiungere nuove funzionalità, introdurre nuove tecnologie o rendere più scalabili e resilienti i sistemi esistenti.</span><span class="sxs-lookup"><span data-stu-id="72f06-105">All successful applications change over time, whether to fix bugs, add new features, bring in new technologies, or make existing systems more scalable and resilient.</span></span> <span data-ttu-id="72f06-106">Se tutte le parti di un'applicazione sono strettamente collegate, diventa molto difficile apportare modifiche al sistema.</span><span class="sxs-lookup"><span data-stu-id="72f06-106">If all the parts of an application are tightly coupled, it becomes very hard to introduce changes into the system.</span></span> <span data-ttu-id="72f06-107">Una modifica in una parte dell'applicazione potrebbe interrompere il funzionamento di un'altra parte oppure comportare la propagazione delle modifiche nell'intera base di codice.</span><span class="sxs-lookup"><span data-stu-id="72f06-107">A change in one part of the application may break another part, or cause changes to ripple through the entire codebase.</span></span>

<span data-ttu-id="72f06-108">Il problema non è limitato alle applicazioni monolitiche.</span><span class="sxs-lookup"><span data-stu-id="72f06-108">This problem is not limited to monolithic applications.</span></span> <span data-ttu-id="72f06-109">Un'applicazione può essere costituita da più servizi, ma presentare comunque stretti collegamenti che rendono il sistema rigido e vulnerabile.</span><span class="sxs-lookup"><span data-stu-id="72f06-109">An application can be decomposed into services, but still exhibit the sort of tight coupling that leaves the system rigid and brittle.</span></span> <span data-ttu-id="72f06-110">Quando invece i servizi sono progettati per evolversi, i team possono innovare e distribuire continuamente nuove funzionalità.</span><span class="sxs-lookup"><span data-stu-id="72f06-110">But when services are designed to evolve, teams can innovate and continuously deliver new features.</span></span> 

<span data-ttu-id="72f06-111">I microservizi stanno diventando un modo comune per ottenere una progettazione in grado di evolversi, perché soddisfano molti dei requisiti illustrati in questo argomento.</span><span class="sxs-lookup"><span data-stu-id="72f06-111">Microservices are becoming a popular way to achieve an evolutonary design, because they address many of the considerations listed here.</span></span>

## <a name="recommendations"></a><span data-ttu-id="72f06-112">Raccomandazioni</span><span class="sxs-lookup"><span data-stu-id="72f06-112">Recommendations</span></span>

<span data-ttu-id="72f06-113">**Applicare coesione elevata e regime di controllo libero**.</span><span class="sxs-lookup"><span data-stu-id="72f06-113">**Enforce high cohesion and loose coupling**.</span></span> <span data-ttu-id="72f06-114">Un servizio è *coesivo* se fornisce funzionalità correlate logicamente.</span><span class="sxs-lookup"><span data-stu-id="72f06-114">A service is *cohesive* if it provides functionality that logically belongs together.</span></span> <span data-ttu-id="72f06-115">I servizi sono *a regime di controllo libero* se è possibile modificare un servizio senza modificare l'altro.</span><span class="sxs-lookup"><span data-stu-id="72f06-115">Services are *loosely coupled* if you can change one service without changing the other.</span></span> <span data-ttu-id="72f06-116">La coesione elevata significa in genere che le modifiche in una funzione richiederanno modifiche in altre funzioni correlate.</span><span class="sxs-lookup"><span data-stu-id="72f06-116">High cohesion generally means that changes in one function will require changes in other related functions.</span></span> <span data-ttu-id="72f06-117">Se quando si aggiorna un servizio sono necessari aggiornamenti coordinati ad altri servizi, i servizi potrebbero non essere coesivi.</span><span class="sxs-lookup"><span data-stu-id="72f06-117">If you find that updating a service requires coordinated updates to other services, it may be a sign that your services are not cohesive.</span></span> <span data-ttu-id="72f06-118">Uno degli obiettivi della progettazione basata su dominio è quello di identificare tali confini.</span><span class="sxs-lookup"><span data-stu-id="72f06-118">One of the goals of domain-driven design (DDD) is to identify those boundaries.</span></span>

<span data-ttu-id="72f06-119">**Incapsulare le informazioni di dominio**.</span><span class="sxs-lookup"><span data-stu-id="72f06-119">**Encapsulate domain knowledge**.</span></span> <span data-ttu-id="72f06-120">Quando un client utilizza un servizio, la responsabilità di applicare le regole business del dominio non deve cadere sul client.</span><span class="sxs-lookup"><span data-stu-id="72f06-120">When a client consumes a service, the responsibility for enforcing the business rules of the domain should not fall on the client.</span></span> <span data-ttu-id="72f06-121">Il servizio deve invece incapsulare tutte le informazioni di dominio che ricadono sotto la sua responsabilità.</span><span class="sxs-lookup"><span data-stu-id="72f06-121">Instead, the service should encapsulate all of the domain knowledge that falls under its responsibility.</span></span> <span data-ttu-id="72f06-122">In caso contrario, ogni client dovrebbe applicare le regole business e le informazioni di dominio si troverebbero sparse in diverse parti dell'applicazione.</span><span class="sxs-lookup"><span data-stu-id="72f06-122">Otherwise, every client has to enforce the business rules, and you end up with domain knowledge spread across different parts of the application.</span></span> 

<span data-ttu-id="72f06-123">**Usare la messaggistica asincrona**.</span><span class="sxs-lookup"><span data-stu-id="72f06-123">**Use asynchronous messaging**.</span></span> <span data-ttu-id="72f06-124">La messaggistica asincrona consente di disaccoppiare il producer del messaggio dal consumer.</span><span class="sxs-lookup"><span data-stu-id="72f06-124">Asynchronous messaging is a way to decouple the message producer from the consumer.</span></span> <span data-ttu-id="72f06-125">Il producer non dipende dal consumer per la risposta al messaggio o per un'azione specifica.</span><span class="sxs-lookup"><span data-stu-id="72f06-125">The producer does not depend on the consumer responding to the message or taking any particular action.</span></span> <span data-ttu-id="72f06-126">Con un'architettura di pubblicazione/sottoscrizione, il producer potrebbe non conoscere chi sta utilizzando il messaggio.</span><span class="sxs-lookup"><span data-stu-id="72f06-126">With a pub/sub architecture, the producer may not even know who is consuming the message.</span></span> <span data-ttu-id="72f06-127">I nuovi servizi possono utilizzare facilmente i messaggi senza apportare alcuna modifica al producer.</span><span class="sxs-lookup"><span data-stu-id="72f06-127">New services can easily consume the messages without any modifications to the producer.</span></span>

<span data-ttu-id="72f06-128">**Non integrare le informazioni di dominio in un gateway**.</span><span class="sxs-lookup"><span data-stu-id="72f06-128">**Don't build domain knowledge into a gateway**.</span></span> <span data-ttu-id="72f06-129">I gateway possono essere utili in un'architettura di microservizi, per operazioni come il routing delle richieste, la conversione del protocollo, il bilanciamento del carico o l'autenticazione.</span><span class="sxs-lookup"><span data-stu-id="72f06-129">Gateways can be useful in a microservices architecture, for things like request routing, protocol translation, load balancing, or authentication.</span></span> <span data-ttu-id="72f06-130">Il gateway deve tuttavia essere usato solo per queste funzionalità dell'infrastruttura.</span><span class="sxs-lookup"><span data-stu-id="72f06-130">However, the gateway should be restricted to this sort of infrastructure functionality.</span></span> <span data-ttu-id="72f06-131">Non deve implementare informazioni di dominio, per evitare di costituire una forte dipendenza.</span><span class="sxs-lookup"><span data-stu-id="72f06-131">It should not implement any domain knowledge, to avoid becoming a heavy dependency.</span></span>

<span data-ttu-id="72f06-132">**Esporre interfacce aperte**.</span><span class="sxs-lookup"><span data-stu-id="72f06-132">**Expose open interfaces**.</span></span> <span data-ttu-id="72f06-133">Evitare di creare livelli di conversione personalizzati tra servizi.</span><span class="sxs-lookup"><span data-stu-id="72f06-133">Avoid creating custom translation layers that sit between services.</span></span> <span data-ttu-id="72f06-134">Un servizio deve invece esporre un'API con un contratto API ben definito.</span><span class="sxs-lookup"><span data-stu-id="72f06-134">Instead, a service should expose an API with a well-defined API contract.</span></span> <span data-ttu-id="72f06-135">L'API deve consentire il controllo delle versioni, affinché sia possibile aggiornarla mantenendo la compatibilità con le versioni precedenti.</span><span class="sxs-lookup"><span data-stu-id="72f06-135">The API should be versioned, so that you can evolve the API while maintaining backward compatibility.</span></span> <span data-ttu-id="72f06-136">In questo modo, è possibile aggiornare un servizio senza coordinare gli aggiornamenti per tutti i servizi upstream che dipendono da esso.</span><span class="sxs-lookup"><span data-stu-id="72f06-136">That way, you can update a service without coordinating updates to all of the upstream services that depend on it.</span></span> <span data-ttu-id="72f06-137">I servizi pubblici devono esporre un'API RESTful tramite HTTP.</span><span class="sxs-lookup"><span data-stu-id="72f06-137">Public facing services should expose a RESTful API over HTTP.</span></span> <span data-ttu-id="72f06-138">I servizi back-end possono usare un protocollo di messaggistica di tipo RPC per motivi di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="72f06-138">Backend services might use an RPC-style messaging protocol for performance reasons.</span></span> 

<span data-ttu-id="72f06-139">**Progettare e testare in base ai contratti di servizio**.</span><span class="sxs-lookup"><span data-stu-id="72f06-139">**Design and test against service contracts**.</span></span> <span data-ttu-id="72f06-140">Quando i servizi espongono API ben definite, è possibile sviluppare e testare in base a tali API.</span><span class="sxs-lookup"><span data-stu-id="72f06-140">When services expose well-defined APIs, you can develop and test against those APIs.</span></span> <span data-ttu-id="72f06-141">In questo modo, è possibile sviluppare e testare un singolo servizio senza avviare tutti i servizi dipendenti.</span><span class="sxs-lookup"><span data-stu-id="72f06-141">That way, you can develop and test an individual service without spinning up all of its dependent services.</span></span> <span data-ttu-id="72f06-142">Naturalmente, i test di integrazione e carico devono comunque essere eseguiti in base ai servizi reali.</span><span class="sxs-lookup"><span data-stu-id="72f06-142">(Of course, you would still perform integration and load testing against the real services.)</span></span>

<span data-ttu-id="72f06-143">**Astrarre l'infrastruttura dalla logica di dominio**.</span><span class="sxs-lookup"><span data-stu-id="72f06-143">**Abstract infrastructure away from domain logic**.</span></span> <span data-ttu-id="72f06-144">Non confondere la logica di dominio con le funzionalità correlate all'infrastruttura, come la messaggistica o la persistenza.</span><span class="sxs-lookup"><span data-stu-id="72f06-144">Don't let domain logic get mixed up with infrastructure-related functionality, such as messaging or persistence.</span></span> <span data-ttu-id="72f06-145">In caso contrario, le modifiche alla logica di dominio richiederanno aggiornamenti ai livelli di infrastruttura e viceversa.</span><span class="sxs-lookup"><span data-stu-id="72f06-145">Otherwise, changes in the domain logic will require updates to the infrastructure layers and vice versa.</span></span> 

<span data-ttu-id="72f06-146">**Spostare le problematiche trasversali in un servizio distinto**.</span><span class="sxs-lookup"><span data-stu-id="72f06-146">**Offload cross-cutting concerns to a separate service**.</span></span> <span data-ttu-id="72f06-147">Se, ad esempio, diversi servizi necessitano di autenticare le richieste, è possibile spostare questa funzionalità in un servizio distinto.</span><span class="sxs-lookup"><span data-stu-id="72f06-147">For example, if several services need to authenticate requests, you could move this functionality into its own service.</span></span> <span data-ttu-id="72f06-148">Sarà quindi possibile aggiornare il servizio di autenticazione, ad esempio aggiungendo un nuovo flusso di autenticazione, senza toccare i servizi che lo usano.</span><span class="sxs-lookup"><span data-stu-id="72f06-148">Then you could evolve the authentication service &mdash; for example, by adding a new authentication flow &mdash; without touching any of the services that use it.</span></span>

<span data-ttu-id="72f06-149">**Distribuire i servizi in modo indipendente**.</span><span class="sxs-lookup"><span data-stu-id="72f06-149">**Deploy services independently**.</span></span> <span data-ttu-id="72f06-150">Quando il team DevOps può distribuire un singolo servizio indipendentemente dagli altri servizi nell'applicazione, gli aggiornamenti possono avvenire in modo più rapido e sicuro.</span><span class="sxs-lookup"><span data-stu-id="72f06-150">When the DevOps team can deploy a single service independently of other services in the application, updates can happen more quickly and safely.</span></span> <span data-ttu-id="72f06-151">Le nuove funzionalità e le correzioni di bug possono essere implementate a cadenza più regolare.</span><span class="sxs-lookup"><span data-stu-id="72f06-151">Bug fixes and new features can be rolled out at a more regular cadence.</span></span> <span data-ttu-id="72f06-152">Progettare sia l'applicazione che il processo di rilascio per supportare gli aggiornamenti indipendenti.</span><span class="sxs-lookup"><span data-stu-id="72f06-152">Design both the application and the release process to support independent updates.</span></span>