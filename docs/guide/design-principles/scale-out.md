---
title: Progettare per la scalabilità orizzontale
description: Le applicazioni cloud devono essere progettate per la scalabilità orizzontale.
author: MikeWasson
ms.date: 08/30/2018
ms.openlocfilehash: 9b57f4e6a17eece4f5283436e104c286602bb54f
ms.sourcegitcommit: ae8a1de6f4af7a89a66a8339879843d945201f85
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 08/31/2018
ms.locfileid: "43325655"
---
# <a name="design-to-scale-out"></a><span data-ttu-id="60c47-103">Progettare per la scalabilità orizzontale</span><span class="sxs-lookup"><span data-stu-id="60c47-103">Design to scale out</span></span>

## <a name="design-your-application-so-that-it-can-scale-horizontally"></a><span data-ttu-id="60c47-104">Progettare l'applicazione in modo che consenta la scalabilità orizzontale</span><span class="sxs-lookup"><span data-stu-id="60c47-104">Design your application so that it can scale horizontally</span></span>

<span data-ttu-id="60c47-105">Un importante vantaggio del cloud è la scalabilità elastica, ovvero la possibilità di usare la capacità necessaria, aumentandola quando aumenta il carico e riducendola quando la capacità aggiuntiva non è necessaria.</span><span class="sxs-lookup"><span data-stu-id="60c47-105">A primary advantage of the cloud is elastic scaling &mdash; the ability to use as much capacity as you need, scaling out as load increases, and scaling in when the extra capacity is not needed.</span></span> <span data-ttu-id="60c47-106">Progettare l'applicazione in modo che consenta la scalabilità orizzontale, aggiungendo o rimuovendo nuove istanze in base alle esigenze.</span><span class="sxs-lookup"><span data-stu-id="60c47-106">Design your application so that it can scale horizontally, adding or removing new instances as demand requires.</span></span>

## <a name="recommendations"></a><span data-ttu-id="60c47-107">Consigli</span><span class="sxs-lookup"><span data-stu-id="60c47-107">Recommendations</span></span>

<span data-ttu-id="60c47-108">**Evitare la persistenza delle istanze**.</span><span class="sxs-lookup"><span data-stu-id="60c47-108">**Avoid instance stickiness**.</span></span> <span data-ttu-id="60c47-109">Si parla di persistenza, o *affinità di sessione*, quando le richieste dello stesso client vengono sempre instradate allo stesso server.</span><span class="sxs-lookup"><span data-stu-id="60c47-109">Stickiness, or *session affinity*, is when requests from the same client are always routed to the same server.</span></span> <span data-ttu-id="60c47-110">La persistenza limita la capacità di scalabilità orizzontale dell'applicazione. Il traffico di un utente con volumi elevati, ad esempio, non viene distribuito tra più istanze.</span><span class="sxs-lookup"><span data-stu-id="60c47-110">Stickiness limits the application's ability to scale out. For example, traffic from a high-volume user will not be distributed across instances.</span></span> <span data-ttu-id="60c47-111">Tra le cause della persistenza ci sono lo stato sessione in memoria e l'uso di chiavi specifiche del computer per la crittografia.</span><span class="sxs-lookup"><span data-stu-id="60c47-111">Causes of stickiness include storing session state in memory, and using machine-specific keys for encryption.</span></span> <span data-ttu-id="60c47-112">Assicurarsi che qualsiasi istanza possa gestire qualsiasi richiesta.</span><span class="sxs-lookup"><span data-stu-id="60c47-112">Make sure that any instance can handle any request.</span></span> 

<span data-ttu-id="60c47-113">**Identificare i colli di bottiglia**.</span><span class="sxs-lookup"><span data-stu-id="60c47-113">**Identify bottlenecks**.</span></span> <span data-ttu-id="60c47-114">La scalabilità orizzontale non è una soluzione magica per ogni problema di prestazioni.</span><span class="sxs-lookup"><span data-stu-id="60c47-114">Scaling out isn't a magic fix for every performance issue.</span></span> <span data-ttu-id="60c47-115">Se, ad esempio, il database back-end rappresenta un collo di bottiglia, l'aggiunta di altri server Web non sarà utile.</span><span class="sxs-lookup"><span data-stu-id="60c47-115">For example, if your backend database is the bottleneck, it won't help to add more web servers.</span></span> <span data-ttu-id="60c47-116">Identificare e risolvere i colli di bottiglia nel sistema prima di generare più istanze.</span><span class="sxs-lookup"><span data-stu-id="60c47-116">Identify and resolve the bottlenecks in the system first, before throwing more instances at the problem.</span></span> <span data-ttu-id="60c47-117">Le parti con stato del sistema sono le cause più probabili dei colli di bottiglia.</span><span class="sxs-lookup"><span data-stu-id="60c47-117">Stateful parts of the system are the most likely cause of bottlenecks.</span></span> 

<span data-ttu-id="60c47-118">**Scomporre i carichi di lavoro in base ai requisiti di scalabilità.**</span><span class="sxs-lookup"><span data-stu-id="60c47-118">**Decompose workloads by scalability requirements.**</span></span>  <span data-ttu-id="60c47-119">Le applicazioni spesso sono costituite da più carichi di lavoro, con requisiti di scalabilità diversi.</span><span class="sxs-lookup"><span data-stu-id="60c47-119">Applications often consist of multiple workloads, with different requirements for scaling.</span></span> <span data-ttu-id="60c47-120">Un'applicazione potrebbe ad esempio avere un sito pubblico e un sito di amministrazione separato.</span><span class="sxs-lookup"><span data-stu-id="60c47-120">For example, an application might have a public-facing site and a separate administration site.</span></span> <span data-ttu-id="60c47-121">Nel sito pubblico potrebbero verificarsi picchi improvvisi di traffico, mentre il carico del sito di amministrazione è minore e più prevedibile.</span><span class="sxs-lookup"><span data-stu-id="60c47-121">The public site may experience sudden surges in traffic, while the administration site has a smaller, more predictable load.</span></span> 

<span data-ttu-id="60c47-122">**Ripartire il carico delle attività a elevato utilizzo di risorse.**</span><span class="sxs-lookup"><span data-stu-id="60c47-122">**Offload resource-intensive tasks.**</span></span> <span data-ttu-id="60c47-123">Le attività che richiedono molte risorse della CPU o di I/O devono essere spostate nei [processi in background][background-jobs], quando possibile, per ridurre al minimo il carico sul front-end che gestisce le richieste degli utenti.</span><span class="sxs-lookup"><span data-stu-id="60c47-123">Tasks that require a lot of CPU or I/O resources should be moved to [background jobs][background-jobs] when possible, to minimize the load on the front end that is handling user requests.</span></span>

<span data-ttu-id="60c47-124">**Usare le funzionalità di scalabilità automatica predefinite**.</span><span class="sxs-lookup"><span data-stu-id="60c47-124">**Use built-in autoscaling features**.</span></span> <span data-ttu-id="60c47-125">Molti servizi di calcolo di Azure offrono il supporto predefinito per la scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="60c47-125">Many Azure compute services have built-in support for autoscaling.</span></span> <span data-ttu-id="60c47-126">Se l'applicazione ha un carico di lavoro prevedibile e regolare, è possibile applicare la scalabilità orizzontale in base a una pianificazione.</span><span class="sxs-lookup"><span data-stu-id="60c47-126">If the application has a predictable, regular workload, scale out on a schedule.</span></span> <span data-ttu-id="60c47-127">Ad esempio, applicare la scalabilità orizzontale durante l'orario di ufficio.</span><span class="sxs-lookup"><span data-stu-id="60c47-127">For example, scale out during business hours.</span></span> <span data-ttu-id="60c47-128">In caso contrario, se il carico di lavoro non è prevedibile, usare le metriche delle prestazioni, ad esempio relative a lunghezza della coda di richieste o CPU, per attivare la scalabilità automatica.</span><span class="sxs-lookup"><span data-stu-id="60c47-128">Otherwise, if the workload is not predictable, use performance metrics such as CPU or request queue length to trigger autoscaling.</span></span> <span data-ttu-id="60c47-129">Per le procedure consigliate relative alla scalabilità automatica, vedere [Scalabilità automatica][autoscaling].</span><span class="sxs-lookup"><span data-stu-id="60c47-129">For autoscaling best practices, see [Autoscaling][autoscaling].</span></span>

<span data-ttu-id="60c47-130">**Prendere in considerazione la scalabilità automatica aggressiva per i carichi di lavoro critici**.</span><span class="sxs-lookup"><span data-stu-id="60c47-130">**Consider aggressive autoscaling for critical workloads**.</span></span> <span data-ttu-id="60c47-131">Per i carichi di lavoro critici, è necessario anticipare le richieste.</span><span class="sxs-lookup"><span data-stu-id="60c47-131">For critical workloads, you want to keep ahead of demand.</span></span> <span data-ttu-id="60c47-132">In condizioni di carico elevato, è preferibile aggiungere rapidamente nuove istanze per gestire il traffico aggiuntivo e quindi ridurle gradualmente.</span><span class="sxs-lookup"><span data-stu-id="60c47-132">It's better to add new instances quickly under heavy load to handle the additional traffic, and then gradually scale back.</span></span>

<span data-ttu-id="60c47-133">**Progettare per la riduzione delle istanze**.</span><span class="sxs-lookup"><span data-stu-id="60c47-133">**Design for scale in**.</span></span>  <span data-ttu-id="60c47-134">Tenere presente che con la scalabilità elastica, l'applicazione avrà periodi di riduzione delle risorse, in cui le istanze vengono rimosse.</span><span class="sxs-lookup"><span data-stu-id="60c47-134">Remember that with elastic scale, the application will have periods of scale in, when instances get removed.</span></span> <span data-ttu-id="60c47-135">L'applicazione deve gestire correttamente le istanze rimosse.</span><span class="sxs-lookup"><span data-stu-id="60c47-135">The application must gracefully handle instances being removed.</span></span> <span data-ttu-id="60c47-136">Ecco alcuni modi per gestire la riduzione delle istanze:</span><span class="sxs-lookup"><span data-stu-id="60c47-136">Here are some ways to handle scalein:</span></span>

- <span data-ttu-id="60c47-137">Restare in ascolto degli eventi di arresto (quando disponibili) ed eseguire la chiusura normale.</span><span class="sxs-lookup"><span data-stu-id="60c47-137">Listen for shutdown events (when available) and shut down cleanly.</span></span> 
- <span data-ttu-id="60c47-138">I client/consumer di un servizio devono supportare la gestione degli errori temporanei e i nuovi tentativi.</span><span class="sxs-lookup"><span data-stu-id="60c47-138">Clients/consumers of a service should support transient fault handling and retry.</span></span> 
- <span data-ttu-id="60c47-139">Per le attività a esecuzione prolungata, prendere in considerazione la possibilità di suddividere il lavoro, usando checkpoint o il modello [Pipe e filtri][pipes-filters-pattern].</span><span class="sxs-lookup"><span data-stu-id="60c47-139">For long-running tasks, consider breaking up the work, using checkpoints or the [Pipes and Filters][pipes-filters-pattern] pattern.</span></span> 
- <span data-ttu-id="60c47-140">Inserire gli elementi di lavoro in una coda, in modo che un'altra istanza possa gestire il lavoro se un'istanza viene rimossa durante l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="60c47-140">Put work items on a queue so that another instance can pick up the work, if an instance is removed in the middle of processing.</span></span> 


<!-- links -->

[autoscaling]: ../../best-practices/auto-scaling.md
[background-jobs]: ../../best-practices/background-jobs.md
[pipes-filters-pattern]: ../../patterns/pipes-and-filters.md
