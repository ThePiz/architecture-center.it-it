---
title: Scelta di una tecnologia di inserimento di messaggi in tempo reale
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.topic: guide
ms.service: architecture-center
ms.subservice: cloud-fundamentals
ms.openlocfilehash: 9f787a0de5db97f5c0a5651b510e49762fbc44b9
ms.sourcegitcommit: c053e6edb429299a0ad9b327888d596c48859d4a
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 03/20/2019
ms.locfileid: "58244882"
---
# <a name="choosing-a-real-time-message-ingestion-technology-in-azure"></a><span data-ttu-id="c82e9-102">Scelta di una tecnologia di inserimento di messaggi in tempo reale in Azure</span><span class="sxs-lookup"><span data-stu-id="c82e9-102">Choosing a real-time message ingestion technology in Azure</span></span>

<span data-ttu-id="c82e9-103">L'elaborazione in tempo reale riguarda i flussi di dati acquisiti in tempo reale ed elaborati con latenza minima.</span><span class="sxs-lookup"><span data-stu-id="c82e9-103">Real time processing deals with streams of data that are captured in real-time and processed with minimal latency.</span></span> <span data-ttu-id="c82e9-104">Molte soluzioni di elaborazione in tempo reale richiedono che un archivio di inserimento dei messaggi funga da buffer per i messaggi e supporti l'elaborazione scale-out, il recapito affidabile e altri tipi di semantica di accodamento dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="c82e9-104">Many real-time processing solutions need a message ingestion store to act as a buffer for messages, and to support scale-out processing, reliable delivery, and other message queuing semantics.</span></span>

<!-- markdownlint-disable MD026 -->

## <a name="what-are-your-options-for-real-time-message-ingestion"></a><span data-ttu-id="c82e9-105">Opzioni per l'inserimento di messaggi in tempo reale</span><span class="sxs-lookup"><span data-stu-id="c82e9-105">What are your options for real-time message ingestion?</span></span>

<!-- markdownlint-enable MD026 -->

- [<span data-ttu-id="c82e9-106">Hub eventi di Azure</span><span class="sxs-lookup"><span data-stu-id="c82e9-106">Azure Event Hubs</span></span>](/azure/event-hubs/)
- [<span data-ttu-id="c82e9-107">Hub IoT Azure</span><span class="sxs-lookup"><span data-stu-id="c82e9-107">Azure IoT Hub</span></span>](/azure/iot-hub/)
- [<span data-ttu-id="c82e9-108">Kafka in HDInsight</span><span class="sxs-lookup"><span data-stu-id="c82e9-108">Kafka on HDInsight</span></span>](/azure/hdinsight/kafka/apache-kafka-get-started)

## <a name="azure-event-hubs"></a><span data-ttu-id="c82e9-109">Hub eventi di Azure</span><span class="sxs-lookup"><span data-stu-id="c82e9-109">Azure Event Hubs</span></span>

<span data-ttu-id="c82e9-110">[Hub eventi di Azure](/azure/event-hubs/) è una piattaforma di streaming di dati e un servizio di inserimento degli eventi estremamente scalabile, che consente di ricevere ed elaborare milioni di eventi al secondo.</span><span class="sxs-lookup"><span data-stu-id="c82e9-110">[Azure Event Hubs](/azure/event-hubs/) is a highly scalable data streaming platform and event ingestion service, capable of receiving and processing millions of events per second.</span></span> <span data-ttu-id="c82e9-111">Hub eventi consente di elaborare e archiviare eventi, dati o dati di telemetria generati dal software distribuito e dai dispositivi.</span><span class="sxs-lookup"><span data-stu-id="c82e9-111">Event Hubs can process and store events, data, or telemetry produced by distributed software and devices.</span></span> <span data-ttu-id="c82e9-112">I dati inviati a un hub eventi possono essere trasformati e archiviati usando qualsiasi provider di analisi in tempo reale o adattatori di invio in batch/archiviazione.</span><span class="sxs-lookup"><span data-stu-id="c82e9-112">Data sent to an event hub can be transformed and stored using any real-time analytics provider or batching/storage adapters.</span></span> <span data-ttu-id="c82e9-113">Hub eventi offre funzionalità di pubblicazione-sottoscrizione a bassa latenza su larga scala, pertanto è appropriato per scenari con Big Data.</span><span class="sxs-lookup"><span data-stu-id="c82e9-113">Event Hubs provides publish-subscribe capabilities with low latency at massive scale, which makes it appropriate for big data scenarios.</span></span>

## <a name="azure-iot-hub"></a><span data-ttu-id="c82e9-114">Hub IoT Azure</span><span class="sxs-lookup"><span data-stu-id="c82e9-114">Azure IoT Hub</span></span>

<span data-ttu-id="c82e9-115">L'[hub IoT di Azure](/azure/iot-hub/) è un servizio gestito che consente comunicazioni bidirezionali affidabili e sicure tra milioni di dispositivi IoT e un back-end basato sul cloud.</span><span class="sxs-lookup"><span data-stu-id="c82e9-115">[Azure IoT Hub](/azure/iot-hub/) is a managed service that enables reliable and secure bidirectional communications between millions of IoT devices and a cloud-based back end.</span></span>

<span data-ttu-id="c82e9-116">Le funzionalità dell'hub IoT sono:</span><span class="sxs-lookup"><span data-stu-id="c82e9-116">Feature of IoT Hub include:</span></span>

- <span data-ttu-id="c82e9-117">Più opzioni per la comunicazione da dispositivo a cloud e da cloud a dispositivo.</span><span class="sxs-lookup"><span data-stu-id="c82e9-117">Multiple options for device-to-cloud and cloud-to-device communication.</span></span> <span data-ttu-id="c82e9-118">Queste opzioni includono la messaggistica unidirezionale, il trasferimento di file e i metodi di richiesta-risposta.</span><span class="sxs-lookup"><span data-stu-id="c82e9-118">These options include one-way messaging, file transfer, and request-reply methods.</span></span>
- <span data-ttu-id="c82e9-119">Routing dei messaggi ad altri servizi di Azure.</span><span class="sxs-lookup"><span data-stu-id="c82e9-119">Message routing to other Azure services.</span></span>
- <span data-ttu-id="c82e9-120">Archivio in cui eseguire query sui metadati e sulle informazioni di stato sincronizzate del dispositivo.</span><span class="sxs-lookup"><span data-stu-id="c82e9-120">Queryable store for device metadata and synchronized state information.</span></span>
- <span data-ttu-id="c82e9-121">Comunicazioni sicure e controllo di accesso tramite chiavi di sicurezza per dispositivo o certificati X.509.</span><span class="sxs-lookup"><span data-stu-id="c82e9-121">Secure communications and access control using per-device security keys or X.509 certificates.</span></span>
- <span data-ttu-id="c82e9-122">Monitoraggio per gli eventi relativi alla connettività dei dispositivi e alla gestione delle identità dei dispositivi.</span><span class="sxs-lookup"><span data-stu-id="c82e9-122">Monitoring of device connectivity and device identity management events.</span></span>

<span data-ttu-id="c82e9-123">In termini di inserimento dei messaggi, l'hub IoT è simile a Hub eventi.</span><span class="sxs-lookup"><span data-stu-id="c82e9-123">In terms of message ingestion, IoT Hub is similar to Event Hubs.</span></span> <span data-ttu-id="c82e9-124">È stato tuttavia progettato specificatamente per la gestione della connettività dei dispositivi IoT, non solo per l'inserimento dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="c82e9-124">However, it was specifically designed for managing IoT device connectivity, not just message ingestion.</span></span> <span data-ttu-id="c82e9-125">Per altre informazioni, vedere [Confronto tra l'hub IoT e Hub eventi di Azure](/azure/iot-hub/iot-hub-compare-event-hubs).</span><span class="sxs-lookup"><span data-stu-id="c82e9-125">For more information, see [Comparison of Azure IoT Hub and Azure Event Hubs](/azure/iot-hub/iot-hub-compare-event-hubs).</span></span>

## <a name="kafka-on-hdinsight"></a><span data-ttu-id="c82e9-126">Kafka in HDInsight</span><span class="sxs-lookup"><span data-stu-id="c82e9-126">Kafka on HDInsight</span></span>

<span data-ttu-id="c82e9-127">[Apache Kafka](https://kafka.apache.org/) è una piattaforma open source distribuita per lo streaming, che consente di creare applicazioni in streaming e pipeline di dati in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="c82e9-127">[Apache Kafka](https://kafka.apache.org/) is an open-source distributed streaming platform that can be used to build real-time data pipelines and streaming applications.</span></span> <span data-ttu-id="c82e9-128">Kafka offre anche una funzionalità di broker di messaggi simile a una coda di messaggi, dove è possibile pubblicare e sottoscrivere flussi dei dati denominati.</span><span class="sxs-lookup"><span data-stu-id="c82e9-128">Kafka also provides message broker functionality similar to a message queue, where you can publish and subscribe to named data streams.</span></span> <span data-ttu-id="c82e9-129">È scalabile orizzontalmente, a tolleranza di errore ed estremamente veloce.</span><span class="sxs-lookup"><span data-stu-id="c82e9-129">It is horizontally scalable, fault-tolerant, and extremely fast.</span></span> <span data-ttu-id="c82e9-130">[Kafka in HDInsight](/azure/hdinsight/kafka/apache-kafka-get-started) offre Kafka come servizio gestito, a scalabilità e disponibilità elevate in Azure.</span><span class="sxs-lookup"><span data-stu-id="c82e9-130">[Kafka on HDInsight](/azure/hdinsight/kafka/apache-kafka-get-started) provides a Kafka as a managed, highly scalable, and highly available service in Azure.</span></span>

<span data-ttu-id="c82e9-131">Ecco alcuni casi di uso comuni per Kafka:</span><span class="sxs-lookup"><span data-stu-id="c82e9-131">Some common use cases for Kafka are:</span></span>

- <span data-ttu-id="c82e9-132">**Messaggistica**.</span><span class="sxs-lookup"><span data-stu-id="c82e9-132">**Messaging**.</span></span> <span data-ttu-id="c82e9-133">Poiché supporta il modello di pubblicazione-sottoscrizione dei messaggi, Kafka viene usato spesso come broker di messaggi.</span><span class="sxs-lookup"><span data-stu-id="c82e9-133">Because it supports the publish-subscribe message pattern, Kafka is often used as a message broker.</span></span>
- <span data-ttu-id="c82e9-134">**Rilevamento delle attività**.</span><span class="sxs-lookup"><span data-stu-id="c82e9-134">**Activity tracking**.</span></span> <span data-ttu-id="c82e9-135">Poiché Kafka offre la registrazione ordinata dei record, può essere usato per tenere traccia delle attività, come le azioni dell'utente in un sito Web, e per ricrearle.</span><span class="sxs-lookup"><span data-stu-id="c82e9-135">Because Kafka provides in-order logging of records, it can be used to track and re-create activities, such as user actions on a web site.</span></span>
- <span data-ttu-id="c82e9-136">**Aggregazione**.</span><span class="sxs-lookup"><span data-stu-id="c82e9-136">**Aggregation**.</span></span> <span data-ttu-id="c82e9-137">Usando l'elaborazione dei flussi, è possibile aggregare informazioni da flussi diversi per combinarle e centralizzarle in dati operativi.</span><span class="sxs-lookup"><span data-stu-id="c82e9-137">Using stream processing, you can aggregate information from different streams to combine and centralize the information into operational data.</span></span>
- <span data-ttu-id="c82e9-138">**Trasformazione**.</span><span class="sxs-lookup"><span data-stu-id="c82e9-138">**Transformation**.</span></span> <span data-ttu-id="c82e9-139">Usando l'elaborazione dei flussi, è possibile combinare e arricchire dati da più argomenti di input in uno o più argomenti di output.</span><span class="sxs-lookup"><span data-stu-id="c82e9-139">Using stream processing, you can combine and enrich data from multiple input topics into one or more output topics.</span></span>

## <a name="key-selection-criteria"></a><span data-ttu-id="c82e9-140">Criteri di scelta principali</span><span class="sxs-lookup"><span data-stu-id="c82e9-140">Key selection criteria</span></span>

<span data-ttu-id="c82e9-141">Per limitare le possibilità di scelta, rispondere prima di tutto a queste domande:</span><span class="sxs-lookup"><span data-stu-id="c82e9-141">To narrow the choices, start by answering these questions:</span></span>

- <span data-ttu-id="c82e9-142">È necessaria la comunicazione bidirezionale tra i dispositivi IoT e Azure?</span><span class="sxs-lookup"><span data-stu-id="c82e9-142">Do you need two-way communication between your IoT devices and Azure?</span></span> <span data-ttu-id="c82e9-143">Se sì, scegliere l'hub IoT.</span><span class="sxs-lookup"><span data-stu-id="c82e9-143">If so, choose IoT Hub.</span></span>

- <span data-ttu-id="c82e9-144">È necessario gestire l'accesso per i singoli dispositivi e poter revocare l'accesso a un dispositivo specifico?</span><span class="sxs-lookup"><span data-stu-id="c82e9-144">Do you need to manage access for individual devices and be able to revoke access to a specific device?</span></span> <span data-ttu-id="c82e9-145">Se sì, scegliere l'hub IoT.</span><span class="sxs-lookup"><span data-stu-id="c82e9-145">If yes, choose IoT Hub.</span></span>

## <a name="capability-matrix"></a><span data-ttu-id="c82e9-146">Matrice delle funzionalità</span><span class="sxs-lookup"><span data-stu-id="c82e9-146">Capability matrix</span></span>

<span data-ttu-id="c82e9-147">Le tabelle seguenti contengono un riepilogo delle differenze principali in termini di funzionalità.</span><span class="sxs-lookup"><span data-stu-id="c82e9-147">The following tables summarize the key differences in capabilities.</span></span>

<!-- markdownlint-disable MD033 -->

| | <span data-ttu-id="c82e9-148">Hub IoT</span><span class="sxs-lookup"><span data-stu-id="c82e9-148">IoT Hub</span></span> | <span data-ttu-id="c82e9-149">Hub eventi</span><span class="sxs-lookup"><span data-stu-id="c82e9-149">Event Hubs</span></span> | <span data-ttu-id="c82e9-150">Kafka in HDInsight</span><span class="sxs-lookup"><span data-stu-id="c82e9-150">Kafka on HDInsight</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="c82e9-151">Comunicazioni da cloud a dispositivo</span><span class="sxs-lookup"><span data-stu-id="c82e9-151">Cloud-to-device communications</span></span> | <span data-ttu-id="c82e9-152">Sì</span><span class="sxs-lookup"><span data-stu-id="c82e9-152">Yes</span></span> | <span data-ttu-id="c82e9-153">No </span><span class="sxs-lookup"><span data-stu-id="c82e9-153">No</span></span> | <span data-ttu-id="c82e9-154">No </span><span class="sxs-lookup"><span data-stu-id="c82e9-154">No</span></span> |
| <span data-ttu-id="c82e9-155">Caricamento di file avviati da dispositivo</span><span class="sxs-lookup"><span data-stu-id="c82e9-155">Device-initiated file upload</span></span> | <span data-ttu-id="c82e9-156">Sì</span><span class="sxs-lookup"><span data-stu-id="c82e9-156">Yes</span></span> | <span data-ttu-id="c82e9-157">No </span><span class="sxs-lookup"><span data-stu-id="c82e9-157">No</span></span> | <span data-ttu-id="c82e9-158">No </span><span class="sxs-lookup"><span data-stu-id="c82e9-158">No</span></span> |
| <span data-ttu-id="c82e9-159">Informazioni sullo stato dei dispositivi</span><span class="sxs-lookup"><span data-stu-id="c82e9-159">Device state information</span></span> | [<span data-ttu-id="c82e9-160">Dispositivi gemelli</span><span class="sxs-lookup"><span data-stu-id="c82e9-160">Device twins</span></span>](/azure/iot-hub/iot-hub-devguide-device-twins) | <span data-ttu-id="c82e9-161">No </span><span class="sxs-lookup"><span data-stu-id="c82e9-161">No</span></span> | <span data-ttu-id="c82e9-162">No </span><span class="sxs-lookup"><span data-stu-id="c82e9-162">No</span></span> |
| <span data-ttu-id="c82e9-163">Supporto dei protocolli</span><span class="sxs-lookup"><span data-stu-id="c82e9-163">Protocol support</span></span> | <span data-ttu-id="c82e9-164">MQTT, AMQP, HTTPS <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="c82e9-164">MQTT, AMQP, HTTPS <sup>1</sup></span></span> | <span data-ttu-id="c82e9-165">AMQP, HTTPS</span><span class="sxs-lookup"><span data-stu-id="c82e9-165">AMQP, HTTPS</span></span> | [<span data-ttu-id="c82e9-166">Protocollo Kafka</span><span class="sxs-lookup"><span data-stu-id="c82e9-166">Kafka Protocol</span></span>](https://cwiki.apache.org/confluence/display/KAFKA/A+Guide+To+The+Kafka+Protocol) |
| <span data-ttu-id="c82e9-167">Security</span><span class="sxs-lookup"><span data-stu-id="c82e9-167">Security</span></span> | <span data-ttu-id="c82e9-168">Identità per dispositivo, controllo di accesso revocabile.</span><span class="sxs-lookup"><span data-stu-id="c82e9-168">Per-device identity; revocable access control.</span></span> | <span data-ttu-id="c82e9-169">Criteri di accesso condivisi, revoca limitata tramite criteri di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="c82e9-169">Shared access policies; limited revocation through publisher policies.</span></span> | <span data-ttu-id="c82e9-170">Autenticazione tramite SASL, autorizzazione modulare, integrazione con servizi di autenticazione esterna supportata.</span><span class="sxs-lookup"><span data-stu-id="c82e9-170">Authentication using SASL; pluggable authorization; integration with external authentication services supported.</span></span> |

<!-- markdownlint-enable MD026 -->

<span data-ttu-id="c82e9-171">[1] È anche possibile usare il [gateway del protocollo Azure IoT](/azure/iot-hub/iot-hub-protocol-gateway) come gateway personalizzato per consentire l'adattamento del protocollo per l'hub IoT.</span><span class="sxs-lookup"><span data-stu-id="c82e9-171">[1] You can also use [Azure IoT protocol gateway](/azure/iot-hub/iot-hub-protocol-gateway) as a custom gateway to enable protocol adaptation for IoT Hub.</span></span>

<span data-ttu-id="c82e9-172">Per altre informazioni, vedere [Confronto tra l'hub IoT e Hub eventi di Azure](/azure/iot-hub/iot-hub-compare-event-hubs).</span><span class="sxs-lookup"><span data-stu-id="c82e9-172">For more information, see [Comparison of Azure IoT Hub and Azure Event Hubs](/azure/iot-hub/iot-hub-compare-event-hubs).</span></span>
