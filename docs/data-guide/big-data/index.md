---
title: Architetture per Big Data
description: ''
author: zoinerTejada
ms.date: 02/12/2018
ms.openlocfilehash: f0c90d88c1350d12b03531ae009f952ea823bc30
ms.sourcegitcommit: e7e0e0282fa93f0063da3b57128ade395a9c1ef9
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 12/05/2018
ms.locfileid: "52902392"
---
# <a name="big-data-architectures"></a><span data-ttu-id="61e96-102">Architetture per Big Data</span><span class="sxs-lookup"><span data-stu-id="61e96-102">Big data architectures</span></span>

<span data-ttu-id="61e96-103">Un'architettura per Big Data è progettata per gestire l'inserimento, l'elaborazione e l'analisi di dati troppo grandi o complessi per i sistemi di database tradizionali.</span><span class="sxs-lookup"><span data-stu-id="61e96-103">A big data architecture is designed to handle the ingestion, processing, and analysis of data that is too large or complex for traditional database systems.</span></span> <span data-ttu-id="61e96-104">Il criterio adottato dalle organizzazioni per individuare la soglia oltre la quale è opportuno preferire soluzioni per Big Data varia a seconda delle capacità degli utenti e degli strumenti a disposizione.</span><span class="sxs-lookup"><span data-stu-id="61e96-104">The threshold at which organizations enter into the big data realm differs, depending on the capabilities of the users and their tools.</span></span> <span data-ttu-id="61e96-105">Può trattarsi di una quantità di dati dell'ordine di migliaia di gigabyte, ma anche di centinaia di terabyte.</span><span class="sxs-lookup"><span data-stu-id="61e96-105">For some, it can mean hundreds of gigabytes of data, while for others it means hundreds of terabytes.</span></span> <span data-ttu-id="61e96-106">Con lo sviluppo di strumenti sempre più avanzati per la gestione di set di Big Data, anche il significato di Big Data si è evoluto.</span><span class="sxs-lookup"><span data-stu-id="61e96-106">As tools for working with big data sets advance, so does the meaning of big data.</span></span> <span data-ttu-id="61e96-107">Il termine viene sempre più usato per fare riferimento al valore che è possibile estrarre dai set di dati tramite l'analisi avanzata, anziché esclusivamente alle dimensioni dei dati, anche se in questi casi tendono a essere molto grandi.</span><span class="sxs-lookup"><span data-stu-id="61e96-107">More and more, this term relates to the value you can extract from your data sets through advanced analytics, rather than strictly the size of the data, although in these cases they tend to be quite large.</span></span>

<span data-ttu-id="61e96-108">Nel corso degli anni, il panorama dei dati ha subito varie trasformazioni.</span><span class="sxs-lookup"><span data-stu-id="61e96-108">Over the years, the data landscape has changed.</span></span> <span data-ttu-id="61e96-109">Il concetto di ciò che è possibile fare, o si prevede di poter fare, è cambiato.</span><span class="sxs-lookup"><span data-stu-id="61e96-109">What you can do, or are expected to do, with data has changed.</span></span> <span data-ttu-id="61e96-110">I costi di archiviazione sono diminuiti notevolmente, mentre i mezzi disponibili per la raccolta dei dati sono in continua espansione.</span><span class="sxs-lookup"><span data-stu-id="61e96-110">The cost of storage has fallen dramatically, while the means by which data is collected keeps growing.</span></span> <span data-ttu-id="61e96-111">Alcuni dati arrivano a un ritmo veloce, sempre pronti per essere raccolti e osservati.</span><span class="sxs-lookup"><span data-stu-id="61e96-111">Some data arrives at a rapid pace, constantly demanding to be collected and observed.</span></span> <span data-ttu-id="61e96-112">Altri arrivano invece a un ritmo più lento, ma in blocchi di dimensioni molto grandi, spesso sotto forma di dati cronologici relativi a decenni.</span><span class="sxs-lookup"><span data-stu-id="61e96-112">Other data arrives more slowly, but in very large chunks, often in the form of decades of historical data.</span></span> <span data-ttu-id="61e96-113">Può quindi capitare di dover affrontare un problema che richiede una soluzione di analisi avanzata o di apprendimento automatico.</span><span class="sxs-lookup"><span data-stu-id="61e96-113">You might be facing an advanced analytics problem, or one that requires machine learning.</span></span> <span data-ttu-id="61e96-114">Queste sono le sfide che tentano di risolvere le architetture per Big Data.</span><span class="sxs-lookup"><span data-stu-id="61e96-114">These are challenges that big data architectures seek to solve.</span></span>

<span data-ttu-id="61e96-115">Le soluzioni per i Big Data implicano in genere uno o più dei seguenti tipi di carico di lavoro:</span><span class="sxs-lookup"><span data-stu-id="61e96-115">Big data solutions typically involve one or more of the following types of workload:</span></span>

* <span data-ttu-id="61e96-116">L'elaborazione batch di origini di Big Data inattivi.</span><span class="sxs-lookup"><span data-stu-id="61e96-116">Batch processing of big data sources at rest.</span></span>
* <span data-ttu-id="61e96-117">L'elaborazione in tempo reale di Big Data in movimento.</span><span class="sxs-lookup"><span data-stu-id="61e96-117">Real-time processing of big data in motion.</span></span>
* <span data-ttu-id="61e96-118">L'esplorazione interattiva di Big Data.</span><span class="sxs-lookup"><span data-stu-id="61e96-118">Interactive exploration of big data.</span></span>
* <span data-ttu-id="61e96-119">L'analisi predittiva e il Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="61e96-119">Predictive analytics and machine learning.</span></span>

<span data-ttu-id="61e96-120">Prendere in considerazione l'uso di architetture per Big Data quando è necessario:</span><span class="sxs-lookup"><span data-stu-id="61e96-120">Consider big data architectures when you need to:</span></span>

* <span data-ttu-id="61e96-121">Archiviare ed elaborare i dati in volumi troppo grandi per un database tradizionale.</span><span class="sxs-lookup"><span data-stu-id="61e96-121">Store and process data in volumes too large for a traditional database.</span></span>
* <span data-ttu-id="61e96-122">Trasformare i dati non strutturati per consentire l'analisi e il reporting.</span><span class="sxs-lookup"><span data-stu-id="61e96-122">Transform unstructured data for analysis and reporting.</span></span>
* <span data-ttu-id="61e96-123">Acquisire, elaborare e analizzare i flussi di dati non associati in tempo reale o con una latenza bassa.</span><span class="sxs-lookup"><span data-stu-id="61e96-123">Capture, process, and analyze unbounded streams of data in real time, or with low latency.</span></span>

## <a name="components-of-a-big-data-architecture"></a><span data-ttu-id="61e96-124">Componenti di un'architettura per Big Data</span><span class="sxs-lookup"><span data-stu-id="61e96-124">Components of a big data architecture</span></span>

<span data-ttu-id="61e96-125">Il diagramma seguente mostra i componenti logici relativi a un'architettura per Big Data.</span><span class="sxs-lookup"><span data-stu-id="61e96-125">The following diagram shows the logical components that fit into a big data architecture.</span></span> <span data-ttu-id="61e96-126">È comunque possibile che le singole soluzioni non contengano tutti gli elementi illustrati nel diagramma.</span><span class="sxs-lookup"><span data-stu-id="61e96-126">Individual solutions may not contain every item in this diagram.</span></span>

![Diagramma generale della pipeline di dati](./images/big-data-pipeline.png) 

<span data-ttu-id="61e96-128">La maggior parte delle architetture per i Big Data include alcuni o tutti i seguenti componenti:</span><span class="sxs-lookup"><span data-stu-id="61e96-128">Most big data architectures include some or all of the following components:</span></span>

* <span data-ttu-id="61e96-129">**Origini dati**.</span><span class="sxs-lookup"><span data-stu-id="61e96-129">**Data sources**.</span></span> <span data-ttu-id="61e96-130">Il punto di partenza di tutte le soluzioni per Big Data è costituito da una o più origini dati.</span><span class="sxs-lookup"><span data-stu-id="61e96-130">All big data solutions start with one or more data sources.</span></span> <span data-ttu-id="61e96-131">Tra gli esempi sono inclusi:</span><span class="sxs-lookup"><span data-stu-id="61e96-131">Examples include:</span></span>

    * <span data-ttu-id="61e96-132">Archivi dati di applicazioni, ad esempio database relazionali.</span><span class="sxs-lookup"><span data-stu-id="61e96-132">Application data stores, such as relational databases.</span></span>
    * <span data-ttu-id="61e96-133">File statici generati dalle applicazioni, ad esempio file di log di server Web.</span><span class="sxs-lookup"><span data-stu-id="61e96-133">Static files produced by applications, such as web server log files.</span></span>
    * <span data-ttu-id="61e96-134">Origini dati in tempo reale, ad esempio dispositivi IoT.</span><span class="sxs-lookup"><span data-stu-id="61e96-134">Real-time data sources, such as IoT devices.</span></span>

* <span data-ttu-id="61e96-135">**Archiviazione dei dati**.</span><span class="sxs-lookup"><span data-stu-id="61e96-135">**Data storage**.</span></span> <span data-ttu-id="61e96-136">I dati per le operazioni di elaborazione batch vengono in genere inseriti in un archivio di file distribuito che può contenere volumi elevati di file di grandi dimensioni in vari formati.</span><span class="sxs-lookup"><span data-stu-id="61e96-136">Data for batch processing operations is typically stored in a distributed file store that can hold high volumes of large files in various formats.</span></span> <span data-ttu-id="61e96-137">Questo tipo di archivio viene spesso chiamato *data lake*.</span><span class="sxs-lookup"><span data-stu-id="61e96-137">This kind of store is often called a *data lake*.</span></span> <span data-ttu-id="61e96-138">Alcune opzioni per l'implementazione di questo tipo di archiviazione sono Azure Data Lake Store o i contenitori BLOB in Archiviazione di Azure.</span><span class="sxs-lookup"><span data-stu-id="61e96-138">Options for implementing this storage include Azure Data Lake Store or blob containers in Azure Storage.</span></span>

* <span data-ttu-id="61e96-139">**Elaborazione batch**.</span><span class="sxs-lookup"><span data-stu-id="61e96-139">**Batch processing**.</span></span> <span data-ttu-id="61e96-140">Poiché i set di dati hanno dimensioni considerevoli, una soluzione per Big Data deve spesso elaborare i file di dati mediante processi batch con esecuzione prolungata per filtrare, aggregare e preparare in altro modo i dati per l'analisi.</span><span class="sxs-lookup"><span data-stu-id="61e96-140">Because the data sets are so large, often a big data solution must process data files using long-running batch jobs to filter, aggregate, and otherwise prepare the data for analysis.</span></span> <span data-ttu-id="61e96-141">In genere questi processi prevedono la lettura dei file di origine, la relativa elaborazione e la scrittura dell'output in nuovi file.</span><span class="sxs-lookup"><span data-stu-id="61e96-141">Usually these jobs involve reading source files, processing them, and writing the output to new files.</span></span> <span data-ttu-id="61e96-142">Le opzioni includono l'esecuzione di processi U-SQL in Azure Data Lake Analytics, l'utilizzo di Hive, Pig o di processi MapReduce personalizzati in un cluster HDInsight Hadoop o l'utilizzo di programmi Java, Scala o Python in un cluster HDInsight Spark.</span><span class="sxs-lookup"><span data-stu-id="61e96-142">Options include running U-SQL jobs in Azure Data Lake Analytics, using Hive, Pig, or custom Map/Reduce jobs in an HDInsight Hadoop cluster, or using Java, Scala, or Python programs in an HDInsight Spark cluster.</span></span>

* <span data-ttu-id="61e96-143">**Inserimento di messaggi in tempo reale**.</span><span class="sxs-lookup"><span data-stu-id="61e96-143">**Real-time message ingestion**.</span></span> <span data-ttu-id="61e96-144">Se la soluzione include origini in tempo reale, l'architettura deve includere un modo per acquisire e archiviare i messaggi in tempo reale per l'elaborazione del flusso.</span><span class="sxs-lookup"><span data-stu-id="61e96-144">If the solution includes real-time sources, the architecture must include a way to capture and store real-time messages for stream processing.</span></span> <span data-ttu-id="61e96-145">Potrebbe trattarsi di un archivio dati semplice in cui i messaggi in ingresso vengono rilasciati in una cartella per l'elaborazione.</span><span class="sxs-lookup"><span data-stu-id="61e96-145">This might be a simple data store, where incoming messages are dropped into a folder for processing.</span></span> <span data-ttu-id="61e96-146">Tuttavia, molte soluzioni richiedono che un archivio di inserimento dei messaggi funga da buffer per i messaggi e supporti l'elaborazione scale-out, il recapito affidabile e altri tipi di semantica di accodamento dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="61e96-146">However, many solutions need a message ingestion store to act as a buffer for messages, and to support scale-out processing, reliable delivery, and other message queuing semantics.</span></span> <span data-ttu-id="61e96-147">Questa parte dell'architettura per l'elaborazione del flusso è spesso definita memorizzazione nel buffer del flusso.</span><span class="sxs-lookup"><span data-stu-id="61e96-147">This portion of a streaming architecture is often referred to as stream buffering.</span></span> <span data-ttu-id="61e96-148">Le opzioni includono Hub eventi di Azure, l'hub IoT di Azure e Kafka.</span><span class="sxs-lookup"><span data-stu-id="61e96-148">Options include Azure Event Hubs, Azure IoT Hub, and Kafka.</span></span>

* <span data-ttu-id="61e96-149">**Elaborazione del flusso**.</span><span class="sxs-lookup"><span data-stu-id="61e96-149">**Stream processing**.</span></span> <span data-ttu-id="61e96-150">Dopo avere acquisito i messaggi in tempo reale, la soluzione deve elaborarli filtrando, aggregando e preparando in altro modo i dati per l'analisi.</span><span class="sxs-lookup"><span data-stu-id="61e96-150">After capturing real-time messages, the solution must process them by filtering, aggregating, and otherwise preparing the data for analysis.</span></span> <span data-ttu-id="61e96-151">I dati del flusso elaborati vengono quindi scritti in un sink di output.</span><span class="sxs-lookup"><span data-stu-id="61e96-151">The processed stream data is then written to an output sink.</span></span> <span data-ttu-id="61e96-152">Analisi di flusso di Azure offre un servizio di elaborazione del flusso gestito basato su query SQL in esecuzione perenne che operano su flussi non associati.</span><span class="sxs-lookup"><span data-stu-id="61e96-152">Azure Stream Analytics provides a managed stream processing service based on perpetually running SQL queries that operate on unbounded streams.</span></span> <span data-ttu-id="61e96-153">È possibile anche usare tecnologie di streaming open source di Apache, come Storm e Spark Streaming in un cluster HDInsight.</span><span class="sxs-lookup"><span data-stu-id="61e96-153">You can also use open source Apache streaming technologies like Storm and Spark Streaming in an HDInsight cluster.</span></span>

* <span data-ttu-id="61e96-154">**Archivio dati analitici**.</span><span class="sxs-lookup"><span data-stu-id="61e96-154">**Analytical data store**.</span></span> <span data-ttu-id="61e96-155">Numerose soluzioni per Big Data preparano i dati per l'analisi e quindi servono i dati elaborati in un formato strutturato su cui è possibile eseguire query con strumenti analitici.</span><span class="sxs-lookup"><span data-stu-id="61e96-155">Many big data solutions prepare data for analysis and then serve the processed data in a structured format that can be queried using analytical tools.</span></span> <span data-ttu-id="61e96-156">L'archivio dati analitici usato per rispondere a queste query può essere un data warehouse relazionale in stile Kimball, come nella maggior parte delle soluzioni di business intelligence (BI) tradizionali.</span><span class="sxs-lookup"><span data-stu-id="61e96-156">The analytical data store used to serve these queries can be a Kimball-style relational data warehouse, as seen in most traditional business intelligence (BI) solutions.</span></span> <span data-ttu-id="61e96-157">In alternativa, i dati possono essere presentati tramite una tecnologia NoSQL a bassa latenza come HBase o un database Hive interattivo che fornisce un'astrazione di metadati sui file di dati nell'archivio dati distribuito.</span><span class="sxs-lookup"><span data-stu-id="61e96-157">Alternatively, the data could be presented through a low-latency NoSQL technology such as HBase, or an interactive Hive database that provides a metadata abstraction over data files in the distributed data store.</span></span> <span data-ttu-id="61e96-158">Azure SQL Data Warehouse fornisce un servizio gestito per il data warehousing su larga scala basato su cloud.</span><span class="sxs-lookup"><span data-stu-id="61e96-158">Azure SQL Data Warehouse provides a managed service for large-scale, cloud-based data warehousing.</span></span> <span data-ttu-id="61e96-159">HDInsight supporta Interactive Hive, HBase e Spark SQL, che possono anche essere usati per fornire dati per l'analisi.</span><span class="sxs-lookup"><span data-stu-id="61e96-159">HDInsight supports Interactive Hive, HBase, and Spark SQL, which can also be used to serve data for analysis.</span></span>

* <span data-ttu-id="61e96-160">**Analisi e creazione di report**.</span><span class="sxs-lookup"><span data-stu-id="61e96-160">**Analysis and reporting**.</span></span> <span data-ttu-id="61e96-161">L'obiettivo della maggior parte delle soluzioni per Big Data è fornire informazioni dettagliate sui dati tramite strumenti di analisi e report.</span><span class="sxs-lookup"><span data-stu-id="61e96-161">The goal of most big data solutions is to provide insights into the data through analysis and reporting.</span></span> <span data-ttu-id="61e96-162">Per consentire agli utenti di analizzare i dati, l'architettura può includere un livello di modellazione dei dati, ad esempio un cubo OLAP multidimensionale o un modello di dati tabulari in Azure Analysis Services.</span><span class="sxs-lookup"><span data-stu-id="61e96-162">To empower users to analyze the data, the architecture may include a data modeling layer, such as a multidimensional OLAP cube or tabular data model in Azure Analysis Services.</span></span> <span data-ttu-id="61e96-163">Potrebbe inoltre supportare la business intelligence in modalità self-service, usando le tecnologie di modellazione e visualizzazione in Microsoft Power BI o Microsoft Excel.</span><span class="sxs-lookup"><span data-stu-id="61e96-163">It might also support self-service BI, using the modeling and visualization technologies in Microsoft Power BI or Microsoft Excel.</span></span> <span data-ttu-id="61e96-164">L'analisi e il reporting possono anche assumere la forma di esplorazione interattiva dei dati da parte di data scientist o analisti di dati.</span><span class="sxs-lookup"><span data-stu-id="61e96-164">Analysis and reporting can also take the form of interactive data exploration by data scientists or data analysts.</span></span> <span data-ttu-id="61e96-165">Per questi scenari, molti servizi di Azure supportano notebook analitici come Jupyter, consentendo a questi utenti di sfruttare le proprie competenze esistenti con Python o R. Per l'esplorazione di dati su larga scala, è possibile usare Microsoft R Server, sia autonomo che con Spark.</span><span class="sxs-lookup"><span data-stu-id="61e96-165">For these scenarios, many Azure services support analytical notebooks, such as Jupyter, enabling these users to leverage their existing skills with Python or R. For large-scale data exploration, you can use Microsoft R Server, either standalone or with Spark.</span></span>

* <span data-ttu-id="61e96-166">**Orchestrazione**.</span><span class="sxs-lookup"><span data-stu-id="61e96-166">**Orchestration**.</span></span> <span data-ttu-id="61e96-167">La maggior parte delle soluzioni per Big Data consiste in operazioni ripetute di elaborazione dei dati, incapsulate in flussi di lavoro, che trasformano i dati di origine, spostano i dati tra più origini e sink, caricano i dati elaborati in un archivio dati analitico o li inseriscono direttamente in un report o in un dashboard.</span><span class="sxs-lookup"><span data-stu-id="61e96-167">Most big data solutions consist of repeated data processing operations, encapsulated in workflows, that transform source data, move data between multiple sources and sinks, load the processed data into an analytical data store, or push the results straight to a report or dashboard.</span></span> <span data-ttu-id="61e96-168">Per automatizzare questi flussi di lavoro, è possibile usare una tecnologia di orchestrazione come Azure Data Factory o Apache Oozie e Sqoop.</span><span class="sxs-lookup"><span data-stu-id="61e96-168">To automate these workflows, you can use an orchestration technology such Azure Data Factory or Apache Oozie and Sqoop.</span></span>

## <a name="lambda-architecture"></a><span data-ttu-id="61e96-169">Architettura lambda</span><span class="sxs-lookup"><span data-stu-id="61e96-169">Lambda architecture</span></span>

<span data-ttu-id="61e96-170">Quando si lavora con set di dati di dimensioni molto grandi, può essere necessaria una notevole quantità di tempo per eseguire le query adatte ai requisiti dei client.</span><span class="sxs-lookup"><span data-stu-id="61e96-170">When working with very large data sets, it can take a long time to run the sort of queries that clients need.</span></span> <span data-ttu-id="61e96-171">Le query di questo tipo non possono essere eseguite in tempo reale e spesso richiedono algoritmi, come [MapReduce](https://en.wikipedia.org/wiki/MapReduce), che operano in parallelo sull'intero set di dati.</span><span class="sxs-lookup"><span data-stu-id="61e96-171">These queries can't be performed in real time, and often require algorithms such as [MapReduce](https://en.wikipedia.org/wiki/MapReduce) that operate in parallel across the entire data set.</span></span> <span data-ttu-id="61e96-172">I risultati vengono quindi archiviati separatamente rispetto ai dati non elaborati e usati per ulteriori query.</span><span class="sxs-lookup"><span data-stu-id="61e96-172">The results are then stored separately from the raw data and used for querying.</span></span>

<span data-ttu-id="61e96-173">Uno svantaggio di questo approccio è dato dalla latenza. Se l'elaborazione richiede alcune ore, è possibile che una query restituisca risultati che risalgono a diverse ore prima.</span><span class="sxs-lookup"><span data-stu-id="61e96-173">One drawback to this approach is that it introduces latency &mdash; if processing takes a few hours, a query may return results that are several hours old.</span></span> <span data-ttu-id="61e96-174">L'ideale sarebbe ottenere alcuni risultati in tempo reale, anche se con una perdita di precisione, e combinarli con quelli provenienti dall'analisi in batch.</span><span class="sxs-lookup"><span data-stu-id="61e96-174">Ideally, you would like to get some results in real time (perhaps with some loss of accuracy), and combine these results with the results from the batch analytics.</span></span>

<span data-ttu-id="61e96-175">L'**architettura lambda**, proposta per la prima volta da Nathan Marz, risolve questo problema creando due percorsi per il flusso di dati.</span><span class="sxs-lookup"><span data-stu-id="61e96-175">The **lambda architecture**, first proposed by Nathan Marz, addresses this problem by creating two paths for data flow.</span></span> <span data-ttu-id="61e96-176">Tutti i dati in ingresso nel sistema passano attraverso questi due percorsi:</span><span class="sxs-lookup"><span data-stu-id="61e96-176">All data coming into the system goes through these two paths:</span></span>

* <span data-ttu-id="61e96-177">Un **livello di elaborazione batch** (percorso ad accesso sporadico) archivia tutti i dati in ingresso nella forma non elaborata ed esegue l'elaborazione batch sui dati.</span><span class="sxs-lookup"><span data-stu-id="61e96-177">A **batch layer** (cold path) stores all of the incoming data in its raw form and performs batch processing on the data.</span></span> <span data-ttu-id="61e96-178">Il risultato di questa elaborazione viene archiviato come **visualizzazione batch**.</span><span class="sxs-lookup"><span data-stu-id="61e96-178">The result of this processing is stored as a **batch view**.</span></span>

* <span data-ttu-id="61e96-179">Un **livello di elaborazione rapida** (percorso ad accesso frequente) analizza i dati in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="61e96-179">A **speed layer** (hot path) analyzes data in real time.</span></span> <span data-ttu-id="61e96-180">Questo livello è stato progettato per offrire una bassa latenza, a scapito della precisione.</span><span class="sxs-lookup"><span data-stu-id="61e96-180">This layer is designed for low latency, at the expense of accuracy.</span></span>

<span data-ttu-id="61e96-181">Il livello di elaborazione batch confluisce in un **livello di gestione** che indicizza la visualizzazione batch per un'elaborazione efficiente delle query.</span><span class="sxs-lookup"><span data-stu-id="61e96-181">The batch layer feeds into a **serving layer** that indexes the batch view for efficient querying.</span></span> <span data-ttu-id="61e96-182">Il livello di elaborazione rapida aggiorna in modo incrementale il livello di gestione in base ai dati più recenti.</span><span class="sxs-lookup"><span data-stu-id="61e96-182">The speed layer updates the serving layer with incremental updates based on the most recent data.</span></span>

![Diagramma dell'architettura lambda](./images/lambda.png)

<span data-ttu-id="61e96-184">I dati che confluiscono nel percorso ad accesso frequente sono vincolati dai requisiti di latenza imposti dal livello di elaborazione rapida, in modo da essere elaborati il più velocemente possibile.</span><span class="sxs-lookup"><span data-stu-id="61e96-184">Data that flows into the hot path is constrained by latency requirements imposed by the speed layer, so that it can be processed as quickly as possible.</span></span> <span data-ttu-id="61e96-185">È spesso necessario raggiungere un compromesso tra il livello di precisione dei dati e la velocità con cui risultano disponibili.</span><span class="sxs-lookup"><span data-stu-id="61e96-185">Often, this requires a tradeoff of some level of accuracy in favor of data that is ready as quickly as possible.</span></span> <span data-ttu-id="61e96-186">Si consideri ad esempio uno scenario di Internet delle cose in cui un numero elevato di sensori di temperatura inviano dati di telemetria.</span><span class="sxs-lookup"><span data-stu-id="61e96-186">For example, consider an IoT scenario where a large number of temperature sensors are sending telemetry data.</span></span> <span data-ttu-id="61e96-187">Il livello di elaborazione rapida può essere usato per elaborare i dati in ingresso in una finestra temporale scorrevole.</span><span class="sxs-lookup"><span data-stu-id="61e96-187">The speed layer may be used to process a sliding time window of the incoming data.</span></span> 

<span data-ttu-id="61e96-188">Diversamente da questo flusso, i dati che confluiscono nel percorso ad accesso sporadico non sono soggetti agli stessi requisiti di bassa latenza.</span><span class="sxs-lookup"><span data-stu-id="61e96-188">Data flowing into the cold path, on the other hand, is not subject to the same low latency requirements.</span></span> <span data-ttu-id="61e96-189">In questo modo si può eseguire anche un'elaborazione più precisa di grandi set di dati, che può però richiedere molto tempo.</span><span class="sxs-lookup"><span data-stu-id="61e96-189">This allows for high accuracy computation across large data sets, which can be very time intensive.</span></span> 

<span data-ttu-id="61e96-190">I percorsi ad accesso frequente e sporadico convergono infine nell'applicazione client usata per l'analisi.</span><span class="sxs-lookup"><span data-stu-id="61e96-190">Eventually, the hot and cold paths converge at the analytics client application.</span></span> <span data-ttu-id="61e96-191">Se il client deve visualizzare dati in tempo reale, e quindi immediatamente disponibili anche se meno precisi, acquisirà i risultati dal percorso ad accesso frequente.</span><span class="sxs-lookup"><span data-stu-id="61e96-191">If the client needs to display timely, yet potentially less accurate data in real time, it will acquire its result from the hot path.</span></span> <span data-ttu-id="61e96-192">In caso contrario, selezionerà i risultati dal percorso ad accesso sporadico per visualizzare dati più precisi ma meno immediati.</span><span class="sxs-lookup"><span data-stu-id="61e96-192">Otherwise, it will select results from the cold path to display less timely but more accurate data.</span></span> <span data-ttu-id="61e96-193">In altre parole, il percorso ad accesso frequente contiene dati per un intervallo di tempo relativamente breve, dopo il quale i risultati possono essere aggiornati con dati più precisi provenienti dal percorso ad accesso sporadico.</span><span class="sxs-lookup"><span data-stu-id="61e96-193">In other words, the hot path has data for a relatively small window of time, after which the results can be updated with more accurate data from the cold path.</span></span>

<span data-ttu-id="61e96-194">I dati non elaborati archiviati al livello di elaborazione batch non sono modificabili.</span><span class="sxs-lookup"><span data-stu-id="61e96-194">The raw data stored at the batch layer is immutable.</span></span> <span data-ttu-id="61e96-195">I dati in ingresso vengono sempre aggiunti a quelli già esistenti, che non vengono mai sovrascritti.</span><span class="sxs-lookup"><span data-stu-id="61e96-195">Incoming data is always appended to the existing data, and the previous data is never overwritten.</span></span> <span data-ttu-id="61e96-196">Le eventuali modifiche apportate al valore di un particolare dato vengono archiviate come un nuovo record di evento con timestamp.</span><span class="sxs-lookup"><span data-stu-id="61e96-196">Any changes to the value of a particular datum are stored as a new timestamped event record.</span></span> <span data-ttu-id="61e96-197">Ciò consente di eseguire in qualsiasi momento il ricalcolo sulla cronologia dei dati raccolti.</span><span class="sxs-lookup"><span data-stu-id="61e96-197">This allows for recomputation at any point in time across the history of the data collected.</span></span> <span data-ttu-id="61e96-198">La possibilità di ricalcolare la visualizzazione batch rispetto ai dati originali non elaborati è importante perché consente di creare nuove visualizzazioni di pari passo con l'evoluzione del sistema.</span><span class="sxs-lookup"><span data-stu-id="61e96-198">The ability to recompute the batch view from the original raw data is important, because it allows for new views to be created as the system evolves.</span></span> 

## <a name="kappa-architecture"></a><span data-ttu-id="61e96-199">Architettura kappa</span><span class="sxs-lookup"><span data-stu-id="61e96-199">Kappa architecture</span></span>

<span data-ttu-id="61e96-200">Uno svantaggio dell'architettura lambda è dato dalla sua complessità.</span><span class="sxs-lookup"><span data-stu-id="61e96-200">A drawback to the lambda architecture is its complexity.</span></span> <span data-ttu-id="61e96-201">La logica di elaborazione viene applicata a due percorsi diversi, ad accesso frequente e sporadico, usando framework distinti.</span><span class="sxs-lookup"><span data-stu-id="61e96-201">Processing logic appears in two different places &mdash; the cold and hot paths &mdash; using different frameworks.</span></span> <span data-ttu-id="61e96-202">La presenza di due percorsi ha l'effetto di duplicare la logica di calcolo e di rendere più complessa la gestione dell'architettura.</span><span class="sxs-lookup"><span data-stu-id="61e96-202">This leads to duplicate computation logic and the complexity of managing the architecture for both paths.</span></span>

<span data-ttu-id="61e96-203">In alternativa all'architettura lamba, Jay Kreps ha proposto l'**architettura kappa**,</span><span class="sxs-lookup"><span data-stu-id="61e96-203">The **kappa architecture** was proposed by Jay Kreps as an alternative to the lambda architecture.</span></span> <span data-ttu-id="61e96-204">con gli stessi obiettivi di base della precedente, ma una differenza importante. Tutti i flussi di dati passano attraverso un unico percorso, in base a un sistema di elaborazione di flussi.</span><span class="sxs-lookup"><span data-stu-id="61e96-204">It has the same basic goals as the lambda architecture, but with an important distinction: All data flows through a single path, using a stream processing system.</span></span> 

![Diagramma dell'architettura kappa](./images/kappa.png)

<span data-ttu-id="61e96-206">Questa architettura presenta alcune analogie con il livello di elaborazione batch dell'architettura lambda, in quanto i dati degli eventi non sono modificabili e vengono raccolti per intero, anziché in subset.</span><span class="sxs-lookup"><span data-stu-id="61e96-206">There are some similarities to the lambda architecture's batch layer, in that the event data is immutable and all of it is collected, instead of a subset.</span></span> <span data-ttu-id="61e96-207">I dati vengono inseriti come flusso di eventi in un unico log distribuito a tolleranza di errore.</span><span class="sxs-lookup"><span data-stu-id="61e96-207">The data is ingested as a stream of events into a distributed and fault tolerant unified log.</span></span> <span data-ttu-id="61e96-208">Gli eventi vengono ordinati e lo stato corrente di un evento viene modificato solo in caso di accodamento di un nuovo evento.</span><span class="sxs-lookup"><span data-stu-id="61e96-208">These events are ordered, and the current state of an event is changed only by a new event being appended.</span></span> <span data-ttu-id="61e96-209">In modo analogo al livello di elaborazione rapida dell'architettura lambda, l'intera elaborazione degli eventi viene eseguita nel flusso di input e salvata in modo persistente come visualizzazione in tempo reale.</span><span class="sxs-lookup"><span data-stu-id="61e96-209">Similar to a lambda architecture's speed layer, all event processing is performed on the input stream and persisted as a real-time view.</span></span> 

<span data-ttu-id="61e96-210">Se è necessario ricalcolare l'intero set di dati, come avviene nel livello di elaborazione batch dell'architettura lambda, è sufficiente riprodurre il flusso. Per completare questo calcolo in modo rapido viene normalmente usato il parallelismo.</span><span class="sxs-lookup"><span data-stu-id="61e96-210">If you need to recompute the entire data set (equivalent to what the batch layer does in lambda), you simply replay the stream, typically using parallelism to complete the computation in a timely fashion.</span></span>

## <a name="internet-of-things-iot"></a><span data-ttu-id="61e96-211">Internet delle cose</span><span class="sxs-lookup"><span data-stu-id="61e96-211">Internet of Things (IoT)</span></span>

<span data-ttu-id="61e96-212">Da un punto di vista strettamente pratico, per Internet delle cose si intende qualsiasi dispositivo connesso a Internet,</span><span class="sxs-lookup"><span data-stu-id="61e96-212">From a practical viewpoint, Internet of Things (IoT) represents any device that is connected to the Internet.</span></span> <span data-ttu-id="61e96-213">ovvero un PC, uno smartphone, uno smartwatch, un termostato intelligente, un frigorifero smart, un'automobile connessa, un monitor cardiaco impiantabile e qualsiasi altro oggetto che si connette a Internet per inviare o ricevere dati.</span><span class="sxs-lookup"><span data-stu-id="61e96-213">This includes your PC, mobile phone, smart watch, smart thermostat, smart refrigerator, connected automobile, heart monitoring implants, and anything else that connects to the Internet and sends or receives data.</span></span> <span data-ttu-id="61e96-214">Il numero di dispositivi connessi cresce di giorno in giorno, di pari passo con la quantità di dati che questi dispositivi raccolgono.</span><span class="sxs-lookup"><span data-stu-id="61e96-214">The number of connected devices grows every day, as does the amount of data collected from them.</span></span> <span data-ttu-id="61e96-215">In molti casi i dati vengono raccolti in ambienti estremamente limitati, talvolta con una latenza molto elevata.</span><span class="sxs-lookup"><span data-stu-id="61e96-215">Often this data is being collected in highly constrained, sometimes high-latency environments.</span></span> <span data-ttu-id="61e96-216">In altri casi, tuttavia, i dati vengono inviati da ambienti a bassa latenza per migliaia o milioni di dispositivi e richiedono quindi un'architettura in grado di inserirli rapidamente ed elaborarli di conseguenza.</span><span class="sxs-lookup"><span data-stu-id="61e96-216">In other cases, data is sent from low-latency environments by thousands or millions of devices, requiring the ability to rapidly ingest the data and process accordingly.</span></span> <span data-ttu-id="61e96-217">Per gestire questi vincoli e requisiti specifici è pertanto necessaria un'adeguata pianificazione.</span><span class="sxs-lookup"><span data-stu-id="61e96-217">Therefore, proper planning is required to handle these constraints and unique requirements.</span></span>

<span data-ttu-id="61e96-218">Le architetture guidate dagli eventi sono centrali per le soluzioni IoT.</span><span class="sxs-lookup"><span data-stu-id="61e96-218">Event-driven architectures are central to IoT solutions.</span></span> <span data-ttu-id="61e96-219">Il diagramma seguente mostra una possibile architettura logica per IoT.</span><span class="sxs-lookup"><span data-stu-id="61e96-219">The following diagram shows a possible logical architecture for IoT.</span></span> <span data-ttu-id="61e96-220">Il diagramma evidenzia i componenti del flusso di eventi dell'architettura.</span><span class="sxs-lookup"><span data-stu-id="61e96-220">The diagram emphasizes the event-streaming components of the architecture.</span></span>

![Architettura IoT](../../guide/architecture-styles/images/iot.png)

<span data-ttu-id="61e96-222">Il **gateway cloud** inserisce gli eventi di dispositivo in corrispondenza dei limiti del cloud, usando un sistema di messaggistica a bassa latenza affidabile.</span><span class="sxs-lookup"><span data-stu-id="61e96-222">The **cloud gateway** ingests device events at the cloud boundary, using a reliable, low latency messaging system.</span></span>

<span data-ttu-id="61e96-223">I dispositivi possono inviare eventi direttamente al gateway cloud oppure attraverso un **gateway sul campo**.</span><span class="sxs-lookup"><span data-stu-id="61e96-223">Devices might send events directly to the cloud gateway, or through a **field gateway**.</span></span> <span data-ttu-id="61e96-224">Un gateway sul campo è un dispositivo o un prodotto software specializzato, in genere collocato insieme ai dispositivi, che riceve gli eventi e li inoltra al gateway cloud.</span><span class="sxs-lookup"><span data-stu-id="61e96-224">A field gateway is a specialized device or software, usually collocated with the devices, that receives events and forwards them to the cloud gateway.</span></span> <span data-ttu-id="61e96-225">Il gateway sul campo può anche pre-elaborare gli eventi di dispositivo non elaborati, eseguendo funzioni come l'applicazione di filtri, l'aggregazione o la trasformazione del protocollo.</span><span class="sxs-lookup"><span data-stu-id="61e96-225">The field gateway might also preprocess the raw device events, performing functions such as filtering, aggregation, or protocol transformation.</span></span>

<span data-ttu-id="61e96-226">Dopo l'inserimento, gli eventi passano da uno o più **elaboratori di flussi**, che possono instradare i dati (ad esempio all'archiviazione) o eseguire analisi e altri tipi di elaborazione.</span><span class="sxs-lookup"><span data-stu-id="61e96-226">After ingestion, events go through one or more **stream processors** that can route the data (for example, to storage) or perform analytics and other processing.</span></span>

<span data-ttu-id="61e96-227">Di seguito vengono indicati alcuni tipi comuni di elaborazione.</span><span class="sxs-lookup"><span data-stu-id="61e96-227">The following are some common types of processing.</span></span> <span data-ttu-id="61e96-228">Naturalmente, l'elenco non è esaustivo.</span><span class="sxs-lookup"><span data-stu-id="61e96-228">(This list is certainly not exhaustive.)</span></span>

- <span data-ttu-id="61e96-229">Scrittura dei dati di evento nell'archiviazione offline sicura per l'analisi batch.</span><span class="sxs-lookup"><span data-stu-id="61e96-229">Writing event data to cold storage, for archiving or batch analytics.</span></span>

- <span data-ttu-id="61e96-230">Analisi Percorso critico, che analizza il flusso di eventi (quasi) in tempo reale, per rilevare le anomalie, riconoscere i modelli in base a intervalli di tempo ricorrenti o attivare avvisi quando si verifica una condizione specifica nel flusso.</span><span class="sxs-lookup"><span data-stu-id="61e96-230">Hot path analytics, analyzing the event stream in (near) real time, to detect anomalies, recognize patterns over rolling time windows, or trigger alerts when a specific condition occurs in the stream.</span></span> 

- <span data-ttu-id="61e96-231">Gestione di tipi speciali di messaggi non di telemetria dai dispositivi, come le notifiche e gli allarmi.</span><span class="sxs-lookup"><span data-stu-id="61e96-231">Handling special types of nontelemetry messages from devices, such as notifications and alarms.</span></span> 

- <span data-ttu-id="61e96-232">Machine Learning.</span><span class="sxs-lookup"><span data-stu-id="61e96-232">Machine learning.</span></span>

<span data-ttu-id="61e96-233">Le caselle in grigio mostrano i componenti di un sistema IoT non direttamente correlati al flusso di eventi, ma che sono stati inclusi per completezza.</span><span class="sxs-lookup"><span data-stu-id="61e96-233">The boxes that are shaded gray show components of an IoT system that are not directly related to event streaming, but are included here for completeness.</span></span>

- <span data-ttu-id="61e96-234">Il **registro dei dispositivi** è un database dei dispositivi di cui è stato effettuato il provisioning e include gli ID dispositivo e in genere i metadati dei dispositivi, come la posizione.</span><span class="sxs-lookup"><span data-stu-id="61e96-234">The **device registry** is a database of the provisioned devices, including the device IDs and usually device metadata, such as location.</span></span>

- <span data-ttu-id="61e96-235">L'**API di provisioning** è un'interfaccia esterna comune per il provisioning e la registrazione di nuovi dispositivi.</span><span class="sxs-lookup"><span data-stu-id="61e96-235">The **provisioning API** is a common external interface for provisioning and registering new devices.</span></span>

- <span data-ttu-id="61e96-236">Alcune soluzioni IoT consentono l'invio di **messaggi di comando e controllo** ai dispositivi.</span><span class="sxs-lookup"><span data-stu-id="61e96-236">Some IoT solutions allow **command and control messages** to be sent to devices.</span></span>

<span data-ttu-id="61e96-237">Servizi di Azure pertinenti:</span><span class="sxs-lookup"><span data-stu-id="61e96-237">Relevant Azure services:</span></span>

- [<span data-ttu-id="61e96-238">Hub IoT Azure</span><span class="sxs-lookup"><span data-stu-id="61e96-238">Azure IoT Hub</span></span>](https://azure.microsoft.com/services/iot-hub/)
- [<span data-ttu-id="61e96-239">Hub eventi di Azure</span><span class="sxs-lookup"><span data-stu-id="61e96-239">Azure Event Hubs</span></span>](https://azure.microsoft.com/services/event-hubs/)
- [<span data-ttu-id="61e96-240">Azure Stream Analytics</span><span class="sxs-lookup"><span data-stu-id="61e96-240">Azure Stream Analytics</span></span>](https://azure.microsoft.com/services/stream-analytics/)  

<span data-ttu-id="61e96-241">Per altre informazioni sulle soluzioni di Internet delle cose in Azure, vedere [Azure IoT reference architecture](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/) (Architettura di riferimento di Azure IoT).</span><span class="sxs-lookup"><span data-stu-id="61e96-241">Learn more about IoT on Azure by reading the [Azure IoT reference architecture](https://azure.microsoft.com/updates/microsoft-azure-iot-reference-architecture-available/).</span></span>


