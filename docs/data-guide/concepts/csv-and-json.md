---
title: Elaborazione dei file in formato CSV e JSON
description: ''
author: zoinerTejada
ms:date: 02/12/2018
ms.openlocfilehash: 6b888ff230afefbd74249aa913e5bab66d47d7e2
ms.sourcegitcommit: c441fd165e6bebbbbbc19854ec6f3676be9c3b25
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 03/31/2018
---
# <a name="working-with-csv-and-json-files-for-data-solutions"></a><span data-ttu-id="d2d4b-102">Uso dei file in formato CSV e JSON per le soluzioni di dati</span><span class="sxs-lookup"><span data-stu-id="d2d4b-102">Working with CSV and JSON files for data solutions</span></span>

<span data-ttu-id="d2d4b-103">CSV e JSON sono probabilmente i formati più comuni usati per l'inserimento, lo scambio e l'archiviazione dei dati non strutturati o semistrutturati.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-103">CSV and JSON are likely the most common formats used for ingesting, exchanging, and storing unstructured or semi-structured data.</span></span> 

## <a name="about-csv-format"></a><span data-ttu-id="d2d4b-104">Informazioni sul formato CSV</span><span class="sxs-lookup"><span data-stu-id="d2d4b-104">About CSV format</span></span>

<span data-ttu-id="d2d4b-105">I file in formato CSV (Comma-Separated Values, valori delimitati da virgole) vengono comunemente usati per lo scambio di dati tabulari tra i sistemi in testo normale.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-105">CSV (comma-separated values) files are commonly used to exchange tabular data between systems in plain text.</span></span> <span data-ttu-id="d2d4b-106">Contengono in genere una riga di intestazione per i nomi delle colonne, ma sono considerati come dati semistrutturati</span><span class="sxs-lookup"><span data-stu-id="d2d4b-106">They typically contain a header row that provides column names for the data, but are otherwise considered semi-structured.</span></span> <span data-ttu-id="d2d4b-107">poiché il loro formato non può naturalmente rappresentare dati gerarchici o relazionali.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-107">This is due to the fact that CSVs cannot naturally represent hierarchical or relational data.</span></span> <span data-ttu-id="d2d4b-108">Le relazioni tra i dati vengono in genere gestite con più file in formato CSV. In tal caso, le chiavi esterne sono archiviate nelle colonne di uno o più file, ma le relazioni tra i file non sono espresse dal formato stesso.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-108">Data relationships are typically handled with multiple CSV files, where foreign keys are stored in columns of one or more files, but the relationships between those files are not expressed by the format itself.</span></span> <span data-ttu-id="d2d4b-109">Oltre alle virgole, nei file in formato CSV possono essere usati altri delimitatori, ad esempio le tabulazioni o gli spazi.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-109">Files in CSV format may use other delimiters besides commas, such as tabs or spaces.</span></span>

<span data-ttu-id="d2d4b-110">Nonostante queste limitazioni, i file in formato CSV sono comunemente usati per lo scambio di dati poiché sono supportati da un'ampia gamma di applicazioni aziendali, di tipo consumer o per uso scientifico.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-110">Despite their limitations, CSV files are a popular choice for data exchange, because they are supported by a wide range of business, consumer, and scientific applications.</span></span> <span data-ttu-id="d2d4b-111">I programmi per database e fogli di calcolo, ad esempio, possono importare ed esportare file in questo formato.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-111">For example, database and spreadsheet programs can import and export CSV files.</span></span> <span data-ttu-id="d2d4b-112">Analogamente, la maggior parte dei motori di elaborazione dei dati di flussi e batch, come Spark e Hadoop, include il supporto nativo per la serializzazione e la deserializzazione di file in formato CSV e offre tecniche per applicare uno schema in lettura.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-112">Similarly, most batch and stream data processing engines, such as Spark and Hadoop, natively support serializing and deserializing CSV-formatted files and offer ways to apply a schema on read.</span></span> <span data-ttu-id="d2d4b-113">In questo modo, i dati possono essere gestiti più facilmente grazie alla possibilità di eseguire query e archiviare le informazioni in un formato efficace per una rapida elaborazione.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-113">This makes it easier to work with the data, by offering options to query against it and store the information in a more efficient data format for faster processing.</span></span>

## <a name="about-json-format"></a><span data-ttu-id="d2d4b-114">Informazioni sul formato JSON</span><span class="sxs-lookup"><span data-stu-id="d2d4b-114">About JSON format</span></span>

<span data-ttu-id="d2d4b-115">I dati JSON (JavaScript Object Notation) sono rappresentati come coppie chiave-valore in un formato semistrutturato.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-115">JSON (JavaScript Object Notation) data is represented as key-value pairs in a semi-structured format.</span></span> <span data-ttu-id="d2d4b-116">Il formato JSON viene spesso paragonato al formato XML, poiché entrambi sono in grado di archiviare i dati in modo gerarchico, con i dati figlio rappresentati in linea con il relativo padre.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-116">JSON is often compared to XML, as both are capable of storing data in hierarchical format, with child data represented inline with its parent.</span></span> <span data-ttu-id="d2d4b-117">Entrambi i formati sono inoltre autodescrittivi e leggibili, anche se i documenti JSON tendono ad avere dimensioni più piccole. Questa caratteristica ne ha determinato la diffusione per lo scambio dei dati online, soprattutto con l'introduzione dei servizi Web basati su REST.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-117">Both are self-describing and human readable, but JSON documents tend to be much smaller, leading to their popular use in online data exchange, especially with the advent of REST-based web services.</span></span> 

<span data-ttu-id="d2d4b-118">I file in formato JSON presentano alcuni vantaggi rispetto a quelli in formato CSV:</span><span class="sxs-lookup"><span data-stu-id="d2d4b-118">JSON-formatted files have several benefits over CSV:</span></span>

* <span data-ttu-id="d2d4b-119">JSON mantiene le strutture gerarchiche e quindi consente di includere dati correlati in un unico documento e rappresentare relazioni complesse con più facilità.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-119">JSON maintains hierarchical structures, making it easier to hold related data in a single document and represent complex relationships.</span></span>
* <span data-ttu-id="d2d4b-120">La maggior parte dei linguaggi di programmazione offre il supporto nativo per la deserializzazione JSON in oggetti o fornisce librerie di tipo lightweight per la serializzazione JSON.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-120">Most programming languages provide native support for deserializing JSON into objects, or provide lightweight JSON serialization libraries.</span></span>
* <span data-ttu-id="d2d4b-121">JSON supporta gli elenchi di oggetti, consentendo così di evitare la conversione non corretta degli elenchi in un modello dati relazionale.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-121">JSON supports lists of objects, helping to avoid messy translations of lists into a relational data model.</span></span>
* <span data-ttu-id="d2d4b-122">JSON è un formato di file molto diffuso per i database NoSQL, ad esempio MongoDB, Couchbase e Azure Cosmos DB.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-122">JSON is a commonly used file format for NoSQL databases, such as MongoDB, Couchbase, and Azure Cosmos DB.</span></span>

<span data-ttu-id="d2d4b-123">Poiché una grande quantità di dati trasferiti attraverso la rete è già in formato JSON, la maggior parte dei linguaggi di programmazione basati sul Web supporta l'uso di JSON in modo nativo o tramite l'uso di librerie esterne per serializzare e deserializzare i dati JSON.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-123">Since a lot of data coming across the wire is already in JSON format, most web-based programming languages support working with JSON natively, or through the use of external libraries to serialize and deserialize JSON data.</span></span> <span data-ttu-id="d2d4b-124">Questo supporto universale per JSON ne ha determinato la diffusione in formati logici tramite la rappresentazione di strutture di dati, in formati di scambio per i dati ad accesso frequente e in formati di archiviazione per i dati ad accesso sporadico.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-124">This universal support for JSON has led to its use in logical formats through data structure representation, exchange formats for hot data, and data storage for cold data.</span></span>

<span data-ttu-id="d2d4b-125">Molti motori di elaborazione dei dati di flussi e batch includono il supporto nativo per la serializzazione e la deserializzazione JSON.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-125">Many batch and stream data processing engines natively support JSON serialization and deserialization.</span></span> <span data-ttu-id="d2d4b-126">Anche se i dati contenuti all'interno dei documenti JSON possono essere memorizzati in formati più efficienti, ottimizzati per le prestazioni, come Parquet o Avro, possono servire anche come fonte attendibile di dati non elaborati, che sono molto utili nel caso di specifiche esigenze di rielaborazione.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-126">Though the data contained within JSON documents may ultimately be stored in a more performance-optimized formats, such as Parquet or Avro, it serves as the raw data for source of truth, which is critical for reprocessing the data as needed.</span></span>

## <a name="when-to-use-csv-or-json-formats"></a><span data-ttu-id="d2d4b-127">Quando usare i formati CSV o JSON</span><span class="sxs-lookup"><span data-stu-id="d2d4b-127">When to use CSV or JSON formats</span></span>

<span data-ttu-id="d2d4b-128">I file in formato CSV sono comunemente usati per l'esportazione e l'importazione di dati o per l'elaborazione mediante sistemi di analisi e apprendimento automatico.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-128">CSVs are more commonly used for exporting and importing data, or processing it for analytics and machine learning.</span></span> <span data-ttu-id="d2d4b-129">I file in formato JSON offrono gli stessi vantaggi, ma sono più diffusi nelle soluzioni per lo scambio di dati ad accesso frequente.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-129">JSON-formatted files have the same benefits, but are more common in hot data exchange solutions.</span></span> <span data-ttu-id="d2d4b-130">I documenti JSON vengono spesso inviati dal Web e dai dispositivi mobili che eseguono transazioni online, dai dispositivi di Internet delle cose (IoT) per le comunicazioni unidirezionali o bidirezionali o dalle applicazioni client che comunicano con servizi SaaS e PaaS o architetture senza server.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-130">JSON documents are often sent by web and mobile devices performing online transactions, by IoT (internet of things) devices for one-way or bidirectional communication, or by client applications communicating with SaaS and PaaS services or serverless architectures.</span></span> 

<span data-ttu-id="d2d4b-131">Entrambi i formati di file CSV e JSON presentano il vantaggio di facilitare lo scambio di dati tra sistemi o dispositivi diversi.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-131">CSV and JSON file formats both make it easy to exchange data between dissimilar systems or devices.</span></span> <span data-ttu-id="d2d4b-132">Il carattere semistrutturato dei dati offre la flessibilità per trasferire quasi tutti i tipi di dati e il supporto universale disponibile per questi formati ne facilita notevolmente l'uso.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-132">Their semi-structured formats allow flexibility in transferring almost any type of data, and universal support for these formats make them simple to work with.</span></span> <span data-ttu-id="d2d4b-133">Entrambi possono essere usati come fonte affidabile di dati non elaborati, nel caso in cui quelli elaborati siano archiviati in formati binari, per eseguire query in modo più efficiente.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-133">Both can be used as the raw source of truth in cases where the processed data is stored in binary formats for more efficient querying.</span></span> 

## <a name="working-with-csv-and-json-data-in-azure"></a><span data-ttu-id="d2d4b-134">Uso dei dati in formato CSV e JSON in Azure</span><span class="sxs-lookup"><span data-stu-id="d2d4b-134">Working with CSV and JSON data in Azure</span></span>

<span data-ttu-id="d2d4b-135">Azure offre diverse soluzioni per l'uso dei file in formato CSV e JSON, a seconda delle esigenze.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-135">Azure provides several solutions for working with CSV and JSON files, depending on your needs.</span></span> <span data-ttu-id="d2d4b-136">Le principali aree di destinazione per i file in questo formato sono costituite da Archiviazione di Azure e Azure Data Lake Store.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-136">The primary landing place for these files is either Azure Storage or Azure Data Lake Store.</span></span> <span data-ttu-id="d2d4b-137">Quasi tutti i servizi di Azure che fanno uso di questi e di altri file basati su testo sono integrati con uno di questi due servizi di archiviazione di oggetti.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-137">Most Azure services that work with these and other text-based files integrate with either object storage service.</span></span> <span data-ttu-id="d2d4b-138">In alcuni casi, tuttavia, è possibile scegliere di importare direttamente i dati in un database SQL di Azure o in un altro archivio dati.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-138">In some situations, however, you may opt to directly import the data into Azure SQL or some other data store.</span></span> <span data-ttu-id="d2d4b-139">SQL Server offre il supporto nativo per l'archiviazione e l'uso di documenti JSON e consente quindi di [importare ed elaborare questi tipi di file](/sql/relational-databases/json/import-json-documents-into-sql-server) con facilità.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-139">SQL Server has native support for storing and working with JSON documents, which makes it easy to [import and process those types of files](/sql/relational-databases/json/import-json-documents-into-sql-server).</span></span> <span data-ttu-id="d2d4b-140">È inoltre possibile usare l'utilità SQL Bulk Import per eseguire facilmente l'[importazione di file in formato CSV](/sql/relational-databases/json/import-json-documents-into-sql-server).</span><span class="sxs-lookup"><span data-stu-id="d2d4b-140">You can use a utility like SQL Bulk Import to easily [import CSV files](/sql/relational-databases/json/import-json-documents-into-sql-server).</span></span>

<span data-ttu-id="d2d4b-141">A seconda dello scenario, è possibile eseguire l'[elaborazione batch](../scenarios/batch-processing.md) o l'[elaborazione in tempo reale](../scenarios/real-time-processing.md) dei dati.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-141">Depending on the scenario, you may perform [batch processing](../scenarios/batch-processing.md) or [real-time processing](../scenarios/real-time-processing.md) of the data.</span></span>

## <a name="challenges"></a><span data-ttu-id="d2d4b-142">Problematiche</span><span class="sxs-lookup"><span data-stu-id="d2d4b-142">Challenges</span></span>

<span data-ttu-id="d2d4b-143">Quando si usano questi formati è necessario tenere conto di alcune problematiche:</span><span class="sxs-lookup"><span data-stu-id="d2d4b-143">There are some challenges to consider when working with these formats:</span></span>

* <span data-ttu-id="d2d4b-144">Indipendentemente dal modello di dati, i file in formato CSV e JSON sono soggetti al rischio di danneggiamento dei dati ("garbage in, garbage out").</span><span class="sxs-lookup"><span data-stu-id="d2d4b-144">Without any restraints on the data model, CSV and JSON files are prone to data corruption ("garbage in, garbage out").</span></span> <span data-ttu-id="d2d4b-145">Ad esempio, in nessuno dei due formati di file è prevista la nozione di oggetto data/ora e pertanto non esiste alcun vincolo che impedisce l'inserimento di testo generico, come "ABC123", in un campo data.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-145">For instance, there's no notion of a date/time object in either file, so the file format does not prevent you from inserting "ABC123" in a date field, for example.</span></span>

* <span data-ttu-id="d2d4b-146">L'uso di file in formato CSV e JSON come soluzione di archiviazione offline sicura non consente una scalabilità adeguata quando si gestiscono Big Data.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-146">Using CSV and JSON files as your cold storage solution does not scale well when working with big data.</span></span> <span data-ttu-id="d2d4b-147">Nella maggior parte dei casi, i file di questo tipo non possono essere suddivisi in partizioni per l'elaborazione parallela e non consentono una compressione efficace come quella dei binari formati.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-147">In most cases, they cannot be split into partitions for parallel processing, and cannot be compressed as well as binary formats.</span></span> <span data-ttu-id="d2d4b-148">È per questo motivo che questi dati vengono spesso elaborati e archiviati in formati ottimizzati per la lettura, come Parquet e ORC (Optimized Row Columnar), che forniscono anche indici e statistiche inline sui dati contenuti.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-148">This often leads to processing and storing this data into read-optimized formats such as Parquet and ORC (optimized row columnar), which also provide indexes and inline statistics about the data contained.</span></span>

* <span data-ttu-id="d2d4b-149">Può essere necessario applicare uno schema ai dati semistrutturati per facilitare l'esecuzione di query e analisi.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-149">You may need to apply a schema on the semi-structured data to make it easier to query and analyze.</span></span> <span data-ttu-id="d2d4b-150">Ciò richiede in genere l'archiviazione dei dati in un formato diverso, conforme ai requisiti di archiviazione dell'ambiente in uso, ad esempio all'interno di un database.</span><span class="sxs-lookup"><span data-stu-id="d2d4b-150">Typically, this requires storing the data in another form that complies with your environment's data storage needs, such as within a database.</span></span>

