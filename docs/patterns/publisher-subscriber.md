---
title: Modello di pubblicazione/sottoscrizione
description: Abilitare un'applicazione all'annuncio di eventi a più consumer interessati in modalità asincrona.
keywords: schema progettuale
author: alexbuckgit
ms.date: 12/07/2018
ms.openlocfilehash: f47792dd60e65cac1ff06928d9ea100ed452933a
ms.sourcegitcommit: a0a9981e7586bed8d876a54e055dea1e392118f8
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 12/11/2018
ms.locfileid: "53233939"
---
# <a name="publisher-subscriber-pattern"></a><span data-ttu-id="544ad-104">Modello di pubblicazione/sottoscrizione</span><span class="sxs-lookup"><span data-stu-id="544ad-104">Publisher-Subscriber pattern</span></span>

<span data-ttu-id="544ad-105">Abilitare un'applicazione all'annuncio di eventi a più consumer interessati in modalità asincrona, senza accoppiamento di mittenti e destinatari.</span><span class="sxs-lookup"><span data-stu-id="544ad-105">Enable an application to announce events to multiple interested consumers aynchronously, without coupling the senders to the receivers.</span></span>

<span data-ttu-id="544ad-106">**Detto anche**: messaggistica pub/sub</span><span class="sxs-lookup"><span data-stu-id="544ad-106">**Also called**: Pub/sub messaging</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="544ad-107">Contesto e problema</span><span class="sxs-lookup"><span data-stu-id="544ad-107">Context and problem</span></span>

<span data-ttu-id="544ad-108">Nelle applicazioni basate su cloud e distribuite, i componenti del sistema spesso richiedono di fornire informazioni ad altri componenti appena si verificano gli eventi.</span><span class="sxs-lookup"><span data-stu-id="544ad-108">In cloud-based and distributed applications, components of the system often need to provide information to other components as events happen.</span></span>

<span data-ttu-id="544ad-109">La messaggistica asincrona è un metodo efficace per separare i mittenti dai consumer ed evitare il blocco del mittente in attesa di una risposta.</span><span class="sxs-lookup"><span data-stu-id="544ad-109">Asynchronous messaging is an effective way to decouple senders from consumers, and avoid blocking the sender to wait for a response.</span></span> <span data-ttu-id="544ad-110">Tuttavia, l'uso di una coda di messaggi dedicata per ogni consumer non si adatta in modo efficace a molti consumer.</span><span class="sxs-lookup"><span data-stu-id="544ad-110">However, using a dedicated message queue for each consumer does not effectively scale to many consumers.</span></span> <span data-ttu-id="544ad-111">Inoltre, alcuni dei consumer potrebbero essere interessati solo a un subset delle informazioni.</span><span class="sxs-lookup"><span data-stu-id="544ad-111">Also, some of the consumers might be interested in only a subset of the information.</span></span> <span data-ttu-id="544ad-112">Come può il mittente annunciare gli eventi a tutti i consumer interessati senza conoscere le loro identità?</span><span class="sxs-lookup"><span data-stu-id="544ad-112">How can the sender announce events to all interested consumers without knowing their identities?</span></span>

## <a name="solution"></a><span data-ttu-id="544ad-113">Soluzione</span><span class="sxs-lookup"><span data-stu-id="544ad-113">Solution</span></span>

<span data-ttu-id="544ad-114">Introdurre un sottosistema di messaggistica asincrona che include quanto segue:</span><span class="sxs-lookup"><span data-stu-id="544ad-114">Introduce an asynchronous messaging subsystem that includes the following:</span></span>

- <span data-ttu-id="544ad-115">Un canale di input di messaggistica usato dal mittente.</span><span class="sxs-lookup"><span data-stu-id="544ad-115">An input messaging channel used by the sender.</span></span> <span data-ttu-id="544ad-116">Il mittente, usando un formato di messaggio conosciuto, crea dei pacchetti di eventi nei messaggi e invia questi messaggi tramite il canale di input.</span><span class="sxs-lookup"><span data-stu-id="544ad-116">The sender packages events into messages, using a known message format, and sends these messages via the input channel.</span></span> <span data-ttu-id="544ad-117">In questo modello, il mittente viene chiamato anche *server di pubblicazione*.</span><span class="sxs-lookup"><span data-stu-id="544ad-117">The sender in this pattern is also called the *publisher*.</span></span>

  > [!NOTE]
  > <span data-ttu-id="544ad-118">Un *messaggio* è un pacchetto di dati.</span><span class="sxs-lookup"><span data-stu-id="544ad-118">A *message* is a packet of data.</span></span> <span data-ttu-id="544ad-119">Un *evento* è un messaggio che informa altri componenti di una modifica o un'azione che ha avuto luogo.</span><span class="sxs-lookup"><span data-stu-id="544ad-119">An *event* is a message that notifies other components about a change or an action that has taken place.</span></span>

- <span data-ttu-id="544ad-120">Un canale di output di messaggistica per ogni consumer.</span><span class="sxs-lookup"><span data-stu-id="544ad-120">One output messaging channel per consumer.</span></span> <span data-ttu-id="544ad-121">I consumer sono detti *sottoscrittori*.</span><span class="sxs-lookup"><span data-stu-id="544ad-121">The consumers are known as *subscribers*.</span></span>

- <span data-ttu-id="544ad-122">Un meccanismo per la copia di ogni messaggio dal canale di input ai canali di output per tutti i sottoscrittori interessati al messaggio.</span><span class="sxs-lookup"><span data-stu-id="544ad-122">A mechanism for copying each message from the input channel to the output channels for all subscribers interested in that message.</span></span> <span data-ttu-id="544ad-123">Questa operazione viene in genere gestita da un intermediario, ad esempio un bus di eventi o broker di messaggi.</span><span class="sxs-lookup"><span data-stu-id="544ad-123">This operation is typically handled by a intermediary such as a message broker or event bus.</span></span>

<span data-ttu-id="544ad-124">Il diagramma seguente mostra i componenti logici di questo modello:</span><span class="sxs-lookup"><span data-stu-id="544ad-124">The following diagram shows the logical components of this pattern:</span></span>

![Modello di pubblicazione/sottoscrizione tramite un broker di messaggi](./_images/publish-subscribe.png)
 
<span data-ttu-id="544ad-126">La messaggistica pub/sub offre i seguenti vantaggi:</span><span class="sxs-lookup"><span data-stu-id="544ad-126">Pub/sub messaging has the following benefits:</span></span>

- <span data-ttu-id="544ad-127">Separa i sottosistemi che devono ancora comunicare.</span><span class="sxs-lookup"><span data-stu-id="544ad-127">It decouples subsystems that still need to communicate.</span></span> <span data-ttu-id="544ad-128">I sottosistemi possono essere gestiti in modo indipendente, mentre i messaggi possono essere gestiti correttamente anche se uno o più destinatari sono offline.</span><span class="sxs-lookup"><span data-stu-id="544ad-128">Subsystems can be managed independently, and messages can be properly managed even if one or more receivers are offline.</span></span>

- <span data-ttu-id="544ad-129">Aumenta la scalabilità e migliora la velocità di risposta del mittente.</span><span class="sxs-lookup"><span data-stu-id="544ad-129">It increases scalability and improves responsiveness of the sender.</span></span> <span data-ttu-id="544ad-130">Il mittente può inviare rapidamente un singolo messaggio al canale di input, quindi tornare alle responsabilità di elaborazione principali.</span><span class="sxs-lookup"><span data-stu-id="544ad-130">The sender can quickly send a single message to the input channel, then return to its core processing responsibilities.</span></span> <span data-ttu-id="544ad-131">L'infrastruttura di messaggistica è responsabile nel garantire che i messaggi vengano recapitati ai sottoscrittori interessati.</span><span class="sxs-lookup"><span data-stu-id="544ad-131">The messaging infrastructure is responsible for ensuring messages are delivered to interested subscribers.</span></span>

- <span data-ttu-id="544ad-132">Migliora l'affidabilità.</span><span class="sxs-lookup"><span data-stu-id="544ad-132">It improves reliability.</span></span> <span data-ttu-id="544ad-133">La messaggistica asincrona consente alle applicazioni di continuare a eseguire carichi di lavoro elevati in modo uniforme, nonché a gestire in modo più efficace gli errori intermittenti.</span><span class="sxs-lookup"><span data-stu-id="544ad-133">Asynchronous messaging helps applications continue to run smoothly under increased loads and handle intermittent failures more effectively.</span></span>

- <span data-ttu-id="544ad-134">Permette l'elaborazione pianificata o posticipata.</span><span class="sxs-lookup"><span data-stu-id="544ad-134">It allows for deferred or scheduled processing.</span></span> <span data-ttu-id="544ad-135">I sottoscrittori possono attendere fino a orari di meno traffico prima di prelevare i messaggi, oppure questi ultimi possono essere instradati o elaborati in base a una pianificazione specifica.</span><span class="sxs-lookup"><span data-stu-id="544ad-135">Subscribers can wait to pick up messages until off-peak hours, or messages can be routed or processed according to a specific schedule.</span></span>

- <span data-ttu-id="544ad-136">Rende più semplice l'integrazione tra sistemi che usano piattaforme, linguaggi di programmazione o protocolli di comunicazione diversi, nonché tra sistemi locali e applicazioni in esecuzione nel cloud.</span><span class="sxs-lookup"><span data-stu-id="544ad-136">It enables simpler integration between systems using different platforms, programming languages, or communication protocols, as well as between on-premises systems and applications running in the cloud.</span></span>

- <span data-ttu-id="544ad-137">Semplifica i flussi di lavoro asincroni in un'organizzazione.</span><span class="sxs-lookup"><span data-stu-id="544ad-137">It facilitates asynchronous workflows across an enterprise.</span></span>

- <span data-ttu-id="544ad-138">Migliora la testabilità.</span><span class="sxs-lookup"><span data-stu-id="544ad-138">It improves testability.</span></span> <span data-ttu-id="544ad-139">I canali possono essere monitorati e i messaggi controllati o registrati come parte di una strategia generale di test di integrazione.</span><span class="sxs-lookup"><span data-stu-id="544ad-139">Channels can be monitored and messages can be inspected or logged as part of an overall integration test strategy.</span></span>

- <span data-ttu-id="544ad-140">Fornisce la separazione degli interessi per le applicazioni.</span><span class="sxs-lookup"><span data-stu-id="544ad-140">It provides separation of concerns for your applications.</span></span> <span data-ttu-id="544ad-141">Ciascuna applicazione può concentrarsi sulle sue principali capacità, mentre l'infrastruttura di messaggistica gestisce tutte le operazioni necessarie per indirizzare i messaggi a più consumer in modo affidabile.</span><span class="sxs-lookup"><span data-stu-id="544ad-141">Each application can focus on its core capabilities, while the messaging infrastructure handles everything required to reliably route messages to multiple consumers.</span></span> 

## <a name="issues-and-considerations"></a><span data-ttu-id="544ad-142">Considerazioni e problemi</span><span class="sxs-lookup"><span data-stu-id="544ad-142">Issues and considerations</span></span>

<span data-ttu-id="544ad-143">Prima di decidere come implementare questo modello, considerare quanto segue:</span><span class="sxs-lookup"><span data-stu-id="544ad-143">Consider the following points when deciding how to implement this pattern:</span></span>

- <span data-ttu-id="544ad-144">**Tecnologie esistenti.**</span><span class="sxs-lookup"><span data-stu-id="544ad-144">**Existing technologies.**</span></span> <span data-ttu-id="544ad-145">È altamente consigliato l'uso dei prodotti e servizi di messaggistica disponibili che supportano il modello di pubblicazione/sottoscrizione, anziché compilarne uno per conto proprio.</span><span class="sxs-lookup"><span data-stu-id="544ad-145">It is strongly recommended to use available messaging products and services that support a publish-subscribe model, rather than building your own.</span></span> <span data-ttu-id="544ad-146">In Azure, è consigliabile usare il [bus di servizio](/azure/service-bus-messaging/) oppure la [griglia di eventi](/azure/event-grid/).</span><span class="sxs-lookup"><span data-stu-id="544ad-146">In Azure, consider using [Service Bus](/azure/service-bus-messaging/) or [Event Grid](/azure/event-grid/).</span></span> <span data-ttu-id="544ad-147">Altre tecnologie che possono essere usate per la messaggistica pub/sub includono Apache Kafka, RabbitMQ e Redis.</span><span class="sxs-lookup"><span data-stu-id="544ad-147">Other technologies that can be used for pub/sub messaging include Redis, RabbitMQ, and Apache Kafka.</span></span>

- <span data-ttu-id="544ad-148">**Gestione delle sottoscrizioni.**</span><span class="sxs-lookup"><span data-stu-id="544ad-148">**Subscription handling.**</span></span> <span data-ttu-id="544ad-149">L'infrastruttura di messaggistica deve fornire meccanismi utili agli utenti per effettuare o annullare la sottoscrizione ai canali disponibili.</span><span class="sxs-lookup"><span data-stu-id="544ad-149">The messaging infrastructure must provide mechanisms that consumers can use to subscribe to or unsubscribe from available channels.</span></span>

- <span data-ttu-id="544ad-150">**Sicurezza.**</span><span class="sxs-lookup"><span data-stu-id="544ad-150">**Security.**</span></span> <span data-ttu-id="544ad-151">La connessione a un canale di messaggi deve essere limitata da criteri di sicurezza per impedire l'intercettazione da parte di utenti o applicazioni non autorizzate.</span><span class="sxs-lookup"><span data-stu-id="544ad-151">Connecting to any message channel must be restricted by security policy to prevent eavesdropping by unauthorized users or applications.</span></span>

- <span data-ttu-id="544ad-152">**Subset di messaggi.**</span><span class="sxs-lookup"><span data-stu-id="544ad-152">**Subsets of messages.**</span></span> <span data-ttu-id="544ad-153">In genere, i sottoscrittori sono interessati solo a subset dei messaggi distribuiti da un server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="544ad-153">Subscribers are usually only interested in subset of the messages distributed by a publisher.</span></span> <span data-ttu-id="544ad-154">I servizi di messaggistica spesso consentono ridurre il set di messaggi ricevuti tramite limitazioni per:</span><span class="sxs-lookup"><span data-stu-id="544ad-154">Messaging services often allow subscribers to narrow the set of messages received by:</span></span>

  - <span data-ttu-id="544ad-155">**Argomenti.**</span><span class="sxs-lookup"><span data-stu-id="544ad-155">**Topics.**</span></span> <span data-ttu-id="544ad-156">Ogni argomento ha un canale di output dedicato e ogni consumer può effettuare la sottoscrizione a tutti gli argomenti pertinenti.</span><span class="sxs-lookup"><span data-stu-id="544ad-156">Each topic has a dedicated output channel, and each consumer can subscribe to all relevant topics.</span></span>
  - <span data-ttu-id="544ad-157">**Filtri dei contenuti.**</span><span class="sxs-lookup"><span data-stu-id="544ad-157">**Content filtering.**</span></span> <span data-ttu-id="544ad-158">I messaggi vengono ispezionati e distribuiti in base al contenuto di ogni messaggio.</span><span class="sxs-lookup"><span data-stu-id="544ad-158">Messages are inspected and distributed based on the content of each message.</span></span> <span data-ttu-id="544ad-159">Ogni sottoscrittore può specificare il contenuto di suo interesse.</span><span class="sxs-lookup"><span data-stu-id="544ad-159">Each subscriber can specify the content it is interested in.</span></span>

- <span data-ttu-id="544ad-160">**Sottoscrizioni con caratteri jolly.**</span><span class="sxs-lookup"><span data-stu-id="544ad-160">**Wildcard subscribers.**</span></span> <span data-ttu-id="544ad-161">È possibile consentire ai sottoscrittori di effettuare la sottoscrizione a più argomenti tramite caratteri jolly.</span><span class="sxs-lookup"><span data-stu-id="544ad-161">Consider allowing subscribers to subscribe to multiple topics via wildcards.</span></span>

- <span data-ttu-id="544ad-162">**Comunicazioni bidirezionali.**</span><span class="sxs-lookup"><span data-stu-id="544ad-162">**Bi-directional communication.**</span></span> <span data-ttu-id="544ad-163">I canali in un sistema di pubblicazione/sottoscrizione sono considerati come unidirezionali.</span><span class="sxs-lookup"><span data-stu-id="544ad-163">The channels in a publish-subscribe system are treated as unidirectional.</span></span> <span data-ttu-id="544ad-164">Se uno specifico sottoscrittore deve inviare un riconoscimento o comunicare lo stato al server di pubblicazione, è consigliabile usare il [modello di richiesta/risposta](http://www.enterpriseintegrationpatterns.com/patterns/messaging/RequestReply.html).</span><span class="sxs-lookup"><span data-stu-id="544ad-164">If a specific subscriber needs to send acknowledgement or communicate status back to the publisher, consider using the [Request/Reply Pattern](http://www.enterpriseintegrationpatterns.com/patterns/messaging/RequestReply.html).</span></span> <span data-ttu-id="544ad-165">Questo modello usa un canale per inviare il messaggio al sottoscrittore e un canale di risposta separato per comunicare nuovamente con il server di pubblicazione.</span><span class="sxs-lookup"><span data-stu-id="544ad-165">This pattern uses one channel to send a message to the subscriber, and a separate reply channel for communicating back to the publisher.</span></span>

- <span data-ttu-id="544ad-166">**Ordinamento dei messaggi.**</span><span class="sxs-lookup"><span data-stu-id="544ad-166">**Message ordering.**</span></span> <span data-ttu-id="544ad-167">L'ordine in cui le istanze del consumer ricevono i messaggi non è garantito e non riflette necessariamente l'ordine di creazione dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="544ad-167">The order in which consumer instances receive messages isn't guaranteed, and doesn't necessarily reflect the order in which the messages were created.</span></span> <span data-ttu-id="544ad-168">Progettare il sistema in modo da assicurarsi che l'elaborazione dei messaggi sia idempotente, in modo da eliminare qualsiasi dipendenza rispetto all'ordine di gestione dei messaggi.</span><span class="sxs-lookup"><span data-stu-id="544ad-168">Design the system to ensure that message processing is idempotent to help eliminate any dependency on the order of message handling.</span></span>

- <span data-ttu-id="544ad-169">**Priorità dei messaggi.**</span><span class="sxs-lookup"><span data-stu-id="544ad-169">**Message priority.**</span></span> <span data-ttu-id="544ad-170">Alcune soluzioni potrebbero richiedere l'elaborazione dei messaggi in un ordine specifico.</span><span class="sxs-lookup"><span data-stu-id="544ad-170">Some solutions may require that messages are processed in a specific order.</span></span> <span data-ttu-id="544ad-171">Il [modello della coda di priorità](priority-queue.md) fornisce un meccanismo per garantire il recapito di messaggi specifici prima di altri.</span><span class="sxs-lookup"><span data-stu-id="544ad-171">The [Priority Queue pattern](priority-queue.md) provides a mechanism for ensuring specific messages are delivered before others.</span></span>

- <span data-ttu-id="544ad-172">**Messaggi non elaborabili.**</span><span class="sxs-lookup"><span data-stu-id="544ad-172">**Poison messages.**</span></span> <span data-ttu-id="544ad-173">Un messaggio in formato non valido o un'attività che richiede l'accesso a risorse non disponibili può causare un errore in un'istanza del servizio.</span><span class="sxs-lookup"><span data-stu-id="544ad-173">A malformed message, or a task that requires access to resources that aren't available, can cause a service instance to fail.</span></span> <span data-ttu-id="544ad-174">Il sistema deve impedire la restituzione di tali messaggi alla coda.</span><span class="sxs-lookup"><span data-stu-id="544ad-174">The system should prevent such messages being returned to the queue.</span></span> <span data-ttu-id="544ad-175">Acquisire e archiviare i dettagli di questi messaggi in un'altra posizione, in modo da poterli analizzare se necessario.</span><span class="sxs-lookup"><span data-stu-id="544ad-175">Instead, capture and store the details of these messages elsewhere so that they can be analyzed if necessary.</span></span>

- <span data-ttu-id="544ad-176">**Messaggi ripetuti.**</span><span class="sxs-lookup"><span data-stu-id="544ad-176">**Repeated messages.**</span></span> <span data-ttu-id="544ad-177">Lo stesso messaggio potrebbe essere inviato più volte.</span><span class="sxs-lookup"><span data-stu-id="544ad-177">The same message might be sent more than once.</span></span> <span data-ttu-id="544ad-178">Ad esempio, l'invio potrebbe non riuscire dopo la pubblicazione di un messaggio.</span><span class="sxs-lookup"><span data-stu-id="544ad-178">For example, the sender might fail after posting a message.</span></span> <span data-ttu-id="544ad-179">Potrebbe quindi avviarsi una nuova istanza del mittente, ripetendo il messaggio.</span><span class="sxs-lookup"><span data-stu-id="544ad-179">Then a new instance of the sender might start up and repeat the message.</span></span> <span data-ttu-id="544ad-180">L'infrastruttura di messaggistica deve implementare il rilevamento e la rimozione dei messaggi duplicati, nota anche come deduplicazione, in base ai loro ID per garantire che siano recapitati solo una volta.</span><span class="sxs-lookup"><span data-stu-id="544ad-180">The messaging infrastructure should implement duplicate message detection and removal (also known as de-duping) based on message IDs in order to provide at-most-once delivery of messages.</span></span>

- <span data-ttu-id="544ad-181">**Scadenza dei messaggi.**</span><span class="sxs-lookup"><span data-stu-id="544ad-181">**Message expiration.**</span></span> <span data-ttu-id="544ad-182">Un messaggio potrebbe avere una durata limitata.</span><span class="sxs-lookup"><span data-stu-id="544ad-182">A message might have a limited lifetime.</span></span> <span data-ttu-id="544ad-183">Se non viene elaborato entro questo periodo di tempo, potrebbe non essere più rilevante e deve essere eliminato.</span><span class="sxs-lookup"><span data-stu-id="544ad-183">If it isn't processed within this period, it might no longer be relevant and should be discarded.</span></span> <span data-ttu-id="544ad-184">Un mittente può specificare una scadenza come parte dei dati nel messaggio.</span><span class="sxs-lookup"><span data-stu-id="544ad-184">A sender can specify an experiation time as part of the data in the message.</span></span> <span data-ttu-id="544ad-185">Un ricevitore può esaminare queste informazioni prima di decidere se eseguire la logica di business associata al messaggio.</span><span class="sxs-lookup"><span data-stu-id="544ad-185">A receiver can examine this information before deciding whether to perform the business logic associated with the message.</span></span>

- <span data-ttu-id="544ad-186">**Pianificazione dei messaggi.**</span><span class="sxs-lookup"><span data-stu-id="544ad-186">**Message scheduling.**</span></span> <span data-ttu-id="544ad-187">Un messaggio potrebbe essere temporaneamente bloccato e non deve essere elaborato fino a una data e ora specifiche.</span><span class="sxs-lookup"><span data-stu-id="544ad-187">A message might be temporarily embargoed and should not be processed until a specific date and time.</span></span> <span data-ttu-id="544ad-188">Il messaggio non deve essere disponibile per un ricevitore fino a quel momento.</span><span class="sxs-lookup"><span data-stu-id="544ad-188">The message should not be available to a receiver until this time.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="544ad-189">Quando usare questo modello</span><span class="sxs-lookup"><span data-stu-id="544ad-189">When to use this pattern</span></span>

<span data-ttu-id="544ad-190">Usare questo modello quando:</span><span class="sxs-lookup"><span data-stu-id="544ad-190">Use this pattern when:</span></span>

- <span data-ttu-id="544ad-191">Un'applicazione deve trasmettere informazioni a un numero significativo di consumer.</span><span class="sxs-lookup"><span data-stu-id="544ad-191">An application needs to broadcast information to a significant number of consumers.</span></span>

- <span data-ttu-id="544ad-192">Un'applicazione deve comunicare con uno o più servizi o applicazioni sviluppate in modo indipendente, i quali potrebbero usare piattaforme, linguaggi di programmazione e protocolli di comunicazione diversi.</span><span class="sxs-lookup"><span data-stu-id="544ad-192">An application needs to communicate with one or more independently-developed applications or services, which may use different platforms, programming languages, and communication protocols.</span></span>

- <span data-ttu-id="544ad-193">Un'applicazione può inviare informazioni ai consumer senza richiedere risposte in tempo reale da parte di questi ultimi.</span><span class="sxs-lookup"><span data-stu-id="544ad-193">An application can send information to consumers without requiring real-time responses from the consumers.</span></span>

- <span data-ttu-id="544ad-194">I sistemi integrati sono progettati per supportare un modello di coerenza finale per i loro dati.</span><span class="sxs-lookup"><span data-stu-id="544ad-194">The systems being integrated are designed to support an eventual consistency model for their data.</span></span>

- <span data-ttu-id="544ad-195">Un'applicazione deve comunicare informazioni a più consumer, i quali possono avere requisiti di disponibilità o pianificazioni dei tempi di attività diverse rispetto al mittente.</span><span class="sxs-lookup"><span data-stu-id="544ad-195">An application needs to communicate information to multiple consumers, which may have different availability requirements or uptime schedules than the sender.</span></span>

<span data-ttu-id="544ad-196">Questo modello potrebbe non essere utile quando:</span><span class="sxs-lookup"><span data-stu-id="544ad-196">This pattern might not be useful when:</span></span>

- <span data-ttu-id="544ad-197">Un'applicazione ha solo pochi consumer che hanno bisogno di informazioni notevolmente diverse da parte dell'applicazione di produzione.</span><span class="sxs-lookup"><span data-stu-id="544ad-197">An application has only a few consumers who need significantly different information from the producing application.</span></span>

- <span data-ttu-id="544ad-198">Un'applicazione richiede un'interazione quasi in tempo reali con i consumer.</span><span class="sxs-lookup"><span data-stu-id="544ad-198">An application requires near real-time interaction with consumers.</span></span>

## <a name="example"></a><span data-ttu-id="544ad-199">Esempio</span><span class="sxs-lookup"><span data-stu-id="544ad-199">Example</span></span>

<span data-ttu-id="544ad-200">Il diagramma seguente mostra un'architettura di integrazione aziendale che usa il bus di servizio per il coordinamento dei flussi di lavoro, mentre la griglia di eventi invia notifiche ai sottosistemi relative agli eventi che si verificano.</span><span class="sxs-lookup"><span data-stu-id="544ad-200">The following diagram shows an enterprise integration architecture that uses Service Bus to coordinate workflows, and Event Grid notify subsystems of events that occur.</span></span> <span data-ttu-id="544ad-201">Per altre informazioni, consultare [Integrazione aziendale in Azure con code ed eventi di messaggi](../reference-architectures/enterprise-integration/queues-events.md).</span><span class="sxs-lookup"><span data-stu-id="544ad-201">For more information, see [Enterprise integration on Azure using message queues and events](../reference-architectures/enterprise-integration/queues-events.md).</span></span>

![Architettura di integrazione aziendale](../reference-architectures/enterprise-integration/_images/enterprise-integration-queues-events.png)

## <a name="related-patterns-and-guidance"></a><span data-ttu-id="544ad-203">Modelli correlati e informazioni aggiuntive</span><span class="sxs-lookup"><span data-stu-id="544ad-203">Related patterns and guidance</span></span>

<span data-ttu-id="544ad-204">Per l'implementazione di questo modello possono risultare utili i modelli e le informazioni aggiuntive seguenti:</span><span class="sxs-lookup"><span data-stu-id="544ad-204">The following patterns and guidance might be relevant when implementing this pattern:</span></span>

- <span data-ttu-id="544ad-205">[Scegliere tra i servizi di Azure che recapitano messaggi](/azure/event-grid/compare-messaging-services).</span><span class="sxs-lookup"><span data-stu-id="544ad-205">[Choose between Azure services that deliver messages](/azure/event-grid/compare-messaging-services).</span></span>

- <span data-ttu-id="544ad-206">Lo [stile di architettura guidato dagli eventi](../guide/architecture-styles/event-driven.md) è uno stile di architettura che usa la messaggistica pub/sub.</span><span class="sxs-lookup"><span data-stu-id="544ad-206">The [Event-driven architecture style](../guide/architecture-styles/event-driven.md) is an architecture style that uses pub/sub messaging.</span></span>

- <span data-ttu-id="544ad-207">[Introduzione alla messaggistica asincrona](https://msdn.microsoft.com/library/dn589781.aspx).</span><span class="sxs-lookup"><span data-stu-id="544ad-207">[Asynchronous Messaging Primer](https://msdn.microsoft.com/library/dn589781.aspx).</span></span> <span data-ttu-id="544ad-208">Le code di messaggi sono un meccanismo di comunicazione asincrona.</span><span class="sxs-lookup"><span data-stu-id="544ad-208">Message queues are an asynchronous communications mechanism.</span></span> <span data-ttu-id="544ad-209">Se un servizio consumer deve inviare una risposta a un'applicazione, può essere necessario implementare una forma di messaggistica di risposta.</span><span class="sxs-lookup"><span data-stu-id="544ad-209">If a consumer service needs to send a reply to an application, it might be necessary to implement some form of response messaging.</span></span> <span data-ttu-id="544ad-210">L'articolo Introduzione alla messaggistica asincrona contiene informazioni sull'implementazione della messaggistica di richiesta/risposta tramite code di messaggi.</span><span class="sxs-lookup"><span data-stu-id="544ad-210">The Asynchronous Messaging Primer provides information on how to implement request/reply messaging using message queues.</span></span>

- <span data-ttu-id="544ad-211">[Modello osservatore](https://en.wikipedia.org/wiki/Observer_pattern).</span><span class="sxs-lookup"><span data-stu-id="544ad-211">[Observer Pattern](https://en.wikipedia.org/wiki/Observer_pattern).</span></span> <span data-ttu-id="544ad-212">Il modello di pubblicazione/sottoscrizione si basa sul modello osservatore, separando i soggetti dagli osservatori tramite messaggistica asincrona.</span><span class="sxs-lookup"><span data-stu-id="544ad-212">The Publish-Subscribe pattern builds on the Observer pattern by decoupling subjects from observers via asynchronous messaging.</span></span>

- <span data-ttu-id="544ad-213">[Modello del broker di messaggi](https://en.wikipedia.org/wiki/Message_broker).</span><span class="sxs-lookup"><span data-stu-id="544ad-213">[Message Broker Pattern](https://en.wikipedia.org/wiki/Message_broker).</span></span> <span data-ttu-id="544ad-214">Molti sottosistemi di messaggistica che supportano il modello di pubblicazione/sottoscrizione sono implementati tramite un broker messaggi.</span><span class="sxs-lookup"><span data-stu-id="544ad-214">Many messaging subsystems that support a publish-subscribe modek are implemented via a message broker.</span></span>
