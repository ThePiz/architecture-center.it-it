---
title: Modello sidecar
description: Distribuire i componenti di un'applicazione in un processo o in un contenitore separato per fornire isolamento e incapsulamento.
author: dragon119
ms.date: 06/23/2017
ms.openlocfilehash: ec168009aa99f412c3f1222a1c404ea4ea5cb669
ms.sourcegitcommit: b0482d49aab0526be386837702e7724c61232c60
ms.translationtype: HT
ms.contentlocale: it-IT
ms.lasthandoff: 11/14/2017
---
# <a name="sidecar-pattern"></a><span data-ttu-id="9fd6d-103">Modello sidecar</span><span class="sxs-lookup"><span data-stu-id="9fd6d-103">Sidecar pattern</span></span>

<span data-ttu-id="9fd6d-104">Distribuire i componenti di un'applicazione in un processo o in un contenitore separato per fornire isolamento e incapsulamento.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-104">Deploy components of an application into a separate process or container to provide isolation and encapsulation.</span></span> <span data-ttu-id="9fd6d-105">Questo modello può anche abilitare le applicazioni affinché siano composte da componenti e tecnologie eterogenei.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-105">This pattern can also enable applications to be composed of heterogeneous components and technologies.</span></span>

<span data-ttu-id="9fd6d-106">Questo modello viene denominato *sidecar* perché è simile a un sidecar collegato a una moto.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-106">This pattern is named *Sidecar* because it resembles a sidecar attached to a motorcycle.</span></span> <span data-ttu-id="9fd6d-107">Nel modello il sidecar è collegato a un'applicazione padre e offre funzionalità di supporto per l'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-107">In the pattern, the sidecar is attached to a parent application and provides supporting features for the application.</span></span> <span data-ttu-id="9fd6d-108">Il sidecar condivide anche lo stesso ciclo di vita dell'applicazione padre, poiché viene creato e ritirato insieme al padre.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-108">The sidecar also shares the same lifecycle as the parent application, being created and retired alongside the parent.</span></span> <span data-ttu-id="9fd6d-109">Il modello sidecar viene talvolta definito modello sidekick ed è un modello di scomposizione.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-109">The sidecar pattern is sometimes referred to as the sidekick pattern and is a decomposition pattern.</span></span>

## <a name="context-and-problem"></a><span data-ttu-id="9fd6d-110">Contesto e problema</span><span class="sxs-lookup"><span data-stu-id="9fd6d-110">Context and Problem</span></span>

<span data-ttu-id="9fd6d-111">Le applicazioni e i servizi richiedono spesso funzionalità correlate, quali il monitoraggio, la registrazione, la configurazione e i servizi di rete.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-111">Applications and services often require related functionality, such as monitoring, logging, configuration, and networking services.</span></span> <span data-ttu-id="9fd6d-112">Queste attività periferiche possono essere implementate come componenti o servizi separati.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-112">These peripheral tasks can be implemented as separate components or services.</span></span> 

<span data-ttu-id="9fd6d-113">Se sono strettamente integrate nell'applicazione, possono essere eseguite nello stesso processo dell'applicazione, usando in modo efficiente le risorse condivise.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-113">If they are tightly integrated into the application, they can run in the same process as the application, making efficient use of shared resources.</span></span> <span data-ttu-id="9fd6d-114">Tuttavia, questo significa anche che non sono del tutto isolate e un'interruzione in uno di questi componenti può influenzare gli altri componenti o l'intera applicazione.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-114">However, this also means they are not well isolated, and an outage in one of these components can affect other components or the entire application.</span></span> <span data-ttu-id="9fd6d-115">Per di più, di solito devono essere implementati usando lo stesso linguaggio dell'applicazione padre.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-115">Also, they usually need to be implemented using the same language as the parent application.</span></span> <span data-ttu-id="9fd6d-116">Di conseguenza, il componente e l'applicazione presentano una forte interdipendenza.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-116">As a result, the component and the application have close interdependence on each other.</span></span>

<span data-ttu-id="9fd6d-117">Se l'applicazione viene scomposta in servizi, ciascun servizio può essere compilato usando diversi linguaggi e tecnologie.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-117">If the application is decomposed into services, then each service can be built using different languages and technologies.</span></span> <span data-ttu-id="9fd6d-118">Sebbene questo offra una maggiore flessibilità, significa che ogni componente ha dipendenze proprie e richiede librerie specifiche della lingua per accedere alla piattaforma sottostante e a tutte le risorse condivise con l'applicazione padre.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-118">While this gives more flexibility, it means that each component has its own dependencies and requires language-specific libraries to access the underlying platform and any resources shared with the parent application.</span></span> <span data-ttu-id="9fd6d-119">In aggiunta, la distribuzione di queste funzionalità come servizi separati può aggiungere latenza all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-119">In addition, deploying these features as separate services can add latency to the application.</span></span> <span data-ttu-id="9fd6d-120">La gestione del codice e delle dipendenze per queste interfacce specifiche della lingua può anche aggiungere una considerevole complessità, soprattutto per quanto riguarda l'hosting, la distribuzione e la gestione.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-120">Managing the code and dependencies for these language-specific interfaces can also add considerable complexity, especially for hosting, deployment, and management.</span></span>

## <a name="solution"></a><span data-ttu-id="9fd6d-121">Soluzione</span><span class="sxs-lookup"><span data-stu-id="9fd6d-121">Solution</span></span>

<span data-ttu-id="9fd6d-122">Posizionare un insieme di attività coerenti con l'applicazione principale, ma inserirle nel proprio processo o contenitore, offrendo un'interfaccia omogenea per i servizi della piattaforma tra i diversi linguaggi.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-122">Co-locate a cohesive set of tasks with the primary application, but place them inside their own process or container, providing a homogeneous interface for platform services across languages.</span></span> 

![](./_images/sidecar.png)

<span data-ttu-id="9fd6d-123">Un servizio sidecar non fa necessariamente parte dell'applicazione, ma è connesso a questa.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-123">A sidecar service is not necessarily part of the application, but is connected to it.</span></span> <span data-ttu-id="9fd6d-124">Si sposta insieme all'applicazione.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-124">It goes wherever the parent application goes.</span></span> <span data-ttu-id="9fd6d-125">I sidecar sono processi o servizi di supporto distribuiti con l'applicazione principale.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-125">Sidecars are supporting processes or services that are deployed with the primary application.</span></span> <span data-ttu-id="9fd6d-126">Su una motocicletta, il sidecar è collegato a questa e ogni motocicletta può avere il proprio sidecar.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-126">On a motorcycle, the sidecar is attached to one motorcycle, and each motorcycle can have its own sidecar.</span></span> <span data-ttu-id="9fd6d-127">Allo stesso modo, un servizio sidecar condivide il destino dell'applicazione padre.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-127">In the same way, a sidecar service shares the fate of its parent application.</span></span> <span data-ttu-id="9fd6d-128">Per ogni istanza dell'applicazione, viene distribuita un'istanza del sidecar, ospitata con essa.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-128">For each instance of the application, an instance of the sidecar is deployed and hosted alongside it.</span></span> 

<span data-ttu-id="9fd6d-129">I vantaggi dell'uso di un modello sidecar includono:</span><span class="sxs-lookup"><span data-stu-id="9fd6d-129">Advantages of using a sidecar pattern include:</span></span>

- <span data-ttu-id="9fd6d-130">Un sidecar è indipendente dall'applicazione principale in termini di ambiente di runtime e linguaggio di programmazione, pertanto non è necessario sviluppare un sidecar per ogni lingua.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-130">A sidecar is independent from its primary application in terms of runtime environment and programming language, so you don't need to develop one sidecar per language.</span></span> 

- <span data-ttu-id="9fd6d-131">Il sidecar può accedere alle stesse risorse dell'applicazione principale.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-131">The sidecar can access the same resources as the primary application.</span></span> <span data-ttu-id="9fd6d-132">Ad esempio, un sidecar può monitorare le risorse di sistema usate sia dal sidecar che dall'applicazione principale.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-132">For example, a sidecar can monitor system resources used by both the sidecar and the primary application.</span></span> 

- <span data-ttu-id="9fd6d-133">A causa della vicinanza all'applicazione principale, non c'è una latenza significativa durante la comunicazione tra di essi.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-133">Because of its proximity to the primary application, there’s no significant latency when communicating between them.</span></span>

- <span data-ttu-id="9fd6d-134">Anche per le applicazioni che non offrono un meccanismo di estensibilità, è possibile usare un sidecar per estendere le funzionalità collegandolo come processo autonomo nello stesso host o sottocontenitore dell'applicazione principale.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-134">Even for applications that don’t provide an extensibility mechanism, you can use a sidecar to extend functionality by attaching it as own process in the same host or sub-container as the primary application.</span></span>

<span data-ttu-id="9fd6d-135">Il modello sidecar viene spesso usato con i contenitori e definito come contenitore sidecar o sidekick.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-135">The sidecar pattern is often used with containers and referred to as a sidecar container or sidekick container.</span></span> 

## <a name="issues-and-considerations"></a><span data-ttu-id="9fd6d-136">Considerazioni e problemi</span><span class="sxs-lookup"><span data-stu-id="9fd6d-136">Issues and Considerations</span></span>

- <span data-ttu-id="9fd6d-137">Prendere in considerazione il formato della distribuzione e dei pacchetti che si userà per distribuire servizi, processi o contenitori.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-137">Consider the deployment and packaging format you will use to deploy services, processes, or containers.</span></span> <span data-ttu-id="9fd6d-138">I contenitori sono particolarmente adatti al modello sidecar.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-138">Containers are particularly well suited to the sidecar pattern.</span></span>
- <span data-ttu-id="9fd6d-139">Quando si progetta un servizio sidecar, scegliere con attenzione il meccanismo di comunicazione interprocesso.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-139">When designing a sidecar service, carefully decide on the interprocess communication mechanism.</span></span> <span data-ttu-id="9fd6d-140">Provare a usare le tecnologie indipendenti dal linguaggio o dal framework, a meno che i requisiti delle prestazioni lo impediscano.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-140">Try to use language- or framework-agnostic technologies unless performance requirements make that impractical.</span></span>
- <span data-ttu-id="9fd6d-141">Prima di inserire le funzionalità in un sidecar, valutare se funzionerà meglio come servizio separato o come un daemon più tradizionale.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-141">Before putting functionality into a sidecar, consider whether it would work better as a separate service or a more traditional daemon.</span></span>
- <span data-ttu-id="9fd6d-142">Valutare anche se la funzionalità potrebbe essere implementata come libreria o mediante un meccanismo di estensione tradizionale.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-142">Also consider whether the functionality could be implemented as a library or using a traditional extension mechanism.</span></span> <span data-ttu-id="9fd6d-143">Le librerie specifiche della lingua possono avere un livello di integrazione più approfondito e un minore sovraccarico di rete.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-143">Language-specific libraries may have a deeper level of integration and less network overhead.</span></span>

## <a name="when-to-use-this-pattern"></a><span data-ttu-id="9fd6d-144">Quando usare questo modello</span><span class="sxs-lookup"><span data-stu-id="9fd6d-144">When to Use this Pattern</span></span>

<span data-ttu-id="9fd6d-145">Usare questo modello quando:</span><span class="sxs-lookup"><span data-stu-id="9fd6d-145">Use this pattern when:</span></span>

- <span data-ttu-id="9fd6d-146">L'applicazione principale usa un set eterogeneo di linguaggi e framework.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-146">Your primary application uses a heterogenous set of languages and frameworks.</span></span> <span data-ttu-id="9fd6d-147">Un componente che si trova in un servizio sidecar può essere usato dalle applicazioni scritte in linguaggi diversi tramite framework diversi.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-147">A component located in a sidecar service can be consumed by applications written in different languages using different frameworks.</span></span>
- <span data-ttu-id="9fd6d-148">Il componente appartiene a un team remoto o a un'altra organizzazione.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-148">A component is owned by a remote team or a different organization.</span></span>
- <span data-ttu-id="9fd6d-149">Il componente o la funzionalità devono essere posizionati nello stesso host dell'applicazione</span><span class="sxs-lookup"><span data-stu-id="9fd6d-149">A component or feature must be co-located on the same host as the application</span></span>
- <span data-ttu-id="9fd6d-150">È necessario un servizio che condivida il ciclo di vita completo dell'applicazione principale, ma che può essere aggiornato in modo indipendente.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-150">You need a service that shares the overall lifecycle of your main application, but can be independently updated.</span></span>
- <span data-ttu-id="9fd6d-151">È necessario un controllo con granularità fine dei limiti delle risorse per una risorsa o un componente specifico.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-151">You need fine-grained control over resource limits for a particular resource or component.</span></span> <span data-ttu-id="9fd6d-152">Potrebbe, ad esempio, essere necessario limitare la quantità di memoria che viene usata da un componente specifico.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-152">For example, you may want to restrict the amount of memory a specific component uses.</span></span> <span data-ttu-id="9fd6d-153">È possibile distribuire il componente come un sidecar e gestire l'uso della memoria in modo indipendente dall'applicazione principale.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-153">You can deploy the component as a sidecar and manage memory usage independently of the main application.</span></span>

<span data-ttu-id="9fd6d-154">Questo modello potrebbe non essere adatto:</span><span class="sxs-lookup"><span data-stu-id="9fd6d-154">This pattern may not be suitable:</span></span>

- <span data-ttu-id="9fd6d-155">Quando la comunicazione interprocesso deve essere ottimizzata.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-155">When interprocess communication needs to be optimized.</span></span> <span data-ttu-id="9fd6d-156">La comunicazione tra un'applicazione padre e i servizi sidecar include un certo sovraccarico, in particolare la latenza nelle chiamate.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-156">Communication between a parent application and sidecar services includes some overhead, notably latency in the calls.</span></span> <span data-ttu-id="9fd6d-157">Questo potrebbe non essere un compromesso accettabile per le interfacce "frammentate".</span><span class="sxs-lookup"><span data-stu-id="9fd6d-157">This may not be an acceptable trade-off for chatty interfaces.</span></span>
- <span data-ttu-id="9fd6d-158">Per applicazioni di piccole dimensioni in cui il costo della risorsa di distribuzione di un sidecar per ogni istanza non vale il vantaggio dell'isolamento.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-158">For small applications where the resource cost of deploying a sidecar service for each instance is not worth the advantage of isolation.</span></span>
- <span data-ttu-id="9fd6d-159">Quando il servizio deve essere ridimensionato in modo diverso o in modo indipendente dalle applicazioni principali.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-159">When the service needs to scale differently than or independently from the main applications.</span></span> <span data-ttu-id="9fd6d-160">In questo caso, potrebbe essere preferibile distribuire la funzionalità come un servizio separato.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-160">If so, it may be better to deploy the feature as a separate service.</span></span>

## <a name="example"></a><span data-ttu-id="9fd6d-161">Esempio</span><span class="sxs-lookup"><span data-stu-id="9fd6d-161">Example</span></span>

<span data-ttu-id="9fd6d-162">Il modello sidecar viene applicato a molti tipi di scenario.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-162">The sidecar pattern is applicable to many scenarios.</span></span> <span data-ttu-id="9fd6d-163">Alcuni esempi comuni includono:</span><span class="sxs-lookup"><span data-stu-id="9fd6d-163">Some common examples:</span></span>

- <span data-ttu-id="9fd6d-164">Infrastruttura API.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-164">Infrastructure API.</span></span> <span data-ttu-id="9fd6d-165">Il team di sviluppo dell'infrastruttura crea un servizio che viene distribuito insieme a ogni applicazione, invece di una libreria client specifica della lingua che deve accedere all'infrastruttura.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-165">The infrastructure development team creates a service that's deployed alongside each application, instead of a language-specific client library to access the infrastructure.</span></span> <span data-ttu-id="9fd6d-166">Il servizio viene caricato come sidecar e offre un livello comune per i servizi dell'infrastruttura, che include la registrazione, i dati di ambiente, l'archivio di configurazione, l'individuazione, i controlli di integrità e i servizi watchdog.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-166">The service is loaded as a sidecar and provides a common layer for infrastructure services, including logging, environment data, configuration store, discovery, health checks, and watchdog services.</span></span> <span data-ttu-id="9fd6d-167">Il sidecar consente anche di monitorare l'ambiente e il processo, o il contenitore, host dell'applicazione padre e registra le informazioni di un servizio centralizzato.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-167">The sidecar also monitors the parent application's host environment and process (or container) and logs the information to a centralized service.</span></span>
- <span data-ttu-id="9fd6d-168">Gestire NGINX/HAProxy.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-168">Manage NGINX/HAProxy.</span></span> <span data-ttu-id="9fd6d-169">Distribuire NGINX con un servizio sidecar che consente di monitorare lo stato di ambiente, quindi aggiorna il file di configurazione NGINX e ricicla il processo quando è necessaria una modifica nello stato.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-169">Deploy NGINX with a sidecar service that monitors environment state, then updates the NGINX configuration file and recycles the process when a change in state is needed.</span></span>
- <span data-ttu-id="9fd6d-170">Sidecar ambasciatore.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-170">Ambassador sidecar.</span></span> <span data-ttu-id="9fd6d-171">Distribuire un servizio [ambasciatore][ambassador] come un sidecar.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-171">Deploy an [ambassador][ambassador] service as a sidecar.</span></span> <span data-ttu-id="9fd6d-172">L'applicazione chiama tramite l'ambasciatore, che gestisce la registrazione della richiesta, il routing, l'interruzione del circuito e altre funzionalità correlate alla connettività.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-172">The application calls through the ambassador, which handles request logging, routing, circuit breaking, and other connectivity related features.</span></span>
- <span data-ttu-id="9fd6d-173">Proxy offload.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-173">Offload proxy.</span></span> <span data-ttu-id="9fd6d-174">Posizionare un proxy NGINX davanti a un'istanza del servizio node.js, per gestire l'invio del contenuto del file statico per il servizio.</span><span class="sxs-lookup"><span data-stu-id="9fd6d-174">Place an NGINX proxy in front of a node.js service instance, to handle serving static file content for the service.</span></span>


## <a name="related-guidance"></a><span data-ttu-id="9fd6d-175">Informazioni correlate</span><span class="sxs-lookup"><span data-stu-id="9fd6d-175">Related guidance</span></span>

- <span data-ttu-id="9fd6d-176">[Ambassador pattern][ambassador] (Modello ambasciatore)</span><span class="sxs-lookup"><span data-stu-id="9fd6d-176">[Ambassador pattern][ambassador]</span></span>


[ambassador]: ./ambassador.md

